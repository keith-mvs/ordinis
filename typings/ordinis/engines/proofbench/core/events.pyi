"""
This type stub file was generated by pyright.
"""

from dataclasses import dataclass
from datetime import datetime
from enum import Enum
from typing import Any

"""Event-driven simulation core.

Provides event types, event data structures, and priority queue for backtesting.
"""
class EventType(Enum):
    """Types of events in the simulation."""
    MARKET_OPEN = ...
    MARKET_CLOSE = ...
    BAR_UPDATE = ...
    SIGNAL = ...
    ORDER_SUBMIT = ...
    ORDER_FILL = ...
    ORDER_CANCEL = ...
    POSITION_UPDATE = ...
    RISK_CHECK = ...
    EOD_SETTLEMENT = ...


@dataclass
class Event:
    """Simulation event with timestamp, type, and priority.

    Events are ordered first by timestamp, then by priority (lower = higher priority).
    This ensures deterministic event ordering in the simulation.

    Attributes:
        timestamp: When the event occurs
        event_type: Type of event
        data: Event-specific data payload
        priority: Event priority for same-timestamp events (default: 0)
    """
    timestamp: datetime
    event_type: EventType
    data: dict[str, Any]
    priority: int = ...
    def __lt__(self, other: Event) -> bool:
        """Compare events for priority queue ordering.

        Events are ordered by timestamp first, then priority.
        Lower priority values have higher priority.
        """
        ...
    
    def __le__(self, other: Event) -> bool:
        """Less than or equal comparison."""
        ...
    
    def __gt__(self, other: Event) -> bool:
        """Greater than comparison."""
        ...
    
    def __ge__(self, other: Event) -> bool:
        """Greater than or equal comparison."""
        ...
    


class EventQueue:
    """Priority queue for simulation events.

    Events are automatically ordered by timestamp and priority.
    Uses Python's heapq for efficient O(log n) push/pop operations.
    """
    def __init__(self) -> None:
        """Initialize empty event queue."""
        ...
    
    def push(self, event: Event) -> None:
        """Add event to the queue.

        Args:
            event: Event to add
        """
        ...
    
    def pop(self) -> Event | None:
        """Remove and return the next event.

        Returns:
            Next event in chronological order, or None if queue is empty
        """
        ...
    
    def peek(self) -> Event | None:
        """View the next event without removing it.

        Returns:
            Next event in chronological order, or None if queue is empty
        """
        ...
    
    def is_empty(self) -> bool:
        """Check if queue is empty.

        Returns:
            True if queue has no events
        """
        ...
    
    def size(self) -> int:
        """Get number of events in queue.

        Returns:
            Number of events
        """
        ...
    
    def clear(self) -> None:
        """Remove all events from the queue."""
        ...
    


