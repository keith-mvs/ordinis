"""
This type stub file was generated by pyright.
"""

import optuna
import pandas as pd
from dataclasses import dataclass
from pathlib import Path
from typing import Any, Dict, Optional

"""Optimizer utility for running hyperparameter optimization over backtests.

Uses Optuna to run iterative search over strategy parameters. Intended for quick
MVP integration with model-level backtests (e.g., ATR-Optimized-RSI).
"""
OPTUNA_AVAILABLE = ...
ARTIFACTS_DIR = ...
@dataclass
class OptimizerConfig:
    trials: int = ...
    seed: int | None = ...
    metric: str = ...
    direction: str = ...


class BacktestOptimizer:
    def __init__(self, df: pd.DataFrame, config: OptimizerConfig | None = ...) -> None:
        ...
    
    def run(self, n_trials: Optional[int] = ..., sampler: Optional[optuna.samplers.BaseSampler] = ...) -> optuna.Study:
        ...
    
    def save(self, study: optuna.Study | None = ...) -> Path:
        ...
    


def optimize_from_config(df: pd.DataFrame, cfg: dict[str, Any]) -> Dict[str, Any]:
    ...

def run_best_backtest_from_study(study_path: str, df: pd.DataFrame) -> dict:
    """Load a study JSON saved by `save` and run a backtest with the best params."""
    ...

if __name__ == "__main__":
    parser = ...
    args = ...
    df = ...
    res = ...
