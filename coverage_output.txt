============================= test session starts =============================
platform win32 -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\kjfle\.conda\envs\ordinis-dev-1\python.exe
cachedir: .pytest_cache
hypothesis profile 'default'
rootdir: C:\Users\kjfle\Workspace\ordinis
configfile: pyproject.toml
testpaths: tests
plugins: anyio-4.12.0, dash-3.3.0, hypothesis-6.148.7, langsmith-0.4.59, asyncio-1.3.0, cov-7.0.0, mock-3.15.1, timeout-2.4.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 3945 items / 1 skipped

tests/integration/test_analytics_pipeline.py::TestAnalyticsPipeline::test_sma_crossover_to_analytics SKIPPED [  0%]
tests/integration/test_analytics_pipeline.py::TestAnalyticsPipeline::test_multiple_trades_analytics SKIPPED [  0%]
tests/integration/test_analytics_pipeline.py::TestAnalyticsPipeline::test_risk_guard_position_sizing SKIPPED [  0%]
tests/integration/test_backtest_workflow.py::TestBacktestWorkflow::test_complete_workflow_rsi_strategy SKIPPED [  0%]
tests/integration/test_backtest_workflow.py::TestBacktestWorkflow::test_complete_workflow_ma_strategy PASSED [  0%]
tests/integration/test_backtest_workflow.py::TestBacktestWorkflow::test_complete_workflow_momentum_strategy PASSED [  0%]
tests/integration/test_backtest_workflow.py::TestBacktestWorkflow::test_workflow_with_insufficient_data PASSED [  0%]
tests/integration/test_backtest_workflow.py::TestBacktestWorkflow::test_workflow_with_multiple_signals PASSED [  0%]
tests/integration/test_backtest_workflow.py::TestBacktestWorkflow::test_workflow_with_custom_parameters PASSED [  0%]
tests/integration/test_backtest_workflow.py::TestDataLoadingIntegration::test_load_data_and_run_backtest PASSED [  0%]
tests/integration/test_backtest_workflow.py::TestDataLoadingIntegration::test_load_data_with_different_formats PASSED [  0%]
tests/integration/test_backtest_workflow.py::TestErrorHandling::test_invalid_strategy_name PASSED [  0%]
tests/integration/test_backtest_workflow.py::TestErrorHandling::test_missing_data_columns PASSED [  0%]
tests/integration/test_backtest_workflow.py::TestErrorHandling::test_empty_data_file PASSED [  0%]
tests/integration/test_backtest_workflow.py::TestPerformanceMetrics::test_metrics_calculation SKIPPED [  0%]
tests/integration/test_backtest_workflow.py::TestPerformanceMetrics::test_metrics_values_reasonable PASSED [  0%]
tests/integration/test_futures_cycle.py::TestFuturesTrading::test_futures_execution_and_portfolio_update PASSED [  0%]
tests/test_adapters/test_alerting/test_desktop.py::TestAlertSounds::test_alert_sounds_defined PASSED [  0%]
tests/test_adapters/test_alerting/test_desktop.py::TestAlertSounds::test_info_no_sound PASSED [  0%]
tests/test_adapters/test_alerting/test_desktop.py::TestAlertSounds::test_severity_frequencies PASSED [  0%]
tests/test_adapters/test_alerting/test_desktop.py::TestDesktopNotifierInit::test_init_defaults PASSED [  0%]
tests/test_adapters/test_alerting/test_desktop.py::TestDesktopNotifierInit::test_init_custom_values PASSED [  0%]
tests/test_adapters/test_alerting/test_desktop.py::TestDesktopNotifierDependencies::test_check_dependencies_plyer_available PASSED [  0%]
tests/test_adapters/test_alerting/test_desktop.py::TestDesktopNotifierDependencies::test_check_dependencies_plyer_not_available PASSED [  0%]
tests/test_adapters/test_alerting/test_desktop.py::TestDesktopNotifierDependencies::test_check_dependencies_winsound_on_windows PASSED [  0%]
tests/test_adapters/test_alerting/test_desktop.py::TestDesktopNotifierSendNotification::test_send_notification_attributes PASSED [  0%]
tests/test_adapters/test_alerting/test_desktop.py::TestDesktopNotifierStatus::test_get_status_keys PASSED [  0%]
tests/test_adapters/test_alerting/test_desktop.py::TestDesktopNotifierStatus::test_get_status_includes_app_name PASSED [  0%]
tests/test_adapters/test_alerting/test_manager.py::TestAlertSeverity::test_severity_levels PASSED [  0%]
tests/test_adapters/test_alerting/test_manager.py::TestAlertSeverity::test_severity_count PASSED [  0%]
tests/test_adapters/test_alerting/test_manager.py::TestAlertType::test_alert_types PASSED [  0%]
tests/test_adapters/test_alerting/test_manager.py::TestAlertType::test_alert_type_count PASSED [  0%]
tests/test_adapters/test_alerting/test_manager.py::TestAlert::test_create_alert_basic PASSED [  0%]
tests/test_adapters/test_alerting/test_manager.py::TestAlert::test_alert_default_timestamp PASSED [  0%]
tests/test_adapters/test_alerting/test_manager.py::TestAlert::test_alert_default_metadata PASSED [  0%]
tests/test_adapters/test_alerting/test_manager.py::TestAlert::test_alert_with_metadata PASSED [  0%]
tests/test_adapters/test_alerting/test_manager.py::TestAlert::test_alert_to_dict PASSED [  0%]
tests/test_adapters/test_alerting/test_manager.py::TestAlertChannel::test_channel_basic PASSED [  0%]
tests/test_adapters/test_alerting/test_manager.py::TestAlertChannel::test_channel_with_func PASSED [  0%]
tests/test_adapters/test_alerting/test_manager.py::TestAlertChannel::test_channel_disabled PASSED [  1%]
tests/test_adapters/test_alerting/test_manager.py::TestAlertManager::test_init_default_params PASSED [  1%]
tests/test_adapters/test_alerting/test_manager.py::TestAlertManager::test_init_custom_params PASSED [  1%]
tests/test_adapters/test_alerting/test_manager.py::TestAlertManager::test_register_channel PASSED [  1%]
tests/test_adapters/test_alerting/test_manager.py::TestAlertManager::test_register_multiple_channels PASSED [  1%]
tests/test_adapters/test_alerting/test_manager.py::TestAlertManager::test_disable_channel PASSED [  1%]
tests/test_adapters/test_alerting/test_manager.py::TestAlertManager::test_enable_channel PASSED [  1%]
tests/test_adapters/test_alerting/test_manager.py::TestAlertManager::test_disable_nonexistent_channel PASSED [  1%]
tests/test_adapters/test_alerting/test_manager.py::TestAlertManager::test_enable_nonexistent_channel PASSED [  1%]
tests/test_adapters/test_caching/test_cache_protocol.py::TestCacheConfig::test_default_values PASSED [  1%]
tests/test_adapters/test_caching/test_cache_protocol.py::TestCacheConfig::test_custom_values PASSED [  1%]
tests/test_adapters/test_caching/test_cache_protocol.py::TestCacheConfigGetTtl::test_get_ttl_quote PASSED [  1%]
tests/test_adapters/test_caching/test_cache_protocol.py::TestCacheConfigGetTtl::test_get_ttl_historical_daily PASSED [  1%]
tests/test_adapters/test_caching/test_cache_protocol.py::TestCacheConfigGetTtl::test_get_ttl_historical_intraday PASSED [  1%]
tests/test_adapters/test_caching/test_cache_protocol.py::TestCacheConfigGetTtl::test_get_ttl_company_info PASSED [  1%]
tests/test_adapters/test_caching/test_cache_protocol.py::TestCacheConfigGetTtl::test_get_ttl_news PASSED [  1%]
tests/test_adapters/test_caching/test_cache_protocol.py::TestCacheConfigGetTtl::test_get_ttl_unknown_type_returns_quote_ttl PASSED [  1%]
tests/test_adapters/test_caching/test_cache_protocol.py::TestCacheConfigGetTtl::test_get_ttl_empty_string_returns_quote_ttl PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_initialization PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_initialize_delegates PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_shutdown_delegates PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_health_check_delegates PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_get_quote_caches_result PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_get_quote_different_symbols PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_get_historical_caches_result PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_get_historical_different_params PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_get_historical_intraday_ttl PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_validate_symbol_caches PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_invalidate_symbol PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_invalidate_all PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_get_cache_stats PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_make_key PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_make_historical_key PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_get_historical_ttl_daily PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_get_historical_ttl_intraday PASSED [  1%]
tests/test_adapters/test_caching/test_cached_data_plugin.py::TestCachedDataPlugin::test_symbol_case_insensitive PASSED [  1%]
tests/test_adapters/test_caching/test_memory_cache.py::TestCacheConfig::test_default_values PASSED [  1%]
tests/test_adapters/test_caching/test_memory_cache.py::TestCacheConfig::test_custom_values PASSED [  1%]
tests/test_adapters/test_caching/test_memory_cache.py::TestCacheConfig::test_get_ttl_for_data_type PASSED [  1%]
tests/test_adapters/test_caching/test_memory_cache.py::TestCacheEntry::test_creation PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_set_and_get PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_get_missing_key PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_ttl_expiration PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_delete PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_exists PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_exists_expired PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_clear PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_clear_pattern PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_clear_pattern_symbol PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_clear_expired PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_max_entries_eviction PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_update_existing_key PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_stats PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_disabled_cache_set PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_disabled_cache_exists PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_get_many PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_set_many PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_complex_values PASSED [  2%]
tests/test_adapters/test_caching/test_memory_cache.py::TestMemoryCache::test_concurrent_access PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestProviderStats::test_default_values PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestProviderStats::test_success_rate_zero_requests PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestProviderStats::test_success_rate_calculation PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestProviderStats::test_avg_latency_zero_success PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestProviderStats::test_avg_latency_calculation PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestProviderResult::test_success_result PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestProviderResult::test_failure_result PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestAggregatedQuote::test_source_summary PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestAggregationConfig::test_default_values PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestAggregationConfig::test_custom_values PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorInit::test_init_no_providers PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorInit::test_init_with_providers PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorInit::test_add_provider PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorInit::test_remove_provider PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorLifecycle::test_initialize_success PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorLifecycle::test_initialize_no_providers PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorLifecycle::test_initialize_below_min_providers PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorLifecycle::test_shutdown PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorLifecycle::test_health_check PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorQuotes::test_get_quote_median PASSED [  2%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorQuotes::test_get_quote_mean PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorQuotes::test_get_quote_min PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorQuotes::test_get_quote_max PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorQuotes::test_get_quote_weighted_mean PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorQuotes::test_get_quote_trimmed_mean PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorOutlierDetection::test_outlier_excluded PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorOutlierDetection::test_outlier_detection_disabled PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorFailureHandling::test_partial_provider_failure PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorFailureHandling::test_all_providers_fail PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorFailureHandling::test_disabled_provider_not_used PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorHistorical::test_get_historical_success PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorHistorical::test_get_historical_falls_back PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorHistorical::test_get_historical_all_fail PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorValidation::test_validate_symbol_exists PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorValidation::test_validate_symbol_not_exists PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorConfidence::test_confidence_increases_with_providers PASSED [  3%]
tests/test_adapters/test_market_data/test_aggregator.py::TestDataAggregatorConfidence::test_confidence_higher_with_agreement PASSED [  3%]
tests/test_adapters/test_market_data/test_alphavantage.py::TestAlphaVantageDataPluginAttributes::test_class_attributes PASSED [  3%]
tests/test_adapters/test_market_data/test_alphavantage.py::TestAlphaVantageDataPluginAttributes::test_base_url PASSED [  3%]
tests/test_adapters/test_market_data/test_alphavantage.py::TestAlphaVantageDataPluginInit::test_init PASSED [  3%]
tests/test_adapters/test_market_data/test_alphavantage.py::TestAlphaVantageDataPluginInit::test_initialize_success PASSED [  3%]
tests/test_adapters/test_market_data/test_alphavantage.py::TestAlphaVantageDataPluginInit::test_initialize_api_error PASSED [  3%]
tests/test_adapters/test_market_data/test_alphavantage.py::TestAlphaVantageDataPluginInit::test_initialize_exception PASSED [  3%]
tests/test_adapters/test_market_data/test_alphavantage.py::TestAlphaVantageDataPluginInit::test_shutdown PASSED [  3%]
tests/test_adapters/test_market_data/test_alphavantage.py::TestAlphaVantageDataPluginQuote::test_get_quote_success PASSED [  3%]
tests/test_adapters/test_market_data/test_alphavantage.py::TestAlphaVantageDataPluginQuote::test_get_quote_empty_response PASSED [  3%]
tests/test_adapters/test_market_data/test_alphavantage.py::TestAlphaVantageDataPluginHistorical::test_get_historical_daily PASSED [  3%]
tests/test_adapters/test_market_data/test_alphavantage.py::TestAlphaVantageDataPluginHistorical::test_get_historical_intraday PASSED [  3%]
tests/test_adapters/test_market_data/test_alphavantage.py::TestAlphaVantageDataPluginHistorical::test_get_historical_empty PASSED [  3%]
tests/test_adapters/test_market_data/test_alphavantage.py::TestAlphaVantageDataPluginHealthCheck::test_health_check_healthy PASSED [  3%]
tests/test_adapters/test_market_data/test_alphavantage.py::TestAlphaVantageDataPluginHealthCheck::test_health_check_error PASSED [  3%]
tests/test_adapters/test_market_data/test_alphavantage.py::TestAlphaVantageDataPluginCompany::test_get_company PASSED [  3%]
tests/test_adapters/test_market_data/test_finnhub.py::TestFinnhubDataPluginAttributes::test_class_attributes PASSED [  3%]
tests/test_adapters/test_market_data/test_finnhub.py::TestFinnhubDataPluginAttributes::test_base_url PASSED [  3%]
tests/test_adapters/test_market_data/test_finnhub.py::TestFinnhubDataPluginInit::test_init PASSED [  3%]
tests/test_adapters/test_market_data/test_finnhub.py::TestFinnhubDataPluginInit::test_initialize_success PASSED [  3%]
tests/test_adapters/test_market_data/test_finnhub.py::TestFinnhubDataPluginInit::test_initialize_exception PASSED [  3%]
tests/test_adapters/test_market_data/test_finnhub.py::TestFinnhubDataPluginInit::test_shutdown PASSED [  3%]
tests/test_adapters/test_market_data/test_finnhub.py::TestFinnhubDataPluginQuote::test_get_quote_success PASSED [  3%]
tests/test_adapters/test_market_data/test_finnhub.py::TestFinnhubDataPluginQuote::test_get_quote_empty_data PASSED [  4%]
tests/test_adapters/test_market_data/test_finnhub.py::TestFinnhubDataPluginHistorical::test_get_historical_success PASSED [  4%]
tests/test_adapters/test_market_data/test_finnhub.py::TestFinnhubDataPluginHistorical::test_get_historical_empty PASSED [  4%]
tests/test_adapters/test_market_data/test_finnhub.py::TestFinnhubDataPluginHealthCheck::test_health_check_healthy PASSED [  4%]
tests/test_adapters/test_market_data/test_finnhub.py::TestFinnhubDataPluginHealthCheck::test_health_check_error PASSED [  4%]
tests/test_adapters/test_market_data/test_finnhub.py::TestFinnhubDataPluginCompany::test_get_company PASSED [  4%]
tests/test_adapters/test_market_data/test_finnhub.py::TestFinnhubDataPluginNews::test_get_news PASSED [  4%]
tests/test_adapters/test_market_data_aggregator.py::test_aggregator_initialization PASSED [  4%]
tests/test_adapters/test_market_data_aggregator.py::test_aggregator_get_quote_median PASSED [  4%]
tests/test_adapters/test_market_data_aggregator.py::test_aggregator_get_quote_mean PASSED [  4%]
tests/test_adapters/test_market_data_aggregator.py::test_aggregator_provider_failure PASSED [  4%]
tests/test_adapters/test_market_data_aggregator.py::test_aggregator_outlier_detection PASSED [  4%]
tests/test_adapters/test_market_data_aggregator.py::test_add_remove_provider PASSED [  4%]
tests/test_adapters/test_market_data_aggregator.py::test_historical_data_fallback PASSED [  4%]
tests/test_adapters/test_storage/test_cortex_repository.py::TestCortexOutputRow::test_create_output_row PASSED [  4%]
tests/test_adapters/test_storage/test_cortex_repository.py::TestCortexOutputRow::test_get_content_dict PASSED [  4%]
tests/test_adapters/test_storage/test_cortex_repository.py::TestCortexOutputRow::test_to_insert_tuple PASSED [  4%]
tests/test_adapters/test_storage/test_cortex_repository.py::TestStrategyHypothesisRow::test_create_hypothesis_row PASSED [  4%]
tests/test_adapters/test_storage/test_cortex_repository.py::TestStrategyHypothesisRow::test_get_parameters_dict PASSED [  4%]
tests/test_adapters/test_storage/test_cortex_repository.py::TestCortexRepository::test_save_and_get_output PASSED [  4%]
tests/test_adapters/test_storage/test_cortex_repository.py::TestCortexRepository::test_get_outputs_by_type PASSED [  4%]
tests/test_adapters/test_storage/test_cortex_repository.py::TestCortexRepository::test_save_and_get_hypothesis PASSED [  4%]
tests/test_adapters/test_storage/test_cortex_repository.py::TestCortexRepository::test_get_hypotheses_above_confidence PASSED [  4%]
tests/test_adapters/test_storage/test_cortex_repository.py::TestCortexRepository::test_update_validation_status PASSED [  4%]
tests/test_adapters/test_storage/test_cortex_repository.py::TestCortexRepository::test_get_output_stats PASSED [  4%]
tests/test_adapters/test_storage/test_cortex_repository.py::TestCortexRepository::test_get_hypothesis_stats PASSED [  4%]
tests/test_adapters/test_storage/test_cortex_repository.py::TestEnginePersistenceIntegration::test_persist_output_row_directly PASSED [  4%]
tests/test_adapters/test_storage/test_cortex_repository.py::TestEnginePersistenceIntegration::test_persist_hypothesis_row_directly PASSED [  4%]
tests/test_adapters/test_storage/test_models.py::test_position_row_defaults PASSED [  4%]
tests/test_adapters/test_storage/test_models.py::test_position_row_from_row PASSED [  4%]
tests/test_adapters/test_storage/test_models.py::test_position_row_from_row_with_nulls PASSED [  4%]
tests/test_adapters/test_storage/test_models.py::test_position_row_to_insert_tuple PASSED [  4%]
tests/test_adapters/test_storage/test_models.py::test_position_row_to_update_tuple PASSED [  4%]
tests/test_adapters/test_storage/test_models.py::test_order_row_defaults PASSED [  4%]
tests/test_adapters/test_storage/test_models.py::test_order_row_from_row PASSED [  4%]
tests/test_adapters/test_storage/test_models.py::test_order_row_to_insert_tuple PASSED [  4%]
tests/test_adapters/test_storage/test_models.py::test_order_row_get_broker_response_dict_with_json PASSED [  4%]
tests/test_adapters/test_storage/test_models.py::test_order_row_get_broker_response_dict_with_none PASSED [  4%]
tests/test_adapters/test_storage/test_models.py::test_order_row_get_metadata_dict_with_json PASSED [  4%]
tests/test_adapters/test_storage/test_models.py::test_order_row_get_metadata_dict_with_none PASSED [  4%]
tests/test_adapters/test_storage/test_models.py::test_fill_row_defaults PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_fill_row_from_row PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_fill_row_to_insert_tuple PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_trade_row_defaults PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_trade_row_from_row PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_trade_row_to_insert_tuple PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_system_state_row_defaults PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_system_state_row_from_row PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_system_state_get_typed_value_bool_true PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_system_state_get_typed_value_bool_false PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_system_state_get_typed_value_int PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_system_state_get_typed_value_float PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_system_state_get_typed_value_json PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_system_state_get_typed_value_string PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_system_state_get_typed_value_unknown_type PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_portfolio_snapshot_row_defaults PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_portfolio_snapshot_row_from_row PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_portfolio_snapshot_get_positions PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_portfolio_snapshot_get_positions_empty PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_portfolio_snapshot_to_insert_tuple PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_order_row_with_all_optional_fields_none PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_position_row_round_trip PASSED [  5%]
tests/test_adapters/test_storage/test_models.py::test_system_state_complex_json PASSED [  5%]
tests/test_adapters/test_storage/test_order_repository.py::TestOrderRepositoryInit::test_init PASSED [  5%]
tests/test_adapters/test_storage/test_order_repository.py::TestOrderRepositoryGetById::test_get_by_id_not_found PASSED [  5%]
tests/test_adapters/test_storage/test_order_repository.py::TestOrderRepositoryGetActive::test_get_active_empty PASSED [  5%]
tests/test_adapters/test_storage/test_order_repository.py::TestOrderRepositoryGetByStatus::test_get_by_status PASSED [  5%]
tests/test_adapters/test_storage/test_order_repository.py::TestOrderRepositoryGetByBrokerId::test_get_by_broker_id_not_found PASSED [  5%]
tests/test_adapters/test_streaming/test_providers.py::TestFinnhubStream::test_provider_name PASSED [  5%]
tests/test_adapters/test_streaming/test_providers.py::TestFinnhubStream::test_websocket_url PASSED [  5%]
tests/test_adapters/test_streaming/test_providers.py::TestFinnhubStream::test_subscribe_forex PASSED [  5%]
tests/test_adapters/test_streaming/test_providers.py::TestFinnhubStream::test_subscribe_crypto PASSED [  5%]
tests/test_adapters/test_streaming/test_providers.py::TestFinnhubStream::test_send_subscribe PASSED [  5%]
tests/test_adapters/test_streaming/test_providers.py::TestFinnhubStream::test_process_trade_message PASSED [  5%]
tests/test_adapters/test_streaming/test_providers.py::TestFinnhubStream::test_process_ping_message PASSED [  5%]
tests/test_adapters/test_streaming/test_providers.py::TestFinnhubStream::test_process_multiple_trades PASSED [  5%]
tests/test_adapters/test_streaming/test_providers.py::TestFinnhubStream::test_parse_trade_empty PASSED [  5%]
tests/test_adapters/test_streaming/test_providers.py::TestFinnhubStream::test_authenticate_no_op PASSED [  5%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamEventType::test_event_types_exist PASSED [  5%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamEventType::test_event_types_unique PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamStatus::test_status_types_exist PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamStatus::test_status_types_unique PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamQuote::test_quote_creation PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamQuote::test_mid_price PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamQuote::test_spread PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamQuote::test_spread_bps PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamQuote::test_spread_bps_zero_mid PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamQuote::test_quote_immutable PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamTrade::test_trade_creation PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamTrade::test_notional_value PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamTrade::test_trade_default_exchange PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamBar::test_bar_creation PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamBar::test_bar_range PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamBar::test_bar_body PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamBar::test_is_bullish PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamBar::test_bar_no_vwap PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamConfig::test_default_config PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamConfig::test_custom_config PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestStreamProvider::test_protocol_attributes PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestCallbackStreamHandler::test_quote_callback PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestCallbackStreamHandler::test_trade_callback PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestCallbackStreamHandler::test_async_callback PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestCallbackStreamHandler::test_no_callback PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestBufferedStreamHandler::test_buffer_quotes PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestBufferedStreamHandler::test_buffer_max_size PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestBufferedStreamHandler::test_get_quotes_clear PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestBufferedStreamHandler::test_get_latest_quote PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestBufferedStreamHandler::test_buffer_trades PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestBufferedStreamHandler::test_get_latest_trade PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestBufferedStreamHandler::test_buffer_bars PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestBufferedStreamHandler::test_buffer_status PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestBufferedStreamHandler::test_buffer_errors PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestBufferedStreamHandler::test_clear_all PASSED [  6%]
tests/test_adapters/test_streaming/test_stream_protocol.py::TestBufferedStreamHandler::test_concurrent_access PASSED [  6%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestDataProvider::test_all_providers_defined PASSED [  6%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestDataProvider::test_provider_count PASSED [  6%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestDataType::test_all_types_defined PASSED [  6%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestDataType::test_type_count PASSED [  6%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestProviderConfig::test_create_minimal_config PASSED [  6%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestProviderConfig::test_create_full_config PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestProviderConfig::test_default_values PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestMarketDataEvent::test_create_event PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestMarketDataEvent::test_event_with_latency PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestSubscriptionRequest::test_create_minimal_request PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestSubscriptionRequest::test_create_full_request PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestProviderStats::test_create_stats PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestProviderStats::test_update_latency_first_message PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestProviderStats::test_update_latency_ema PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestProviderStats::test_symbols_subscribed_default PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestUnifiedMarketDataStreamInit::test_init_default_params PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestUnifiedMarketDataStreamInit::test_init_custom_params PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestUnifiedMarketDataStreamInit::test_empty_providers PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestUnifiedMarketDataStreamHandlers::test_add_handler PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestUnifiedMarketDataStreamHandlers::test_add_multiple_handlers PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestUnifiedMarketDataStreamHandlers::test_remove_handler PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestUnifiedMarketDataStreamHandlers::test_remove_nonexistent_handler PASSED [  7%]
tests/test_adapters/test_streaming/test_unified_websocket.py::TestUnifiedMarketDataStreamProviders::test_add_disabled_provider_skipped PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerInit::test_init_default_state PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerInit::test_stats_initial PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerHandlers::test_add_handler PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerHandlers::test_add_handler_duplicate PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerHandlers::test_remove_handler PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerHandlers::test_remove_nonexistent_handler PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerSubscription::test_subscribe_adds_to_set PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerSubscription::test_subscribe_deduplicates PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerSubscription::test_unsubscribe_removes PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerSubscription::test_unsubscribe_nonexistent PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerConnection::test_connect_success PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerConnection::test_connect_already_connected PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerConnection::test_connect_resubscribes PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerConnection::test_disconnect PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerNotifications::test_notify_quote PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerNotifications::test_notify_error PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerNotifications::test_notify_status PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerReconnection::test_reconnect_exponential_backoff PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerReconnection::test_reconnect_max_delay PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerReconnection::test_reconnect_max_attempts PASSED [  7%]
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerReconnection::test_reconnect_disabled PASSED [  7%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthStatus::test_health_status_values PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthStatus::test_health_status_members PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheckResult::test_health_check_result_initialization PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheckResult::test_health_check_result_with_all_fields PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheckResult::test_health_check_result_to_dict PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheckResult::test_health_check_result_to_dict_timestamp_format PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheckResult::test_health_check_result_default_factory_independence PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_health_check_initialization PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_register_check PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_register_multiple_checks PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_run_check_success PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_run_check_not_found PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_run_check_exception_handling PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_run_check_updates_last_results PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_run_all_checks_empty PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_run_all_checks_multiple PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_get_overall_status_no_results PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_get_overall_status_all_healthy PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_get_overall_status_one_degraded PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_get_overall_status_one_unhealthy PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_get_overall_status_only_unknown PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_get_health_report PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_get_health_report_timestamp_format PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_get_last_results_empty PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_get_last_results_returns_copy PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheck::test_get_last_results_without_rerunning PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestDatabaseHealthCheck::test_database_health_check_success PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestDatabaseHealthCheck::test_database_health_check_exception PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestApiHealthCheck::test_api_health_check_success PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestApiHealthCheck::test_api_health_check_returns_result PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestDiskSpaceHealthCheck::test_disk_space_health_check_healthy PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestDiskSpaceHealthCheck::test_disk_space_health_check_degraded PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestDiskSpaceHealthCheck::test_disk_space_health_check_unhealthy PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestDiskSpaceHealthCheck::test_disk_space_health_check_exception PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestDiskSpaceHealthCheck::test_disk_space_health_check_exact_threshold_degraded PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestDiskSpaceHealthCheck::test_disk_space_health_check_exact_threshold_unhealthy PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestMemoryHealthCheck::test_memory_health_check_healthy PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestMemoryHealthCheck::test_memory_health_check_degraded PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestMemoryHealthCheck::test_memory_health_check_unhealthy PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestMemoryHealthCheck::test_memory_health_check_exception PASSED [  8%]
tests/test_adapters/test_telemetry/test_health.py::TestMemoryHealthCheck::test_memory_health_check_exact_threshold_degraded PASSED [  9%]
tests/test_adapters/test_telemetry/test_health.py::TestMemoryHealthCheck::test_memory_health_check_exact_threshold_unhealthy PASSED [  9%]
tests/test_adapters/test_telemetry/test_health.py::TestGetHealthCheck::test_get_health_check_singleton PASSED [  9%]
tests/test_adapters/test_telemetry/test_health.py::TestGetHealthCheck::test_get_health_check_registers_default_checks PASSED [  9%]
tests/test_adapters/test_telemetry/test_health.py::TestGetHealthCheck::test_get_health_check_returns_health_check_instance PASSED [  9%]
tests/test_adapters/test_telemetry/test_health.py::TestGetHealthCheck::test_get_health_check_preserves_registered_checks PASSED [  9%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheckIntegration::test_complete_health_check_workflow PASSED [  9%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheckIntegration::test_real_health_checks_integration PASSED [  9%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheckIntegration::test_health_check_response_time_tracking PASSED [  9%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheckIntegration::test_health_check_with_mixed_statuses PASSED [  9%]
tests/test_adapters/test_telemetry/test_health.py::TestHealthCheckIntegration::test_exception_during_check_doesnt_stop_others PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPIThresholdEdgeCases::test_evaluate_with_only_warning_max PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPIThresholdEdgeCases::test_evaluate_with_only_critical_min PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPIThresholdEdgeCases::test_evaluate_with_only_critical_max PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPIThresholdEdgeCases::test_evaluate_at_exact_threshold_values PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestTradingKPIsEdgeCases::test_win_loss_ratio_both_zero PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestTradingKPIsEdgeCases::test_win_loss_ratio_negative_loss PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestTradingKPIsEdgeCases::test_risk_reward_ratio_zero_loss PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestTradingKPIsEdgeCases::test_risk_reward_ratio_negative_loss PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestTradingKPIsEdgeCases::test_expectancy_with_zero_win_rate PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestTradingKPIsEdgeCases::test_expectancy_with_100_percent_win_rate PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestTradingKPIsEdgeCases::test_to_dict_includes_all_computed_properties PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPIValueEdgeCases::test_kpi_value_with_empty_strings PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPIValueEdgeCases::test_kpi_value_default_timestamp PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestAlertEdgeCases::test_alert_without_threshold PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestAlertEdgeCases::test_alert_to_dict_with_none_threshold PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_update_kpi_nonexistent_attribute PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_get_kpi_value_for_computed_property PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_get_kpi_summary_filters_non_numeric PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_alert_history_with_time_filter PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_alert_escalation_from_warning_to_critical PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_alert_same_severity_does_not_retrigger PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_alert_handler_exception_does_not_break_tracking PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_clear_alert_nonexistent_kpi PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_health_status_with_warning_only PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_health_status_all_healthy PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_get_breached_threshold_critical_min PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_get_breached_threshold_critical_max PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_get_breached_threshold_warning_min PASSED [  9%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_get_breached_threshold_warning_max PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_get_breached_threshold_none PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_cleanup_history_removes_old_kpis PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_cleanup_history_removes_old_alerts PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_check_thresholds_skips_non_numeric_values PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_alert_recovery_clears_active_alert PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_set_threshold_overwrites_existing PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_tracker_initialization_with_empty_alert_handlers PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestKPITrackerEdgeCases::test_tracker_initialization_merges_thresholds PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestGlobalTrackerEdgeCases::test_get_kpi_tracker_creates_new_instance PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestGlobalTrackerEdgeCases::test_reset_sets_global_to_none PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestAlertCreationEdgeCases::test_alert_message_formatting_with_threshold PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestAlertCreationEdgeCases::test_alert_message_formatting_without_threshold PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestAlertCreationEdgeCases::test_multiple_alert_handlers_all_called PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestIntegrationScenarios::test_downgrade_from_critical_to_warning PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestIntegrationScenarios::test_multiple_kpis_with_different_statuses PASSED [ 10%]
tests/test_adapters/test_telemetry/test_kpi.py::TestIntegrationScenarios::test_kpi_value_timestamp_updated_on_change PASSED [ 10%]
tests/test_agents/test_runner.py::TestStepAction::test_step_action_values PASSED [ 10%]
tests/test_agents/test_runner.py::TestStepAction::test_step_action_count PASSED [ 10%]
tests/test_agents/test_runner.py::TestWorkflowStep::test_create_step_basic PASSED [ 10%]
tests/test_agents/test_runner.py::TestWorkflowStep::test_step_with_params PASSED [ 10%]
tests/test_agents/test_runner.py::TestWorkflowStep::test_step_with_condition PASSED [ 10%]
tests/test_agents/test_runner.py::TestWorkflowStep::test_step_with_loop PASSED [ 10%]
tests/test_agents/test_runner.py::TestWorkflowStep::test_from_dict_basic PASSED [ 10%]
tests/test_agents/test_runner.py::TestWorkflowStep::test_from_dict_unknown_action PASSED [ 10%]
tests/test_agents/test_runner.py::TestWorkflowStep::test_from_dict_with_condition PASSED [ 10%]
tests/test_agents/test_runner.py::TestAgentConfig::test_create_config_basic PASSED [ 10%]
tests/test_agents/test_runner.py::TestAgentConfig::test_from_yaml_basic PASSED [ 10%]
tests/test_agents/test_runner.py::TestAgentConfig::test_from_yaml_defaults PASSED [ 10%]
tests/test_agents/test_runner.py::TestAgentConfig::test_from_yaml_missing_file PASSED [ 10%]
tests/test_agents/test_runner.py::TestAgentResult::test_create_result_success PASSED [ 10%]
tests/test_agents/test_runner.py::TestAgentResult::test_create_result_failure PASSED [ 10%]
tests/test_agents/test_runner.py::TestAgentRunner::test_init_default_params PASSED [ 10%]
tests/test_agents/test_runner.py::TestAgentRunner::test_init_custom_agents_dir PASSED [ 10%]
tests/test_agents/test_runner.py::TestAgentRunner::test_register_tool PASSED [ 10%]
tests/test_agents/test_runner.py::TestAgentRunner::test_register_resource PASSED [ 10%]
tests/test_agents/test_runner.py::TestAgentRunner::test_set_llm_handler PASSED [ 10%]
tests/test_agents/test_runner.py::TestAgentRunner::test_list_agents_empty PASSED [ 10%]
tests/test_agents/test_runner.py::TestAgentRunner::test_list_agents_with_files PASSED [ 10%]
tests/test_agents/test_runner.py::TestAgentRunner::test_list_agents_nonexistent_dir PASSED [ 11%]
tests/test_agents/test_runner.py::TestAgentRunner::test_load_agent PASSED [ 11%]
tests/test_agents/test_runner.py::TestAgentRunner::test_load_agent_not_found PASSED [ 11%]
tests/test_ai/test_codegen/test_engine_comprehensive.py::TestCodeGenConfiguration::test_codegen_init_with_helix PASSED [ 11%]
tests/test_ai/test_codegen/test_engine_comprehensive.py::TestCodeGenConfiguration::test_codegen_model_from_helix_config PASSED [ 11%]
tests/test_ai/test_codegen/test_engine_comprehensive.py::TestCodeGenGeneration::test_generate_code PASSED [ 11%]
tests/test_ai/test_codegen/test_engine_comprehensive.py::TestCodeGenGeneration::test_refactor_code PASSED [ 11%]
tests/test_ai/test_codegen/test_engine_comprehensive.py::TestCodeGenGeneration::test_generate_tests PASSED [ 11%]
tests/test_ai/test_codegen/test_engine_comprehensive.py::TestCodeGenSanitization::test_sanitize_think_tags PASSED [ 11%]
tests/test_ai/test_codegen/test_engine_comprehensive.py::TestCodeGenSanitization::test_sanitize_markdown_fences PASSED [ 11%]
tests/test_ai/test_codegen/test_engine_comprehensive.py::TestCodeGenSanitization::test_sanitize_mixed_content PASSED [ 11%]
tests/test_ai/test_codegen/test_engine_comprehensive.py::TestCodeGenStats::test_get_stats PASSED [ 11%]
tests/test_ai/test_codegen/test_engine_comprehensive.py::TestCodeGenStateManagement::test_initialize_called_on_first_use PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestRetryConfig::test_retry_config_defaults PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestRetryConfig::test_retry_config_custom PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestCacheConfig::test_cache_config_defaults PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestCacheConfig::test_cache_config_custom PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestRateLimitConfig::test_rate_limit_config_defaults PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestRateLimitConfig::test_rate_limit_config_custom PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestNVIDIAModels::test_nvidia_models_contains_expected_models PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestNVIDIAModels::test_nemotron_super_config PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestNVIDIAModels::test_nemotron_8b_config PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestNVIDIAModels::test_nv_embedqa_config PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestNVIDIAModels::test_nemoretriever_config PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_helix_config_defaults PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_helix_config_custom PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_helix_config_models_registry PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_get_model_by_alias PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_get_model_by_id PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_get_model_not_found PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_list_models_all PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_list_models_by_type_chat PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_list_models_by_type_embedding PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_register_model PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_validate_valid_config PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_validate_missing_api_key PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_validate_api_key_not_required_for_local PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_validate_invalid_default_chat_model PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_validate_invalid_fallback_chat_model PASSED [ 11%]
tests/test_ai/test_helix/test_config.py::TestHelixConfig::test_validate_invalid_embedding_model PASSED [ 11%]
tests/test_ai/test_helix/test_engine.py::TestHelixInitialization::test_helix_init_with_config PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestHelixInitialization::test_helix_init_without_config PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestHelixInitialization::test_helix_init_invalid_config PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestHelixInitialization::test_helix_init_providers PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestModelResolution::test_get_model_by_name PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestModelResolution::test_get_model_default_chat PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestModelResolution::test_get_model_default_embedding PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestModelResolution::test_get_model_not_found PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestModelResolution::test_get_fallback_model_chat PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestModelResolution::test_get_fallback_model_embedding PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestModelResolution::test_get_fallback_model_disabled PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestCaching::test_cache_key_generation PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestCaching::test_embed_cache_key_generation PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestCaching::test_cache_set_and_get PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestCaching::test_cache_miss PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestCaching::test_cache_ttl_expiration PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestCaching::test_cache_max_entries PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestCaching::test_cache_disabled PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestCaching::test_cache_chat_disabled PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestCaching::test_cache_embeddings_enabled PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestRateLimiting::test_rate_limit_check_passes PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestRateLimiting::test_rate_limit_request_exceeded PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestRateLimiting::test_rate_limit_token_exceeded PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestRateLimiting::test_rate_limit_disabled PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestRateLimiting::test_record_usage PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestRetryLogic::test_retry_succeeds_first_attempt PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestRetryLogic::test_retry_succeeds_after_failures PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestRetryLogic::test_retry_fails_non_retriable PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestRetryLogic::test_retry_exhausts_attempts PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestRetryLogic::test_retry_rate_limit_error PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestChatGeneration::test_generate_basic PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestChatGeneration::test_generate_with_dict_messages PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestChatGeneration::test_generate_with_custom_params PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestChatGeneration::test_generate_with_caching PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestChatGeneration::test_generate_fallback_on_error PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestChatGeneration::test_generate_sync PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestStreamingGeneration::test_generate_stream_basic PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestEmbedding::test_embed_single_text PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestEmbedding::test_embed_multiple_texts PASSED [ 12%]
tests/test_ai/test_helix/test_engine.py::TestEmbedding::test_embed_with_caching PASSED [ 13%]
tests/test_ai/test_helix/test_engine.py::TestEmbedding::test_embed_fallback_on_error PASSED [ 13%]
tests/test_ai/test_helix/test_engine.py::TestEmbedding::test_embed_sync PASSED [ 13%]
tests/test_ai/test_helix/test_engine.py::TestUtilityMethods::test_list_models PASSED [ 13%]
tests/test_ai/test_helix/test_engine.py::TestUtilityMethods::test_list_models_by_type PASSED [ 13%]
tests/test_ai/test_helix/test_engine.py::TestUtilityMethods::test_get_metrics PASSED [ 13%]
tests/test_ai/test_helix/test_engine.py::TestUtilityMethods::test_health_check PASSED [ 13%]
tests/test_ai/test_helix/test_engine_comprehensive.py::TestHelixChat::test_chat_with_default_model SKIPPED [ 13%]
tests/test_ai/test_helix/test_engine_comprehensive.py::TestHelixChat::test_chat_with_custom_model SKIPPED [ 13%]
tests/test_ai/test_helix/test_engine_comprehensive.py::TestHelixChat::test_chat_with_temperature_override SKIPPED [ 13%]
tests/test_ai/test_helix/test_engine_comprehensive.py::TestHelixChat::test_chat_with_max_tokens_override SKIPPED [ 13%]
tests/test_ai/test_helix/test_engine_comprehensive.py::TestHelixEmbeddings::test_embed_single_text SKIPPED [ 13%]
tests/test_ai/test_helix/test_engine_comprehensive.py::TestHelixEmbeddings::test_embed_with_custom_model SKIPPED [ 13%]
tests/test_ai/test_helix/test_engine_comprehensive.py::TestHelixModelManagement::test_get_default_chat_model SKIPPED [ 13%]
tests/test_ai/test_helix/test_engine_comprehensive.py::TestHelixModelManagement::test_get_embedding_model SKIPPED [ 13%]
tests/test_ai/test_helix/test_engine_comprehensive.py::TestHelixModelManagement::test_get_nonexistent_model SKIPPED [ 13%]
tests/test_ai/test_helix/test_engine_comprehensive.py::TestHelixStats::test_get_stats_includes_config SKIPPED [ 13%]
tests/test_ai/test_helix/test_engine_comprehensive.py::TestHelixStats::test_get_stats_includes_models SKIPPED [ 13%]
tests/test_ai/test_helix/test_engine_comprehensive.py::TestHelixStateManagement::test_helix_ready_on_init SKIPPED [ 13%]
tests/test_ai/test_helix/test_engine_comprehensive.py::TestHelixStateManagement::test_helix_client_initialized SKIPPED [ 13%]
tests/test_ai/test_helix/test_engine_comprehensive.py::TestHelixErrorHandling::test_chat_handles_api_error SKIPPED [ 13%]
tests/test_ai/test_helix/test_engine_comprehensive.py::TestHelixErrorHandling::test_embed_handles_api_error SKIPPED [ 13%]
tests/test_ai/test_helix/test_models.py::TestEnums::test_model_type_values PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestEnums::test_provider_type_values PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestModelInfo::test_model_info_creation PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestModelInfo::test_model_info_embedding_model PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestModelInfo::test_model_info_str PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestModelInfo::test_model_info_frozen PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestChatMessage::test_chat_message_creation PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestChatMessage::test_chat_message_with_name PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestChatMessage::test_chat_message_with_metadata PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestChatMessage::test_chat_message_to_dict PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestChatMessage::test_chat_message_to_dict_with_name PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestChatMessage::test_chat_message_to_dict_excludes_metadata PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestUsageInfo::test_usage_info_creation PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestUsageInfo::test_usage_info_empty PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestChatResponse::test_chat_response_creation PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestChatResponse::test_chat_response_with_all_fields PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestChatResponse::test_chat_response_str PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestEmbeddingResponse::test_embedding_response_creation PASSED [ 13%]
tests/test_ai/test_helix/test_models.py::TestEmbeddingResponse::test_embedding_response_count PASSED [ 14%]
tests/test_ai/test_helix/test_models.py::TestEmbeddingResponse::test_embedding_response_as_numpy PASSED [ 14%]
tests/test_ai/test_helix/test_models.py::TestExceptions::test_helix_error_basic PASSED [ 14%]
tests/test_ai/test_helix/test_models.py::TestExceptions::test_helix_error_with_context PASSED [ 14%]
tests/test_ai/test_helix/test_models.py::TestExceptions::test_rate_limit_error PASSED [ 14%]
tests/test_ai/test_helix/test_models.py::TestExceptions::test_rate_limit_error_default_message PASSED [ 14%]
tests/test_ai/test_helix/test_models.py::TestExceptions::test_model_not_found_error PASSED [ 14%]
tests/test_ai/test_helix/test_models.py::TestExceptions::test_model_not_found_error_with_long_list PASSED [ 14%]
tests/test_ai/test_helix/test_models.py::TestExceptions::test_provider_error PASSED [ 14%]
tests/test_ai/test_helix/test_models.py::TestExceptions::test_provider_error_without_status PASSED [ 14%]
tests/test_ai/test_helix/test_models.py::TestExceptions::test_exception_inheritance PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_default_values PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_custom_scope PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_custom_top_k PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_custom_similarity_threshold PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_custom_retrieval_settings PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_custom_embedding_settings PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_custom_chroma_settings PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_custom_context_settings PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_custom_cache_settings PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_validate_success PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_validate_invalid_top_k PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_validate_invalid_top_k_negative PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_validate_invalid_similarity_threshold_low PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_validate_invalid_similarity_threshold_high PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_validate_boundary_similarity_threshold_zero PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_validate_boundary_similarity_threshold_one PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_validate_invalid_retrieval_ratio PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_validate_equal_retrieval_values PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_validate_multiple_errors PASSED [ 14%]
tests/test_ai/test_synapse/test_config.py::TestSynapseConfig::test_all_search_scopes_valid PASSED [ 14%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseInitialization::test_init_with_default_config PASSED [ 14%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseInitialization::test_init_with_custom_config PASSED [ 14%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseInitialization::test_init_with_helix PASSED [ 14%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseInitialization::test_init_validates_config PASSED [ 14%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseInitialization::test_init_with_invalid_config_multiple_errors PASSED [ 14%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRAGEngine::test_ensure_rag_engine_lazy_init PASSED [ 14%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRAGEngine::test_ensure_rag_engine_returns_cached PASSED [ 14%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRAGEngine::test_is_available_true PASSED [ 14%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRAGEngine::test_is_available_false_on_error PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_basic PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_with_context_object PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_with_context_dict PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_with_none_context PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_filters_by_min_score PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_converts_snippets PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_separates_text_and_code PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_with_engine_filter PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_with_custom_filters PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_scope_to_query_type_text PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_scope_to_query_type_code PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_scope_to_query_type_hybrid PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_scope_to_query_type_auto PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_infers_scope_from_results PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_records_execution_time PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieve::test_retrieve_captures_total_candidates PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieveForPrompt::test_retrieve_for_prompt_basic PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieveForPrompt::test_retrieve_for_prompt_with_max_tokens PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieveForPrompt::test_retrieve_for_prompt_with_scope PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieveForPrompt::test_retrieve_for_prompt_uses_config_defaults PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseRetrieveForPrompt::test_retrieve_for_prompt_applies_similarity_threshold PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseSearchCode::test_search_code_basic PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseSearchCode::test_search_code_with_engine_filter PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseSearchCode::test_search_code_with_custom_top_k PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseSearchCode::test_search_code_filters_code_results PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseSearchDocs::test_search_docs_basic PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseSearchDocs::test_search_docs_with_domain_filter PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseSearchDocs::test_search_docs_with_custom_top_k PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseSearchDocs::test_search_docs_without_domain PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseSearchDocs::test_search_docs_filters_text_results PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseGetStats::test_get_stats_before_initialization PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseGetStats::test_get_stats_after_initialization SKIPPED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseGetStats::test_get_stats_with_helix PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseConvertToSnippets::test_convert_text_results PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseConvertToSnippets::test_convert_code_results PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseConvertToSnippets::test_convert_mixed_results PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseConvertToSnippets::test_convert_preserves_metadata PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseEdgeCases::test_retrieve_empty_results PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseEdgeCases::test_retrieve_all_filtered_by_min_score PASSED [ 15%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseEdgeCases::test_retrieve_with_empty_metadata PASSED [ 16%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseEdgeCases::test_scope_inference_text_only PASSED [ 16%]
tests/test_ai/test_synapse/test_engine.py::TestSynapseEdgeCases::test_scope_inference_code_only PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestSearchScope::test_search_scope_values PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestSearchScope::test_search_scope_membership PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestSearchScope::test_search_scope_iteration PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalContext::test_default_values PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalContext::test_custom_scope PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalContext::test_custom_filters PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalContext::test_custom_top_k PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalContext::test_custom_min_score PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalContext::test_engine_filter PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalContext::test_domain_filter PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalContext::test_source_context PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestSnippet::test_text_snippet_creation PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestSnippet::test_code_snippet_creation PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestSnippet::test_snippet_with_metadata PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestSnippet::test_snippet_str_with_file_path PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestSnippet::test_snippet_str_with_domain PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestSnippet::test_snippet_str_unknown_location PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalResultSet::test_result_set_creation PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalResultSet::test_result_set_count_property PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalResultSet::test_result_set_top_score_property PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalResultSet::test_result_set_top_score_empty PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalResultSet::test_get_context_string_basic PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalResultSet::test_get_context_string_with_max_tokens PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalResultSet::test_get_context_string_truncates_long_results PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalResultSet::test_get_context_string_empty_snippets PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalResultSet::test_to_citations_basic PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalResultSet::test_to_citations_with_text_snippets PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalResultSet::test_to_citations_empty PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalResultSet::test_timestamp_field PASSED [ 16%]
tests/test_ai/test_synapse/test_models.py::TestRetrievalResultSet::test_custom_timestamp PASSED [ 16%]
tests/test_all_phases_complete.py::test_all_phases PASSED                [ 16%]
tests/test_analysis/test_backtest_analyzer.py::TestBacktestAnalyzerInit::test_init_with_valid_report PASSED [ 16%]
tests/test_analysis/test_backtest_analyzer.py::TestBacktestAnalyzerInit::test_init_with_missing_file PASSED [ 16%]
tests/test_analysis/test_backtest_analyzer.py::TestBacktestAnalyzerInit::test_init_with_invalid_json PASSED [ 16%]
tests/test_analysis/test_backtest_analyzer.py::TestGenerateDetailedReport::test_generate_detailed_report_structure PASSED [ 16%]
tests/test_analysis/test_backtest_analyzer.py::TestGenerateDetailedReport::test_generate_detailed_report_is_string PASSED [ 16%]
tests/test_analysis/test_backtest_analyzer.py::TestExecutiveSummary::test_executive_summary_includes_metrics PASSED [ 17%]
tests/test_analysis/test_backtest_analyzer.py::TestExecutiveSummary::test_executive_summary_empty_results PASSED [ 17%]
tests/test_analysis/test_backtest_analyzer.py::TestPeriodAnalysis::test_period_analysis_returns_list PASSED [ 17%]
tests/test_analysis/test_backtest_analyzer.py::TestPeriodAnalysis::test_period_analysis_includes_periods PASSED [ 17%]
tests/test_analysis/test_backtest_analyzer.py::TestModelAnalysis::test_model_analysis_returns_list PASSED [ 17%]
tests/test_analysis/test_backtest_analyzer.py::TestSectorAnalysis::test_sector_analysis_returns_list PASSED [ 17%]
tests/test_analysis/test_backtest_analyzer.py::TestRiskAnalysis::test_risk_analysis_returns_list PASSED [ 17%]
tests/test_analysis/test_backtest_analyzer.py::TestOptimizationRecommendations::test_optimization_recommendations_returns_list PASSED [ 17%]
tests/test_analysis/test_backtest_analyzer.py::TestImplementationGuide::test_implementation_guide_returns_list PASSED [ 17%]
tests/test_analysis/test_composite.py::test_weighted_sum_normalizes PASSED [ 17%]
tests/test_analysis/test_composite.py::test_vote_tie_returns_neutral PASSED [ 17%]
tests/test_analysis/test_composite.py::test_min_max PASSED               [ 17%]
tests/test_analysis/test_indicators/test_ichimoku.py::test_ichimoku_values_match_manual_calculation PASSED [ 17%]
tests/test_analysis/test_indicators/test_ichimoku.py::test_ichimoku_signal_bullish_trend PASSED [ 17%]
tests/test_analysis/test_indicators/test_ichimoku.py::test_ichimoku_signal_bearish_trend PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_init_requires_plugin PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_init_with_massive_only PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_init_with_iex_only PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_cache_enabled_by_default PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_cache_disabled PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_get_market_overview_massive PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_get_market_overview_fallback_to_iex PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_get_market_overview_all_fail PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_get_volatility_metrics_massive PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_volatility_regime_classification PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_get_sector_performance PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_get_breadth_indicators PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_classify_regime_risk_on PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_classify_regime_risk_off PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_classify_regime_choppy PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_generate_trading_implications_risk_on PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_generate_trading_implications_risk_off PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_generate_trading_implications_choppy PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_analyze_end_to_end PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestMarketConditionsAnalyzer::test_cache_functionality PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestDataParsing::test_parse_index_snapshots_massive PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestDataParsing::test_parse_index_snapshots_iex PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestDataParsing::test_parse_sector_performance PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestExceptionHandling::test_market_data_error_base_exception PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestExceptionHandling::test_no_data_source_error PASSED [ 17%]
tests/test_analysis/test_market_conditions.py::TestExceptionHandling::test_all_data_sources_failed_error PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestCachingBehavior::test_cache_expiration PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestCachingBehavior::test_cache_disabled_set_and_get PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestCachingBehavior::test_market_overview_uses_cache PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestCachingBehavior::test_volatility_metrics_uses_cache PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestCachingBehavior::test_sector_performance_uses_cache PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestDataSourceFailover::test_no_data_source_configured_market_overview PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestDataSourceFailover::test_no_data_source_configured_volatility PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestDataSourceFailover::test_no_data_source_configured_sectors PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestDataSourceFailover::test_iex_fallback_for_volatility PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestDataSourceFailover::test_all_sources_fail_volatility PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestDataSourceFailover::test_iex_fallback_for_sectors PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestDataSourceFailover::test_all_sources_fail_sectors PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestVolatilityTrendClassification::test_vix_rising_trend PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestVolatilityTrendClassification::test_vix_rising_trend_strong PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestVolatilityTrendClassification::test_vix_falling_trend_strong PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestVolatilityTrendClassification::test_vix_stable_trend PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestVolatilityTrendClassification::test_vix_zero_previous_close PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestRegimeClassificationEdgeCases::test_classify_regime_vix_exactly_18 PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestRegimeClassificationEdgeCases::test_classify_regime_vix_exactly_25 PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestRegimeClassificationEdgeCases::test_classify_regime_defensive_leadership_risk_off PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestRegimeClassificationEdgeCases::test_classify_regime_equal_cyclical_defensive_leadership PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestRegimeClassificationEdgeCases::test_classify_regime_bearish_breadth_sentiment PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestTradingImplicationsEdgeCases::test_vix_extreme_warning_at_30 PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestTradingImplicationsEdgeCases::test_vix_extreme_warning_above_30 PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestTradingImplicationsEdgeCases::test_vix_very_low_warning_at_15 PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestTradingImplicationsEdgeCases::test_vix_very_low_warning_below_15 PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestTradingImplicationsEdgeCases::test_implications_for_trending_up_regime PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestTradingImplicationsEdgeCases::test_implications_for_trending_down_regime PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestDataParsingEdgeCases::test_parse_index_snapshots_missing_fields_massive PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestDataParsingEdgeCases::test_parse_index_snapshots_missing_fields_iex PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestDataParsingEdgeCases::test_parse_volatility_metrics_iex_source PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestDataParsingEdgeCases::test_parse_volatility_metrics_missing_previous PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestDataParsingEdgeCases::test_parse_sector_performance_iex_source PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestDataParsingEdgeCases::test_parse_sector_performance_skip_non_sector_symbols PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestAnalyzeEndToEnd::test_analyze_sorts_sectors_by_performance PASSED [ 18%]
tests/test_analysis/test_market_conditions.py::TestAnalyzeEndToEnd::test_analyze_creates_report_structure PASSED [ 18%]
tests/test_analysis/test_model_analytics.py::TestModelPerformanceRecord::test_create_record_basic PASSED [ 18%]
tests/test_analysis/test_model_analytics.py::TestModelPerformanceRecord::test_record_default_ic PASSED [ 18%]
tests/test_analysis/test_model_analytics.py::TestModelPerformanceRecord::test_record_with_custom_ic PASSED [ 19%]
tests/test_analysis/test_model_analytics.py::TestModelMetrics::test_create_metrics_basic PASSED [ 19%]
tests/test_analysis/test_model_analytics.py::TestModelMetrics::test_metrics_hit_rate PASSED [ 19%]
tests/test_analysis/test_model_analytics.py::TestModelPerformanceAnalyzer::test_init_empty_records PASSED [ 19%]
tests/test_analysis/test_model_analytics.py::TestModelPerformanceAnalyzer::test_add_record PASSED [ 19%]
tests/test_analysis/test_model_analytics.py::TestModelPerformanceAnalyzer::test_add_multiple_records PASSED [ 19%]
tests/test_analysis/test_model_analytics.py::TestModelPerformanceAnalyzer::test_compute_hit_rate_empty PASSED [ 19%]
tests/test_analysis/test_model_analytics.py::TestModelPerformanceAnalyzer::test_compute_hit_rate_with_records PASSED [ 19%]
tests/test_analysis/test_model_analytics.py::TestModelPerformanceAnalyzer::test_compute_hit_rate_by_model PASSED [ 19%]
tests/test_analysis/test_model_analytics.py::TestModelPerformanceAnalyzer::test_compute_ic_empty PASSED [ 19%]
tests/test_analysis/test_model_analytics.py::TestModelPerformanceAnalyzer::test_compute_ic_insufficient_records PASSED [ 19%]
tests/test_analysis/test_multi_timeframe.py::test_multi_timeframe_all_bullish PASSED [ 19%]
tests/test_analysis/test_multi_timeframe.py::test_multi_timeframe_mixed_bias_bearish PASSED [ 19%]
tests/test_analysis/test_patterns/test_candlestick.py::test_detects_doji_and_hammer PASSED [ 19%]
tests/test_analysis/test_patterns/test_candlestick.py::test_bullish_and_bearish_engulfing PASSED [ 19%]
tests/test_analysis/test_patterns/test_candlestick.py::test_morning_and_evening_star PASSED [ 19%]
tests/test_analysis/test_patterns/test_levels_and_breakouts.py::test_support_resistance_merges_close_levels PASSED [ 19%]
tests/test_analysis/test_patterns/test_levels_and_breakouts.py::test_breakout_detection_above_resistance PASSED [ 19%]
tests/test_analysis/test_patterns/test_levels_and_breakouts.py::test_breakdown_detection_below_support PASSED [ 19%]
tests/test_application/test_orchestrator.py::test_initialization PASSED  [ 19%]
tests/test_application/test_orchestrator.py::test_start_success PASSED   [ 19%]
tests/test_application/test_orchestrator.py::test_start_failure_db PASSED [ 19%]
tests/test_application/test_orchestrator.py::test_start_failure_kill_switch_active PASSED [ 19%]
tests/test_application/test_orchestrator.py::test_stop_success PASSED    [ 19%]
tests/test_application/test_orchestrator.py::test_can_trade PASSED       [ 19%]
tests/test_application/test_orchestrator.py::test_health_check_loop PASSED [ 19%]
tests/test_application/test_orchestrator.py::test_kill_switch_trigger_handling PASSED [ 19%]
tests/test_application/test_orchestrator.py::test_signal_handling_windows PASSED [ 19%]
tests/test_application/test_orchestrator.py::test_run_loop PASSED        [ 19%]
tests/test_application/test_orchestrator.py::test_get_status PASSED      [ 19%]
tests/test_backtesting_framework.py::TestDataAdapter::test_normalize_ohlcv PASSED [ 19%]
tests/test_backtesting_framework.py::TestDataAdapter::test_normalize_ohlcv_uppercase PASSED [ 19%]
tests/test_backtesting_framework.py::TestDataAdapter::test_normalize_ohlcv_missing_columns PASSED [ 19%]
tests/test_backtesting_framework.py::TestDataAdapter::test_attach_fundamentals PASSED [ 19%]
tests/test_backtesting_framework.py::TestHistoricalDataLoader::test_load_symbol_parquet PASSED [ 19%]
tests/test_backtesting_framework.py::TestHistoricalDataLoader::test_load_symbol_csv PASSED [ 19%]
tests/test_backtesting_framework.py::TestHistoricalDataLoader::test_load_batch PASSED [ 19%]
tests/test_backtesting_framework.py::TestHistoricalDataLoader::test_load_nonexistent_symbol PASSED [ 19%]
tests/test_backtesting_framework.py::TestHistoricalDataLoader::test_cache PASSED [ 19%]
tests/test_backtesting_framework.py::TestHistoricalSignalRunner::test_generate_signals_for_symbol PASSED [ 20%]
tests/test_backtesting_framework.py::TestHistoricalSignalRunner::test_generate_batch_signals PASSED [ 20%]
tests/test_backtesting_framework.py::TestHistoricalSignalRunner::test_signal_caching PASSED [ 20%]
tests/test_backtesting_framework.py::TestBacktestConfig::test_config_defaults PASSED [ 20%]
tests/test_backtesting_framework.py::TestBacktestConfig::test_config_custom PASSED [ 20%]
tests/test_backtesting_framework.py::TestBacktestRunner::test_runner_initialization PASSED [ 20%]
tests/test_backtesting_framework.py::TestBacktestRunner::test_runner_artifacts PASSED [ 20%]
tests/test_benchmark_harness.py::test_manifest_and_validation PASSED     [ 20%]
tests/test_bus/test_config.py::TestAdapterType::test_adapter_types_exist PASSED [ 20%]
tests/test_bus/test_config.py::TestAdapterType::test_adapter_type_count PASSED [ 20%]
tests/test_bus/test_config.py::TestBusConfig::test_default_config PASSED [ 20%]
tests/test_bus/test_config.py::TestBusConfig::test_custom_config PASSED  [ 20%]
tests/test_bus/test_config.py::TestBusConfig::test_validate_valid_config PASSED [ 20%]
tests/test_bus/test_config.py::TestBusConfig::test_validate_invalid_payload_size PASSED [ 20%]
tests/test_bus/test_config.py::TestBusConfig::test_validate_invalid_handler_timeout PASSED [ 20%]
tests/test_bus/test_config.py::TestBusConfig::test_validate_redis_missing_url PASSED [ 20%]
tests/test_bus/test_config.py::TestBusConfig::test_validate_multiple_errors PASSED [ 20%]
tests/test_bus/test_config.py::TestBusConfig::test_validate_redis_with_valid_url PASSED [ 20%]
tests/test_bus/test_config.py::TestBusConfig::test_validate_memory_adapter_no_redis_url_needed PASSED [ 20%]
tests/test_bus/test_config.py::TestBusConfig::test_config_adapter_type_string PASSED [ 20%]
tests/test_bus/test_config.py::TestBusConfig::test_config_history_disabled PASSED [ 20%]
tests/test_bus/test_config.py::TestBusConfig::test_config_retry_disabled PASSED [ 20%]
tests/test_bus/test_config.py::TestBusConfig::test_config_metrics_disabled PASSED [ 20%]
tests/test_bus/test_config.py::TestBusConfig::test_config_extreme_values PASSED [ 20%]
tests/test_bus/test_config.py::TestBusConfig::test_config_negative_values_fail PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusInit::test_init_default_config PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusInit::test_init_custom_config PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusInit::test_init_invalid_config_raises PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusPublish::test_publish_simple_event PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusPublish::test_publish_sets_published_at PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusPublish::test_publish_stores_in_history PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusPublish::test_publish_no_history_when_disabled PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusPublish::test_publish_trims_history PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusPublish::test_publish_oversized_payload_dropped PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusPublish::test_publish_updates_metrics PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusPublish::test_publish_no_subscribers PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusSubscribe::test_subscribe_returns_id PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusSubscribe::test_subscribe_stores_subscription PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusSubscribe::test_subscribe_with_event_type_enum PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusSubscribe::test_subscribe_with_filters PASSED [ 20%]
tests/test_bus/test_engine.py::TestStreamingBusSubscribe::test_subscribe_updates_metrics PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusSubscribe::test_unsubscribe_removes_subscription PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusSubscribe::test_unsubscribe_updates_metrics PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusSubscribe::test_unsubscribe_nonexistent_returns_false PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusSubscribe::test_multiple_subscriptions_same_topic PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusEventDelivery::test_deliver_to_single_subscriber PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusEventDelivery::test_deliver_to_multiple_subscribers PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusEventDelivery::test_deliver_only_to_matching_topic PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusEventDelivery::test_deliver_with_wildcard_subscription PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusEventDelivery::test_deliver_with_wildcard_prefix PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusEventDelivery::test_deliver_with_source_filter PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusEventDelivery::test_deliver_with_symbol_filter PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusEventDelivery::test_deliver_with_priority_filter PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusEventDelivery::test_deliver_updates_metrics PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHandlerErrors::test_handler_error_does_not_crash_bus PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHandlerErrors::test_handler_error_updates_metrics PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHandlerErrors::test_handler_retry_on_failure PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHandlerErrors::test_handler_no_retry_when_disabled PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHandlerErrors::test_handler_partial_failure PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHandlerTimeout::test_handler_timeout PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHandlerTimeout::test_handler_completes_within_timeout PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHistory::test_get_latest_no_filter PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHistory::test_get_latest_with_event_type_filter PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHistory::test_get_latest_with_symbol_filter PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHistory::test_get_latest_combined_filters PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHistory::test_get_latest_when_history_disabled PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHistory::test_replay_all_events PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHistory::test_replay_with_event_type_filter PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHistory::test_replay_with_since_filter PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusHistory::test_clear_history PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusMetrics::test_get_metrics_initial_state PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusMetrics::test_metrics_track_publications PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusMetrics::test_metrics_track_deliveries PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusMetrics::test_metrics_track_subscriptions PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusMetrics::test_metrics_track_history_size PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusShutdown::test_shutdown_clears_subscriptions PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusShutdown::test_shutdown_sets_running_flag PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusShutdown::test_multiple_shutdown_calls_safe PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusConcurrency::test_concurrent_publishes PASSED [ 21%]
tests/test_bus/test_engine.py::TestStreamingBusConcurrency::test_concurrent_subscriptions PASSED [ 22%]
tests/test_bus/test_engine.py::TestStreamingBusConcurrency::test_max_concurrent_handlers PASSED [ 22%]
tests/test_bus/test_engine.py::TestStreamingBusEdgeCases::test_empty_payload PASSED [ 22%]
tests/test_bus/test_engine.py::TestStreamingBusEdgeCases::test_none_symbol PASSED [ 22%]
tests/test_bus/test_engine.py::TestStreamingBusEdgeCases::test_custom_event_type PASSED [ 22%]
tests/test_bus/test_engine.py::TestStreamingBusEdgeCases::test_unsubscribe_during_publish PASSED [ 22%]
tests/test_bus/test_models.py::TestEventType::test_all_event_types_exist PASSED [ 22%]
tests/test_bus/test_models.py::TestEventType::test_event_type_values PASSED [ 22%]
tests/test_bus/test_models.py::TestEventType::test_event_type_categories PASSED [ 22%]
tests/test_bus/test_models.py::TestEventPriority::test_priority_levels PASSED [ 22%]
tests/test_bus/test_models.py::TestEventPriority::test_priority_ordering PASSED [ 22%]
tests/test_bus/test_models.py::TestBusEvent::test_create_event_minimal PASSED [ 22%]
tests/test_bus/test_models.py::TestBusEvent::test_create_event_with_enum_type PASSED [ 22%]
tests/test_bus/test_models.py::TestBusEvent::test_create_event_full PASSED [ 22%]
tests/test_bus/test_models.py::TestBusEvent::test_type_enum_property PASSED [ 22%]
tests/test_bus/test_models.py::TestBusEvent::test_age_ms_property PASSED [ 22%]
tests/test_bus/test_models.py::TestBusEvent::test_to_dict PASSED         [ 22%]
tests/test_bus/test_models.py::TestBusEvent::test_from_dict PASSED       [ 22%]
tests/test_bus/test_models.py::TestBusEvent::test_from_dict_minimal PASSED [ 22%]
tests/test_bus/test_models.py::TestBusEvent::test_roundtrip_serialization PASSED [ 22%]
tests/test_bus/test_models.py::TestSubscription::test_create_subscription PASSED [ 22%]
tests/test_bus/test_models.py::TestSubscription::test_subscription_with_filters PASSED [ 22%]
tests/test_bus/test_models.py::TestSubscription::test_matches_exact_topic PASSED [ 22%]
tests/test_bus/test_models.py::TestSubscription::test_matches_wildcard_all PASSED [ 22%]
tests/test_bus/test_models.py::TestSubscription::test_matches_wildcard_prefix PASSED [ 22%]
tests/test_bus/test_models.py::TestSubscription::test_matches_source_filter PASSED [ 22%]
tests/test_bus/test_models.py::TestSubscription::test_matches_symbol_filter PASSED [ 22%]
tests/test_bus/test_models.py::TestSubscription::test_matches_priority_filter PASSED [ 22%]
tests/test_bus/test_models.py::TestSubscription::test_matches_combined_filters PASSED [ 22%]
tests/test_bus/test_models.py::TestSubscription::test_matches_inactive_subscription PASSED [ 22%]
tests/test_bus/test_models.py::TestSubscription::test_matches_with_enum_event_type PASSED [ 22%]
tests/test_bus/test_redis_adapter.py::test_publish_writes_to_redis_stream PASSED [ 22%]
tests/test_bus/test_redis_adapter.py::test_schema_validator_blocks_publish PASSED [ 22%]
tests/test_bus/test_redis_adapter.py::test_publish_governance_denies PASSED [ 22%]
tests/test_bus/test_redis_adapter.py::test_subscribe_governance_denies PASSED [ 22%]
tests/test_cli/test_cli.py::TestLoadMarketData::test_load_data_with_timestamp_column PASSED [ 22%]
tests/test_cli/test_cli.py::TestLoadMarketData::test_load_data_with_date_column PASSED [ 22%]
tests/test_cli/test_cli.py::TestLoadMarketData::test_load_data_with_symbol_column PASSED [ 22%]
tests/test_cli/test_cli.py::TestLoadMarketData::test_load_data_uses_filename_as_symbol PASSED [ 22%]
tests/test_cli/test_cli.py::TestLoadMarketData::test_load_data_missing_timestamp_column PASSED [ 22%]
tests/test_cli/test_cli.py::TestLoadMarketData::test_load_data_missing_required_columns PASSED [ 23%]
tests/test_cli/test_cli.py::TestLoadMarketData::test_load_data_multiple_required_columns_missing PASSED [ 23%]
tests/test_cli/test_cli.py::TestLoadMarketData::test_load_data_sets_datetime_index PASSED [ 23%]
tests/test_cli/test_cli.py::TestCreateStrategy::test_create_rsi_strategy PASSED [ 23%]
tests/test_cli/test_cli.py::TestCreateStrategy::test_create_ma_strategy PASSED [ 23%]
tests/test_cli/test_cli.py::TestCreateStrategy::test_create_momentum_strategy PASSED [ 23%]
tests/test_cli/test_cli.py::TestCreateStrategy::test_create_strategy_case_insensitive PASSED [ 23%]
tests/test_cli/test_cli.py::TestCreateStrategy::test_create_strategy_with_parameters PASSED [ 23%]
tests/test_cli/test_cli.py::TestCreateStrategy::test_create_ma_strategy_with_parameters PASSED [ 23%]
tests/test_cli/test_cli.py::TestCreateStrategy::test_create_unknown_strategy PASSED [ 23%]
tests/test_cli/test_cli.py::TestCreateStrategy::test_create_strategy_error_lists_available PASSED [ 23%]
tests/test_cli/test_cli.py::TestCreateStrategy::test_strategy_has_required_methods PASSED [ 23%]
tests/test_cli/test_cli.py::TestCLIIntegration::test_load_and_validate_data_flow PASSED [ 23%]
tests/test_cli/test_cli.py::TestCLIIntegration::test_all_strategies_with_loaded_data PASSED [ 23%]
tests/test_cli/test_cli.py::TestCLIIntegration::test_data_with_extra_columns PASSED [ 23%]
tests/test_cli/test_cli.py::TestCLIIntegration::test_empty_data_file PASSED [ 23%]
tests/test_codegen_sanitization.py::test_sanitize_output_removes_think_tags PASSED [ 23%]
tests/test_codegen_sanitization.py::test_sanitize_output_removes_markdown_fences PASSED [ 23%]
tests/test_codegen_sanitization.py::test_sanitize_output_handles_mixed_content PASSED [ 23%]
tests/test_core/test_container.py::TestContainerConfig::test_default_config PASSED [ 23%]
tests/test_core/test_container.py::TestContainerConfig::test_custom_config PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_create_paper_broker PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_broker_singleton PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_kill_switch_disabled PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_kill_switch_enabled PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_flowroute_engine_creation PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_flowroute_engine_singleton PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_reset_clears_instances PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_unknown_broker_type_raises PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_create_alpaca_broker SKIPPED [ 23%]
tests/test_core/test_container.py::TestContainer::test_alpaca_broker_singleton SKIPPED [ 23%]
tests/test_core/test_container.py::TestContainer::test_alpaca_broker_paper_false SKIPPED [ 23%]
tests/test_core/test_container.py::TestContainer::test_kill_switch_singleton PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_order_repository_disabled PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_order_repository_no_db_path PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_order_repository_enabled PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_order_repository_singleton PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_alert_manager_disabled PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_alert_manager_enabled PASSED [ 23%]
tests/test_core/test_container.py::TestContainer::test_alert_manager_singleton PASSED [ 24%]
tests/test_core/test_container.py::TestContainer::test_alert_manager_with_config PASSED [ 24%]
tests/test_core/test_container.py::TestContainer::test_flowroute_engine_with_all_dependencies PASSED [ 24%]
tests/test_core/test_container.py::TestContainer::test_flowroute_engine_minimal_dependencies PASSED [ 24%]
tests/test_core/test_container.py::TestContainer::test_paper_broker_custom_params PASSED [ 24%]
tests/test_core/test_container.py::TestContainer::test_container_default_config PASSED [ 24%]
tests/test_core/test_container.py::TestContainer::test_reset_with_multiple_instances PASSED [ 24%]
tests/test_core/test_container.py::TestFactoryFunctions::test_create_paper_trading_engine PASSED [ 24%]
tests/test_core/test_container.py::TestFactoryFunctions::test_create_paper_trading_engine_defaults PASSED [ 24%]
tests/test_core/test_container.py::TestFactoryFunctions::test_create_paper_trading_engine_custom_params PASSED [ 24%]
tests/test_core/test_container.py::TestFactoryFunctions::test_create_alpaca_engine_defaults SKIPPED [ 24%]
tests/test_core/test_container.py::TestFactoryFunctions::test_create_alpaca_engine_with_persistence SKIPPED [ 24%]
tests/test_core/test_container.py::TestFactoryFunctions::test_create_alpaca_engine_paper_false SKIPPED [ 24%]
tests/test_core/test_container.py::TestFactoryFunctions::test_create_alpaca_engine_no_kill_switch SKIPPED [ 24%]
tests/test_core/test_container.py::TestFactoryFunctions::test_create_alpaca_engine_none_credentials SKIPPED [ 24%]
tests/test_core/test_container.py::TestDefaultContainer::test_get_default_container PASSED [ 24%]
tests/test_core/test_container.py::TestDefaultContainer::test_set_default_container PASSED [ 24%]
tests/test_core/test_container.py::TestDefaultContainer::test_reset_default_container PASSED [ 24%]
tests/test_core/test_container.py::TestDefaultContainer::test_get_default_container_singleton PASSED [ 24%]
tests/test_core/test_container.py::TestDefaultContainer::test_reset_default_container_calls_reset PASSED [ 24%]
tests/test_core/test_container.py::TestDefaultContainer::test_reset_default_container_when_none PASSED [ 24%]
tests/test_core/test_dual_write.py::TestUtcNow::test_returns_datetime PASSED [ 24%]
tests/test_core/test_dual_write.py::TestUtcNow::test_returns_timezone_aware PASSED [ 24%]
tests/test_core/test_dual_write.py::TestWritePhase::test_all_phases_exist PASSED [ 24%]
tests/test_core/test_dual_write.py::TestWritePhase::test_phase_count PASSED [ 24%]
tests/test_core/test_dual_write.py::TestDualWriteResult::test_create_success_result PASSED [ 24%]
tests/test_core/test_dual_write.py::TestDualWriteResult::test_create_failure_result PASSED [ 24%]
tests/test_core/test_dual_write.py::TestDualWriteResult::test_default_values PASSED [ 24%]
tests/test_core/test_dual_write.py::TestDualWriteResult::test_to_dict PASSED [ 24%]
tests/test_core/test_dual_write.py::TestDualWriteResult::test_to_dict_with_error PASSED [ 24%]
tests/test_core/test_dual_write.py::TestSyncQueueEntry::test_create_entry PASSED [ 24%]
tests/test_core/test_dual_write.py::TestSyncQueueEntry::test_default_values PASSED [ 24%]
tests/test_core/test_dual_write.py::TestSyncQueueEntry::test_should_retry_true PASSED [ 24%]
tests/test_core/test_dual_write.py::TestSyncQueueEntry::test_should_retry_false PASSED [ 24%]
tests/test_core/test_dual_write.py::TestSyncQueueEntry::test_should_retry_false_exceeded PASSED [ 24%]
tests/test_core/test_dual_write.py::TestDualWriteManagerInit::test_init_default_params PASSED [ 24%]
tests/test_core/test_dual_write.py::TestDualWriteManagerInit::test_init_custom_params PASSED [ 24%]
tests/test_core/test_dual_write.py::TestDualWriteManagerInit::test_initial_state PASSED [ 24%]
tests/test_core/test_dual_write.py::TestDualWriteManagerInit::test_get_metrics PASSED [ 24%]
tests/test_core/test_dual_write.py::TestDualWriteManagerCircuitBreaker::test_handle_chroma_failure_increments PASSED [ 24%]
tests/test_core/test_dual_write.py::TestDualWriteManagerCircuitBreaker::test_circuit_opens_at_threshold PASSED [ 25%]
tests/test_core/test_dual_write.py::TestDualWriteManagerCircuitBreaker::test_queue_for_sync PASSED [ 25%]
tests/test_core/test_dual_write.py::TestDualWriteManagerContextManager::test_context_manager_entry_no_background PASSED [ 25%]
tests/test_core/test_dual_write.py::TestDualWriteManagerContextManager::test_context_manager_exit PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_basic_acquire PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_multiple_acquire PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_burst_limit PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_token_refill PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_wait PASSED      [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_wait_multiple_tokens PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_concurrent_acquire PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_concurrent_mixed PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_stats_tracking PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_zero_tokens_request PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_large_token_request PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_config_validation PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_high_concurrency PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_refill_accuracy PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limit_strategy_enum PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limit_state_dataclass PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limit_state_defaults PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limit_config_defaults PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_get_state PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limiter_reset PASSED     [ 25%]
tests/test_core/test_rate_limiter.py::test_sliding_window_basic_acquire PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_sliding_window_limit_exceeded PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_sliding_window_get_state PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_sliding_window_wait PASSED    [ 25%]
tests/test_core/test_rate_limiter.py::test_multi_tier_initialization PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_multi_tier_acquire PASSED     [ 25%]
tests/test_core/test_rate_limiter.py::test_multi_tier_wait PASSED        [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limited_function_class PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limited_decorator PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_rate_limited_multiple_calls PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_adaptive_initialization PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_adaptive_acquire PASSED       [ 25%]
tests/test_core/test_rate_limiter.py::test_adaptive_wait PASSED          [ 25%]
tests/test_core/test_rate_limiter.py::test_adaptive_update_from_headers_limit PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_adaptive_update_from_headers_remaining PASSED [ 25%]
tests/test_core/test_rate_limiter.py::test_adaptive_update_from_headers_reset PASSED [ 26%]
tests/test_core/test_rate_limiter.py::test_adaptive_update_from_headers_retry_after PASSED [ 26%]
tests/test_core/test_rate_limiter.py::test_adaptive_acquire_respects_server_limit PASSED [ 26%]
tests/test_core/test_rate_limiter.py::test_adaptive_update_invalid_headers PASSED [ 26%]
tests/test_core/test_rate_limiter.py::test_adaptive_update_short_reset_value PASSED [ 26%]
tests/test_core/test_validation.py::test_market_data_validator_valid_quote PASSED [ 26%]
tests/test_core/test_validation.py::test_market_data_validator_missing_symbol PASSED [ 26%]
tests/test_core/test_validation.py::test_market_data_validator_bid_ask_crossed PASSED [ 26%]
tests/test_core/test_validation.py::test_market_data_validator_negative_price PASSED [ 26%]
tests/test_core/test_validation.py::test_market_data_validator_price_too_high PASSED [ 26%]
tests/test_core/test_validation.py::test_market_data_validator_valid_ohlc PASSED [ 26%]
tests/test_core/test_validation.py::test_market_data_validator_invalid_ohlc_high PASSED [ 26%]
tests/test_core/test_validation.py::test_market_data_validator_valid_ohlc_all_equal PASSED [ 26%]
tests/test_core/test_validation.py::test_market_data_validator_negative_volume PASSED [ 26%]
tests/test_core/test_validation.py::test_market_data_validator_excessive_volume PASSED [ 26%]
tests/test_core/test_validation.py::test_market_data_validator_stale_timestamp PASSED [ 26%]
tests/test_core/test_validation.py::test_market_data_validator_future_timestamp PASSED [ 26%]
tests/test_core/test_validation.py::test_order_validator_valid_market_order PASSED [ 26%]
tests/test_core/test_validation.py::test_order_validator_valid_limit_order PASSED [ 26%]
tests/test_core/test_validation.py::test_order_validator_missing_required_fields PASSED [ 26%]
tests/test_core/test_validation.py::test_order_validator_invalid_side PASSED [ 26%]
tests/test_core/test_validation.py::test_order_validator_invalid_order_type PASSED [ 26%]
tests/test_core/test_validation.py::test_order_validator_limit_order_missing_price PASSED [ 26%]
tests/test_core/test_validation.py::test_order_validator_stop_order_missing_price PASSED [ 26%]
tests/test_core/test_validation.py::test_order_validator_zero_quantity PASSED [ 26%]
tests/test_core/test_validation.py::test_order_validator_negative_quantity PASSED [ 26%]
tests/test_core/test_validation.py::test_order_validator_quantity_exceeds_max PASSED [ 26%]
tests/test_core/test_validation.py::test_order_validator_price_deviation_warning PASSED [ 26%]
tests/test_core/test_validation.py::test_order_validator_order_value_exceeds_max PASSED [ 26%]
tests/test_core/test_validation.py::test_order_validator_invalid_time_in_force PASSED [ 26%]
tests/test_core/test_validation.py::test_order_validator_case_insensitive PASSED [ 26%]
tests/test_core/test_validation.py::test_validation_result_add_issue PASSED [ 26%]
tests/test_core/test_validation.py::test_validation_result_has_errors_property PASSED [ 26%]
tests/test_core/test_validation.py::test_validation_result_has_warnings_property PASSED [ 26%]
tests/test_core/test_validation.py::test_data_validator_validate_market_data PASSED [ 26%]
tests/test_core/test_validation.py::test_data_validator_validate_order PASSED [ 26%]
tests/test_core/test_validation.py::test_data_validator_generic_validate PASSED [ 26%]
tests/test_core/test_validation.py::test_data_validator_unknown_type PASSED [ 26%]
tests/test_core/test_validation.py::test_data_validator_register_custom_validator PASSED [ 26%]
tests/test_core/test_validation.py::test_validation_non_numeric_price PASSED [ 26%]
tests/test_core/test_validation.py::test_validation_non_numeric_quantity PASSED [ 27%]
tests/test_core/test_validation.py::test_validation_severity_info PASSED [ 27%]
tests/test_core/test_validation.py::test_validation_severity_critical PASSED [ 27%]
tests/test_core/test_validation.py::test_validation_issue_with_expected PASSED [ 27%]
tests/test_core/test_validation.py::test_validation_result_validated_at PASSED [ 27%]
tests/test_core/test_validation.py::test_market_data_validator_symbol_none PASSED [ 27%]
tests/test_core/test_validation.py::test_market_data_validator_invalid_timestamp_string PASSED [ 27%]
tests/test_core/test_validation.py::test_market_data_validator_timestamp_string_with_z PASSED [ 27%]
tests/test_core/test_validation.py::test_market_data_validator_non_numeric_volume PASSED [ 27%]
tests/test_core/test_validation.py::test_market_data_validator_price_exactly_at_min PASSED [ 27%]
tests/test_core/test_validation.py::test_market_data_validator_price_exactly_at_max PASSED [ 27%]
tests/test_core/test_validation.py::test_market_data_validator_volume_zero PASSED [ 27%]
tests/test_core/test_validation.py::test_market_data_validator_volume_exactly_at_max PASSED [ 27%]
tests/test_core/test_validation.py::test_market_data_validator_ohlc_partial PASSED [ 27%]
tests/test_core/test_validation.py::test_order_validator_stop_limit_order PASSED [ 27%]
tests/test_core/test_validation.py::test_order_validator_stop_limit_missing_both_prices PASSED [ 27%]
tests/test_core/test_validation.py::test_order_validator_negative_limit_price PASSED [ 27%]
tests/test_core/test_validation.py::test_order_validator_zero_limit_price PASSED [ 27%]
tests/test_core/test_validation.py::test_order_validator_non_numeric_limit_price SKIPPED [ 27%]
tests/test_core/test_validation.py::test_order_validator_negative_stop_price PASSED [ 27%]
tests/test_core/test_validation.py::test_order_validator_zero_stop_price PASSED [ 27%]
tests/test_core/test_validation.py::test_order_validator_non_numeric_stop_price SKIPPED [ 27%]
tests/test_core/test_validation.py::test_order_validator_price_deviation_no_warning_within_threshold PASSED [ 27%]
tests/test_core/test_validation.py::test_order_validator_no_price_deviation_check_without_current_price PASSED [ 27%]
tests/test_core/test_validation.py::test_order_validator_valid_time_in_force PASSED [ 27%]
tests/test_core/test_validation.py::test_order_validator_default_time_in_force PASSED [ 27%]
tests/test_core/test_validation.py::test_data_validator_validate_with_kwargs PASSED [ 27%]
tests/test_core/test_validation.py::test_market_data_validator_custom_config PASSED [ 27%]
tests/test_core/test_validation.py::test_order_validator_custom_config PASSED [ 27%]
tests/test_core/test_validation.py::test_validation_result_data_field PASSED [ 27%]
tests/test_core/test_validation.py::test_market_data_validator_bid_ask_both_none PASSED [ 27%]
tests/test_core/test_validation.py::test_market_data_validator_bid_ask_one_none PASSED [ 27%]
tests/test_core/test_validation.py::test_market_data_validator_timestamp_exactly_at_max_age PASSED [ 27%]
tests/test_domain/test_enums.py::TestOrderSide::test_order_side_values PASSED [ 27%]
tests/test_domain/test_enums.py::TestOrderSide::test_order_side_is_str_enum PASSED [ 27%]
tests/test_domain/test_enums.py::TestOrderSide::test_order_side_count PASSED [ 27%]
tests/test_domain/test_enums.py::TestOrderType::test_order_type_values PASSED [ 27%]
tests/test_domain/test_enums.py::TestOrderType::test_order_type_is_str_enum PASSED [ 27%]
tests/test_domain/test_enums.py::TestOrderType::test_order_type_count PASSED [ 27%]
tests/test_domain/test_enums.py::TestTimeInForce::test_time_in_force_values PASSED [ 28%]
tests/test_domain/test_enums.py::TestTimeInForce::test_time_in_force_is_str_enum PASSED [ 28%]
tests/test_domain/test_enums.py::TestTimeInForce::test_time_in_force_count PASSED [ 28%]
tests/test_domain/test_enums.py::TestOrderStatus::test_order_status_values PASSED [ 28%]
tests/test_domain/test_enums.py::TestOrderStatus::test_order_status_is_str_enum PASSED [ 28%]
tests/test_domain/test_enums.py::TestOrderStatus::test_order_status_count PASSED [ 28%]
tests/test_domain/test_enums.py::TestPositionSide::test_position_side_values PASSED [ 28%]
tests/test_domain/test_enums.py::TestPositionSide::test_position_side_is_str_enum PASSED [ 28%]
tests/test_domain/test_enums.py::TestPositionSide::test_position_side_count PASSED [ 28%]
tests/test_domain/test_instruments.py::TestInstrumentType::test_instrument_type_values PASSED [ 28%]
tests/test_domain/test_instruments.py::TestInstrumentType::test_instrument_type_members PASSED [ 28%]
tests/test_domain/test_instruments.py::TestBaseInstrument::test_base_instrument_creation PASSED [ 28%]
tests/test_domain/test_instruments.py::TestBaseInstrument::test_base_instrument_with_all_fields PASSED [ 28%]
tests/test_domain/test_instruments.py::TestBaseInstrument::test_base_instrument_crypto PASSED [ 28%]
tests/test_domain/test_instruments.py::TestBaseInstrument::test_base_instrument_forex PASSED [ 28%]
tests/test_domain/test_instruments.py::TestFutureContract::test_future_contract_creation PASSED [ 28%]
tests/test_domain/test_instruments.py::TestFutureContract::test_future_contract_physical_settlement PASSED [ 28%]
tests/test_domain/test_instruments.py::TestFutureContract::test_days_to_expiry_future PASSED [ 28%]
tests/test_domain/test_instruments.py::TestFutureContract::test_days_to_expiry_past PASSED [ 28%]
tests/test_domain/test_instruments.py::TestFutureContract::test_days_to_expiry_today PASSED [ 28%]
tests/test_domain/test_instruments.py::TestFutureContract::test_future_contract_type_frozen PASSED [ 28%]
tests/test_domain/test_market_data.py::TestBar::test_bar_creation PASSED [ 28%]
tests/test_domain/test_market_data.py::TestBar::test_bar_with_optional_fields PASSED [ 28%]
tests/test_domain/test_market_data.py::TestBar::test_bar_is_frozen PASSED [ 28%]
tests/test_domain/test_market_data.py::TestBar::test_bar_equality PASSED [ 28%]
tests/test_domain/test_market_data.py::TestBar::test_bar_inequality PASSED [ 28%]
tests/test_domain/test_market_data.py::TestBar::test_bar_hashable PASSED [ 28%]
tests/test_domain/test_market_data.py::TestBar::test_bar_dict_conversion PASSED [ 28%]
tests/test_domain/test_orders.py::TestFill::test_fill_creation PASSED    [ 28%]
tests/test_domain/test_orders.py::TestFill::test_fill_with_all_fields PASSED [ 28%]
tests/test_domain/test_orders.py::TestFill::test_fill_total_cost_buy PASSED [ 28%]
tests/test_domain/test_orders.py::TestFill::test_fill_total_cost_sell PASSED [ 28%]
tests/test_domain/test_orders.py::TestFill::test_fill_total_cost_with_multiplier PASSED [ 28%]
tests/test_domain/test_orders.py::TestFill::test_fill_net_proceeds_sell PASSED [ 28%]
tests/test_domain/test_orders.py::TestFill::test_fill_net_proceeds_buy PASSED [ 28%]
tests/test_domain/test_orders.py::TestExecutionEvent::test_execution_event_creation PASSED [ 28%]
tests/test_domain/test_orders.py::TestExecutionEvent::test_execution_event_with_error PASSED [ 28%]
tests/test_domain/test_orders.py::TestOrder::test_order_creation_market PASSED [ 28%]
tests/test_domain/test_orders.py::TestOrder::test_order_creation_limit PASSED [ 28%]
tests/test_domain/test_orders.py::TestOrder::test_order_limit_requires_price PASSED [ 28%]
tests/test_domain/test_orders.py::TestOrder::test_order_stop_requires_price PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_stop_limit_requires_both_prices PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_stop_limit_valid PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_timestamp_alias PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_remaining_quantity PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_is_terminal_filled PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_is_terminal_cancelled PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_is_terminal_rejected PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_is_terminal_expired PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_is_terminal_error PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_is_terminal_false PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_is_active_submitted PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_is_active_acknowledged PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_is_active_partially_filled PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_is_active_false PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_is_filled PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_is_filled_false PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_is_partial PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_is_partial_false_empty PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_is_partial_false_full PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_fill_percentage PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_fill_percentage_zero_quantity PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_add_fill PASSED  [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_add_fill_complete PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_with_metadata PASSED [ 29%]
tests/test_domain/test_orders.py::TestOrder::test_order_with_source_tracking PASSED [ 29%]
tests/test_domain/test_positions.py::TestPosition::test_position_creation_default PASSED [ 29%]
tests/test_domain/test_positions.py::TestPosition::test_position_long PASSED [ 29%]
tests/test_domain/test_positions.py::TestPosition::test_position_short PASSED [ 29%]
tests/test_domain/test_positions.py::TestPosition::test_position_market_value PASSED [ 29%]
tests/test_domain/test_positions.py::TestPosition::test_position_market_value_with_multiplier PASSED [ 29%]
tests/test_domain/test_positions.py::TestPosition::test_position_cost_basis PASSED [ 29%]
tests/test_domain/test_positions.py::TestPosition::test_position_total_pnl PASSED [ 29%]
tests/test_domain/test_positions.py::TestPosition::test_position_pnl_pct PASSED [ 29%]
tests/test_domain/test_positions.py::TestPosition::test_position_pnl_pct_zero_cost_basis PASSED [ 29%]
tests/test_domain/test_positions.py::TestPosition::test_position_is_open_true PASSED [ 29%]
tests/test_domain/test_positions.py::TestPosition::test_position_is_open_false_flat PASSED [ 29%]
tests/test_domain/test_positions.py::TestPosition::test_position_is_open_false_zero_quantity PASSED [ 29%]
tests/test_domain/test_positions.py::TestPosition::test_position_is_flat PASSED [ 29%]
tests/test_domain/test_positions.py::TestPosition::test_position_is_flat_false PASSED [ 30%]
tests/test_domain/test_positions.py::TestPosition::test_position_update_price_long PASSED [ 30%]
tests/test_domain/test_positions.py::TestPosition::test_position_update_price_short PASSED [ 30%]
tests/test_domain/test_positions.py::TestPosition::test_position_update_price_short_loss PASSED [ 30%]
tests/test_domain/test_positions.py::TestPosition::test_position_update_price_zero_quantity PASSED [ 30%]
tests/test_domain/test_positions.py::TestPosition::test_position_with_metadata PASSED [ 30%]
tests/test_domain/test_positions.py::TestTrade::test_trade_creation PASSED [ 30%]
tests/test_domain/test_positions.py::TestTrade::test_trade_is_winner PASSED [ 30%]
tests/test_domain/test_positions.py::TestTrade::test_trade_is_winner_false PASSED [ 30%]
tests/test_domain/test_positions.py::TestTrade::test_trade_is_loser PASSED [ 30%]
tests/test_domain/test_positions.py::TestTrade::test_trade_is_loser_false PASSED [ 30%]
tests/test_domain/test_positions.py::TestTrade::test_trade_breakeven PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestBaseEngineConfig::test_default_values PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestBaseEngineConfig::test_custom_name PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestBaseEngineConfig::test_name_auto_generation PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestBaseEngineConfig::test_post_init_name_generation PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestBaseEngineConfig::test_disable_features PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestBaseEngineConfig::test_custom_timeouts PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestBaseEngineConfig::test_custom_retry_settings PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestBaseEngineConfig::test_to_dict PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestBaseEngineConfig::test_to_dict_all_fields PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestAIEngineConfig::test_default_values PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestAIEngineConfig::test_inherits_base_config PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestAIEngineConfig::test_custom_model_settings PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestAIEngineConfig::test_cache_settings PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestAIEngineConfig::test_api_timeout PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestAIEngineConfig::test_temperature_range PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestDataEngineConfig::test_default_values PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestDataEngineConfig::test_inherits_base_config PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestDataEngineConfig::test_custom_batch_settings PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestDataEngineConfig::test_custom_checkpoint_path PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestDataEngineConfig::test_checkpoint_disabled PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestDataEngineConfig::test_parallel_workers PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestDataEngineConfig::test_checkpoint_path_default_factory PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestTradingEngineConfig::test_default_values PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestTradingEngineConfig::test_inherits_base_config PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestTradingEngineConfig::test_live_trading_mode PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestTradingEngineConfig::test_risk_limits PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestTradingEngineConfig::test_symbols_list PASSED [ 30%]
tests/test_engines/test_base/test_config.py::TestTradingEngineConfig::test_symbols_default_factory PASSED [ 31%]
tests/test_engines/test_base/test_config.py::TestConfigInheritance::test_ai_config_is_base_config PASSED [ 31%]
tests/test_engines/test_base/test_config.py::TestConfigInheritance::test_data_config_is_base_config PASSED [ 31%]
tests/test_engines/test_base/test_config.py::TestConfigInheritance::test_trading_config_is_base_config PASSED [ 31%]
tests/test_engines/test_base/test_config.py::TestConfigInheritance::test_config_override_base_values PASSED [ 31%]
tests/test_engines/test_base/test_config.py::TestConfigValidation::test_empty_name_auto_populated PASSED [ 31%]
tests/test_engines/test_base/test_config.py::TestConfigValidation::test_custom_subclass_name_generation PASSED [ 31%]
tests/test_engines/test_base/test_config.py::TestConfigValidation::test_explicit_name_preserved PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestEngineMetadata::test_create_metadata PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestDocsGeneratorInit::test_init_with_engine PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestDocsGeneratorInit::test_init_custom_version_author PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestMetadataExtraction::test_extract_metadata PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestMetadataExtraction::test_to_engine_id_simple PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestMetadataExtraction::test_to_engine_id_camel_case PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestMetadataExtraction::test_extract_public_methods PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestMetadataExtraction::test_extract_dataclass_fields_valid PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestMetadataExtraction::test_extract_dataclass_fields_invalid PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestTemplateOperations::test_substitute_placeholders PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestTemplateOperations::test_load_template_not_found PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestSectionGeneration::test_generate_config_section_no_fields PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestSectionGeneration::test_generate_config_section_with_fields PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestSectionGeneration::test_generate_methods_section_no_methods PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestSectionGeneration::test_generate_methods_section_with_methods PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestSectionGeneration::test_generate_requirements_section_no_reqs PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestSectionGeneration::test_generate_requirements_section_with_reqs PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestDocGeneration::test_generate_invalid_type PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestDocGeneration::test_generate_valid_type PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestDocGeneration::test_generate_all PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestDocGeneration::test_generate_index PASSED [ 31%]
tests/test_engines/test_base/test_docs_generator.py::TestConvenienceFunction::test_generate_engine_docs PASSED [ 31%]
tests/test_engines/test_base/test_engine.py::TestEngineLifecycle::test_initial_state PASSED [ 31%]
tests/test_engines/test_base/test_engine.py::TestEngineLifecycle::test_initialize_success PASSED [ 31%]
tests/test_engines/test_base/test_engine.py::TestEngineLifecycle::test_initialize_failure PASSED [ 31%]
tests/test_engines/test_base/test_engine.py::TestEngineLifecycle::test_initialize_already_initialized PASSED [ 31%]
tests/test_engines/test_base/test_engine.py::TestEngineLifecycle::test_shutdown_success PASSED [ 31%]
tests/test_engines/test_base/test_engine.py::TestEngineLifecycle::test_shutdown_with_error PASSED [ 31%]
tests/test_engines/test_base/test_engine.py::TestEngineLifecycle::test_shutdown_already_stopped PASSED [ 31%]
tests/test_engines/test_base/test_engine.py::TestEngineLifecycle::test_state_transitions PASSED [ 31%]
tests/test_engines/test_base/test_engine.py::TestEngineHealthChecks::test_health_check_not_running PASSED [ 31%]
tests/test_engines/test_base/test_engine.py::TestEngineHealthChecks::test_health_check_success PASSED [ 31%]
tests/test_engines/test_base/test_engine.py::TestEngineHealthChecks::test_health_check_degraded PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineHealthChecks::test_health_check_failure PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineHealthChecks::test_health_check_multiple_calls PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineMetrics::test_initial_metrics PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineMetrics::test_metrics_after_initialization PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineMetrics::test_metrics_track_operations PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineMetrics::test_metrics_track_failures PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineMetrics::test_metrics_latency_percentiles PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineGovernance::test_preflight_allow PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineGovernance::test_preflight_deny PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineGovernance::test_preflight_disabled PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineGovernance::test_audit_record_created PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineGovernance::test_audit_disabled PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineGovernance::test_error_handling PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineOperationTracking::test_track_operation_success PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineOperationTracking::test_track_operation_failure PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineOperationTracking::test_track_operation_preflight_denied PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineOperationTracking::test_track_operation_latency PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineOperationTracking::test_track_operation_limits_latencies PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineProperties::test_name_from_config PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineProperties::test_name_from_class PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineProperties::test_config_property PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineProperties::test_state_property PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineProperties::test_is_running_property PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineProperties::test_requirements_property PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineProperties::test_governance_property PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineRepresentation::test_repr PASSED [ 32%]
tests/test_engines/test_base/test_engine.py::TestEngineRepresentation::test_repr_after_initialize PASSED [ 32%]
tests/test_engines/test_base/test_hooks.py::TestDecisionEnum::test_decision_values PASSED [ 32%]
tests/test_engines/test_base/test_hooks.py::TestDecisionEnum::test_decision_comparison PASSED [ 32%]
tests/test_engines/test_base/test_hooks.py::TestPreflightContext::test_minimal_context PASSED [ 32%]
tests/test_engines/test_base/test_hooks.py::TestPreflightContext::test_full_context PASSED [ 32%]
tests/test_engines/test_base/test_hooks.py::TestPreflightContext::test_context_default_factories PASSED [ 32%]
tests/test_engines/test_base/test_hooks.py::TestPreflightResult::test_minimal_result PASSED [ 32%]
tests/test_engines/test_base/test_hooks.py::TestPreflightResult::test_full_result PASSED [ 32%]
tests/test_engines/test_base/test_hooks.py::TestPreflightResult::test_allowed_property PASSED [ 32%]
tests/test_engines/test_base/test_hooks.py::TestPreflightResult::test_blocked_property PASSED [ 32%]
tests/test_engines/test_base/test_hooks.py::TestBaseGovernanceHook::test_initialization PASSED [ 32%]
tests/test_engines/test_base/test_hooks.py::TestBaseGovernanceHook::test_default_preflight_allows PASSED [ 32%]
tests/test_engines/test_base/test_hooks.py::TestBaseGovernanceHook::test_default_audit_logs PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestBaseGovernanceHook::test_default_error_logs PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestBaseGovernanceHook::test_error_recoverable_logs_warning PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestBaseGovernanceHook::test_policy_version_property PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestGovernanceHookProtocol::test_mock_hook_implements_protocol PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestGovernanceHookProtocol::test_base_hook_implements_protocol PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestMockGovernanceHook::test_tracks_preflight_calls PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestMockGovernanceHook::test_tracks_audit_calls PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestMockGovernanceHook::test_tracks_error_calls PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestMockGovernanceHook::test_custom_preflight_decision PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestCompositeGovernanceHook::test_initialization PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestCompositeGovernanceHook::test_preflight_all_allow PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestCompositeGovernanceHook::test_preflight_one_deny PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestCompositeGovernanceHook::test_preflight_short_circuit_on_deny PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestCompositeGovernanceHook::test_preflight_priority_defer_over_warn PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestCompositeGovernanceHook::test_preflight_priority_warn_over_allow PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestCompositeGovernanceHook::test_audit_calls_all_hooks PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestCompositeGovernanceHook::test_audit_continues_on_error PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestCompositeGovernanceHook::test_error_calls_all_hooks PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestCompositeGovernanceHook::test_error_continues_on_hook_failure PASSED [ 33%]
tests/test_engines/test_base/test_hooks.py::TestCompositeGovernanceHook::test_empty_hooks_list PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirementEnums::test_requirement_category_values PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirementEnums::test_requirement_priority_values PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirementEnums::test_requirement_status_values PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirement::test_minimal_requirement PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirement::test_full_requirement PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirement::test_requirement_id_validation PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirement::test_requirement_engine_property PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirement::test_requirement_is_testable PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirement::test_requirement_is_verified PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirementVerification::test_minimal_verification PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirementVerification::test_full_verification PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirementVerification::test_verification_coverage PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_registry_initialization PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_register_requirement PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_register_duplicate_requirement PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_register_wrong_engine PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_create_requirement PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_create_multiple_requirements PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_create_different_categories PASSED [ 33%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_get_nonexistent_requirement PASSED [ 34%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_list_by_category PASSED [ 34%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_list_by_status PASSED [ 34%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_list_by_priority PASSED [ 34%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_record_verification PASSED [ 34%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_record_verification_updates_status PASSED [ 34%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_get_latest_verification PASSED [ 34%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_get_latest_verification_no_verifications PASSED [ 34%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_compliance_report_empty PASSED [ 34%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_compliance_report PASSED [ 34%]
tests/test_engines/test_base/test_requirements.py::TestRequirementRegistry::test_to_dict PASSED [ 34%]
tests/test_engines/test_base/test_requirements.py::TestVerifiesDecorator::test_decorator_adds_metadata PASSED [ 34%]
tests/test_engines/test_base/test_requirements.py::TestVerifiesDecorator::test_decorator_single_requirement PASSED [ 34%]
tests/test_engines/test_base/test_requirements.py::TestVerifiesDecorator::test_decorator_preserves_function PASSED [ 34%]
tests/test_engines/test_base/test_requirements.py::TestVerifiesDecorator::test_decorator_with_pytest_test PASSED [ 34%]
tests/test_engines/test_base/test_templates.py::TestTemplatesConstants::test_templates_dir_is_path PASSED [ 34%]
tests/test_engines/test_base/test_templates.py::TestTemplatesConstants::test_templates_dir_exists PASSED [ 34%]
tests/test_engines/test_base/test_templates.py::TestTemplatesConstants::test_template_files_not_empty PASSED [ 34%]
tests/test_engines/test_base/test_templates.py::TestTemplatesConstants::test_template_files_are_md PASSED [ 34%]
tests/test_engines/test_base/test_templates.py::TestTemplatesConstants::test_standard_templates_exist PASSED [ 34%]
tests/test_engines/test_base/test_templates.py::TestGetTemplate::test_get_existing_template PASSED [ 34%]
tests/test_engines/test_base/test_templates.py::TestGetTemplate::test_get_nonexistent_template_raises PASSED [ 34%]
tests/test_engines/test_base/test_templates.py::TestListTemplates::test_list_templates_returns_list PASSED [ 34%]
tests/test_engines/test_base/test_templates.py::TestListTemplates::test_list_templates_without_extension PASSED [ 34%]
tests/test_engines/test_base/test_templates.py::TestListTemplates::test_list_templates_matches_template_files PASSED [ 34%]
tests/test_engines/test_base_engine.py::TestBaseEngineStates::test_initial_state PASSED [ 34%]
tests/test_engines/test_base_engine.py::TestBaseEngineStates::test_initialize_state_transition PASSED [ 34%]
tests/test_engines/test_base_engine.py::TestBaseEngineStates::test_get_stats_before_init PASSED [ 34%]
tests/test_engines/test_base_engine.py::TestBaseEngineStates::test_get_stats_after_init PASSED [ 34%]
tests/test_engines/test_base_engine.py::TestBaseEngineConfig::test_config_defaults PASSED [ 34%]
tests/test_engines/test_base_engine.py::TestBaseEngineConfig::test_config_custom_values PASSED [ 34%]
tests/test_engines/test_base_engine.py::TestBaseEngineConfig::test_config_inheritance PASSED [ 34%]
tests/test_engines/test_base_engine.py::TestBaseEngineIntegration::test_full_lifecycle PASSED [ 34%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestAccountState::test_is_stale_when_never_synced PASSED [ 34%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestAccountState::test_is_stale_when_recently_synced PASSED [ 34%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestAccountState::test_is_stale_when_old PASSED [ 34%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestAccountState::test_custom_max_age PASSED [ 34%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestBrokerSync::test_initialize_success PASSED [ 34%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestBrokerSync::test_initialize_without_broker PASSED [ 34%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestBrokerSync::test_sync_populates_account_state PASSED [ 35%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestBrokerSync::test_sync_populates_positions PASSED [ 35%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestBrokerSync::test_sync_detects_new_positions PASSED [ 35%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestBrokerSync::test_sync_detects_closed_positions PASSED [ 35%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestBrokerSync::test_sync_handles_broker_error PASSED [ 35%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestPreTradeValidation::test_validates_buying_power PASSED [ 35%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestPreTradeValidation::test_validates_position_limit PASSED [ 35%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestPreTradeValidation::test_allows_adding_to_existing_position PASSED [ 35%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestPreTradeValidation::test_validates_minimum_buying_power PASSED [ 35%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestSubmitOrderWithValidation::test_submit_refreshes_stale_account PASSED [ 35%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestSubmitOrderWithValidation::test_submit_rejects_insufficient_funds PASSED [ 35%]
tests/test_engines/test_flowroute/test_broker_sync.py::TestEngineState::test_to_dict_includes_account_state PASSED [ 35%]
tests/test_engines/test_flowroute/test_engine.py::test_engine_initialization PASSED [ 35%]
tests/test_engines/test_flowroute/test_engine.py::test_create_order_from_intent PASSED [ 35%]
tests/test_engines/test_flowroute/test_engine.py::test_submit_order PASSED [ 35%]
tests/test_engines/test_flowroute/test_engine.py::test_submit_order_twice_fails PASSED [ 35%]
tests/test_engines/test_flowroute/test_engine.py::test_cancel_order PASSED [ 35%]
tests/test_engines/test_flowroute/test_engine.py::test_cancel_nonexistent_order PASSED [ 35%]
tests/test_engines/test_flowroute/test_engine.py::test_get_order PASSED  [ 35%]
tests/test_engines/test_flowroute/test_engine.py::test_get_active_orders PASSED [ 35%]
tests/test_engines/test_flowroute/test_engine.py::test_process_fill PASSED [ 35%]
tests/test_engines/test_flowroute/test_engine.py::test_get_execution_stats_empty PASSED [ 35%]
tests/test_engines/test_flowroute/test_engine.py::test_get_execution_stats_with_orders PASSED [ 35%]
tests/test_engines/test_flowroute/test_engine.py::test_engine_to_dict PASSED [ 35%]
tests/test_engines/test_flowroute/test_orders.py::test_order_intent_creation PASSED [ 35%]
tests/test_engines/test_flowroute/test_orders.py::test_order_creation PASSED [ 35%]
tests/test_engines/test_flowroute/test_orders.py::test_order_is_terminal PASSED [ 35%]
tests/test_engines/test_flowroute/test_orders.py::test_order_is_active PASSED [ 35%]
tests/test_engines/test_flowroute/test_orders.py::test_order_add_fill PASSED [ 35%]
tests/test_engines/test_flowroute/test_orders.py::test_order_fill_percentage PASSED [ 35%]
tests/test_engines/test_flowroute/test_orders.py::test_order_to_dict PASSED [ 35%]
tests/test_engines/test_flowroute/test_orders.py::test_fill_creation PASSED [ 35%]
tests/test_engines/test_flowroute/test_orders.py::test_fill_to_dict PASSED [ 35%]
tests/test_engines/test_flowroute/test_orders.py::test_execution_event_creation PASSED [ 35%]
tests/test_engines/test_flowroute/test_orders.py::test_execution_event_to_dict PASSED [ 35%]
tests/test_engines/test_flowroute/test_paper_broker.py::test_paper_broker_initialization PASSED [ 35%]
tests/test_engines/test_flowroute/test_paper_broker.py::test_submit_order PASSED [ 35%]
tests/test_engines/test_flowroute/test_paper_broker.py::test_cancel_order PASSED [ 35%]
tests/test_engines/test_flowroute/test_paper_broker.py::test_get_positions_empty PASSED [ 35%]
tests/test_engines/test_flowroute/test_paper_broker.py::test_get_account PASSED [ 35%]
tests/test_engines/test_flowroute/test_paper_broker.py::test_simulate_fill_buy PASSED [ 36%]
tests/test_engines/test_flowroute/test_paper_broker.py::test_simulate_fill_sell PASSED [ 36%]
tests/test_engines/test_flowroute/test_paper_broker.py::test_simulate_partial_sell PASSED [ 36%]
tests/test_engines/test_flowroute/test_paper_broker.py::test_multiple_fills_average_price PASSED [ 36%]
tests/test_engines/test_flowroute/test_paper_broker.py::test_get_fills PASSED [ 36%]
tests/test_engines/test_flowroute/test_paper_broker.py::test_reset PASSED [ 36%]
tests/test_engines/test_flowroute/test_paper_broker.py::test_get_positions_with_position PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestPortfolioSignal::test_create_portfolio_signal PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestPortfolioManagerInit::test_init_default_mode PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestPortfolioManagerInit::test_init_custom_mode PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestPortfolioManagerUpdate::test_update_no_signals PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestPortfolioManagerUpdate::test_update_not_enough_ready_strategies PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestPortfolioManagerUpdate::test_update_stores_signal_in_history PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestPortfolioManagerUpdate::test_update_trims_history_at_100 PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestConsensusAggregation::test_consensus_all_buy PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestConsensusAggregation::test_consensus_all_sell PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestConsensusAggregation::test_consensus_no_agreement PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestMajorityAggregation::test_majority_buy PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestMajorityAggregation::test_majority_no_majority PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestWeightedAggregation::test_weighted_net_buy PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestWeightedAggregation::test_weighted_net_sell PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestWeightedAggregation::test_weighted_below_threshold PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestAnyAggregation::test_any_takes_buy PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestAnyAggregation::test_any_takes_sell PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestAnyAggregation::test_any_prefers_highest_confidence PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestUnknownMode::test_unknown_mode_returns_none PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestPortfolioManagerStatus::test_get_status PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestPortfolioManagerReset::test_reset_clears_history PASSED [ 36%]
tests/test_engines/test_flowroute/test_portfolio_manager.py::TestPortfolioManagerReset::test_reset_resets_strategies PASSED [ 36%]
tests/test_engines/test_flowroute/test_strategies.py::TestSignalStrength::test_signal_strength_values PASSED [ 36%]
tests/test_engines/test_flowroute/test_strategies.py::TestSignal::test_signal_creation PASSED [ 36%]
tests/test_engines/test_flowroute/test_strategies.py::TestBaseStrategy::test_initialization PASSED [ 36%]
tests/test_engines/test_flowroute/test_strategies.py::TestBaseStrategy::test_reset PASSED [ 36%]
tests/test_engines/test_flowroute/test_strategies.py::TestBaseStrategy::test_get_status PASSED [ 36%]
tests/test_engines/test_flowroute/test_strategies.py::TestBaseStrategy::test_is_ready PASSED [ 36%]
tests/test_engines/test_flowroute/test_strategies.py::TestRSIMeanReversionStrategy::test_initialization PASSED [ 36%]
tests/test_engines/test_flowroute/test_strategies.py::TestRSIMeanReversionStrategy::test_warmup_period PASSED [ 36%]
tests/test_engines/test_flowroute/test_strategies.py::TestRSIMeanReversionStrategy::test_initialization_after_warmup PASSED [ 36%]
tests/test_engines/test_flowroute/test_strategies.py::TestRSIMeanReversionStrategy::test_oversold_buy_signal PASSED [ 36%]
tests/test_engines/test_flowroute/test_strategies.py::TestRSIMeanReversionStrategy::test_overbought_sell_signal PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestRSIMeanReversionStrategy::test_no_repeat_signals PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestRSIMeanReversionStrategy::test_reset PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestRSIMeanReversionStrategy::test_rsi_calculation PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestRSIMeanReversionStrategy::test_rsi_max_when_no_losses PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestMACrossoverStrategy::test_initialization PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestMACrossoverStrategy::test_warmup_period PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestMACrossoverStrategy::test_initialization_after_warmup PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestMACrossoverStrategy::test_bullish_crossover PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestMACrossoverStrategy::test_bearish_crossover PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestMACrossoverStrategy::test_reset PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestMACrossoverStrategy::test_price_history_limit PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestBreakoutStrategy::test_initialization PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestBreakoutStrategy::test_warmup_period PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestBreakoutStrategy::test_initialization_after_warmup PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestBreakoutStrategy::test_upside_breakout PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestBreakoutStrategy::test_downside_breakdown PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestBreakoutStrategy::test_strong_breakout PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestBreakoutStrategy::test_no_signal_in_range PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestBreakoutStrategy::test_reset PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestBreakoutStrategy::test_price_history_limit PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestVWAPStrategy::test_initialization PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestVWAPStrategy::test_warmup_period PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestVWAPStrategy::test_initialization_after_warmup PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestVWAPStrategy::test_buy_signal_above_vwap PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestVWAPStrategy::test_sell_signal_below_vwap PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestVWAPStrategy::test_no_signal_within_threshold PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestVWAPStrategy::test_default_volume PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestVWAPStrategy::test_reset PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestVWAPStrategy::test_vwap_calculation PASSED [ 37%]
tests/test_engines/test_flowroute/test_strategies.py::TestVWAPStrategy::test_price_history_limit PASSED [ 37%]
tests/test_engines/test_governance/test_audit.py::TestAuditEvent::test_event_creation PASSED [ 37%]
tests/test_engines/test_governance/test_audit.py::TestAuditEvent::test_event_hash_changes_with_content PASSED [ 37%]
tests/test_engines/test_governance/test_audit.py::TestAuditEvent::test_event_integrity_verification PASSED [ 37%]
tests/test_engines/test_governance/test_audit.py::TestAuditEvent::test_event_serialization PASSED [ 37%]
tests/test_engines/test_governance/test_audit.py::TestAuditEngine::test_engine_initialization PASSED [ 37%]
tests/test_engines/test_governance/test_audit.py::TestAuditEngine::test_log_event PASSED [ 37%]
tests/test_engines/test_governance/test_audit.py::TestAuditEngine::test_chain_linkage PASSED [ 37%]
tests/test_engines/test_governance/test_audit.py::TestAuditEngine::test_chain_integrity_verification PASSED [ 37%]
tests/test_engines/test_governance/test_audit.py::TestAuditEngine::test_get_event_by_id PASSED [ 37%]
tests/test_engines/test_governance/test_audit.py::TestAuditEngine::test_correlation_tracking PASSED [ 38%]
tests/test_engines/test_governance/test_audit.py::TestAuditEngine::test_decision_trace PASSED [ 38%]
tests/test_engines/test_governance/test_audit.py::TestAuditEngine::test_get_events_by_type PASSED [ 38%]
tests/test_engines/test_governance/test_audit.py::TestAuditEngine::test_convenience_methods PASSED [ 38%]
tests/test_engines/test_governance/test_audit.py::TestAuditEngine::test_export_chain PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestRateLimitState::test_rate_limit_allows_requests PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestRateLimitState::test_rate_limit_blocks_excess PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestRateLimitState::test_rate_limit_resets_after_window PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_engine_initialization_alpaca PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_engine_initialization_paper PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_check_rate_limit_pass PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_check_rate_limit_fail PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_check_pdt_exempt_large_account PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_check_pdt_under_limit PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_check_pdt_at_limit PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_check_buying_power_sufficient PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_check_buying_power_insufficient PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_check_short_selling_with_margin PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_check_short_selling_without_margin PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_check_short_selling_not_short PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_check_data_usage_allowed PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_check_data_usage_prohibited PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_check_order_comprehensive PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_check_order_fails_buying_power PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_record_day_trade PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_violation_callback PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_compliance_summary PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_get_broker_policies PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_add_custom_policy PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerComplianceEngine::test_reset_daily_counters PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerPolicy::test_policy_creation PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestBrokerPolicy::test_policy_with_time_window PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestComplianceCheckResult::test_result_creation PASSED [ 38%]
tests/test_engines/test_governance/test_broker_compliance.py::TestComplianceCheckResult::test_result_with_details PASSED [ 38%]
tests/test_engines/test_governance/test_ethics.py::TestOECDPrinciples::test_all_principles_defined PASSED [ 38%]
tests/test_engines/test_governance/test_ethics.py::TestEthicsEngine::test_engine_initialization PASSED [ 38%]
tests/test_engines/test_governance/test_ethics.py::TestEthicsEngine::test_check_trade_basic PASSED [ 38%]
tests/test_engines/test_governance/test_ethics.py::TestEthicsEngine::test_esg_compliance_check PASSED [ 38%]
tests/test_engines/test_governance/test_ethics.py::TestEthicsEngine::test_esg_compliance_failure PASSED [ 38%]
tests/test_engines/test_governance/test_ethics.py::TestEthicsEngine::test_sector_exclusion PASSED [ 39%]
tests/test_engines/test_governance/test_ethics.py::TestEthicsEngine::test_add_excluded_sector PASSED [ 39%]
tests/test_engines/test_governance/test_ethics.py::TestEthicsEngine::test_manipulation_detection_clean PASSED [ 39%]
tests/test_engines/test_governance/test_ethics.py::TestEthicsEngine::test_explainability_check PASSED [ 39%]
tests/test_engines/test_governance/test_ethics.py::TestEthicsEngine::test_human_oversight_threshold PASSED [ 39%]
tests/test_engines/test_governance/test_ethics.py::TestEthicsEngine::test_review_queue PASSED [ 39%]
tests/test_engines/test_governance/test_ethics.py::TestEthicsEngine::test_approve_review PASSED [ 39%]
tests/test_engines/test_governance/test_ethics.py::TestEthicsEngine::test_compliance_summary PASSED [ 39%]
tests/test_engines/test_governance/test_ethics.py::TestEthicsEngine::test_violation_callback PASSED [ 39%]
tests/test_engines/test_governance/test_ethics.py::TestEthicsEngine::test_ethics_policy_customization PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestPolicy::test_policy_creation PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestPolicy::test_policy_with_conditions PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestGovernanceEngine::test_engine_initialization PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestGovernanceEngine::test_evaluate_trade_basic PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestGovernanceEngine::test_evaluate_trade_with_risk_breach PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestGovernanceEngine::test_evaluate_trade_small_order PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestGovernanceEngine::test_add_custom_policy PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestGovernanceEngine::test_disable_policy PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestGovernanceEngine::test_evaluate_data_transmission PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestGovernanceEngine::test_evaluate_data_transmission_with_ppi PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestGovernanceEngine::test_get_compliance_report PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestGovernanceEngine::test_human_review_workflow PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestGovernanceEngine::test_audit_trail_created PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestGovernanceEngine::test_policy_violation_tracking PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestGovernanceEngine::test_get_policy_by_type PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestGovernanceEngine::test_ethics_integration PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestPolicyDecision::test_decision_creation PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestPolicyDecision::test_decision_with_violations PASSED [ 39%]
tests/test_engines/test_governance/test_governance.py::TestPolicyDecision::test_decision_review_required PASSED [ 39%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_engine_initialization PASSED [ 39%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_detect_ssn PASSED [ 39%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_detect_credit_card PASSED [ 39%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_detect_email PASSED [ 39%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_detect_phone PASSED [ 39%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_detect_api_key PASSED [ 39%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_masking_method_full PASSED [ 39%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_masking_method_hash PASSED [ 39%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_masking_method_tokenize PASSED [ 39%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_scan_dict PASSED [ 39%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_block_transmission PASSED [ 40%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_custom_pattern PASSED [ 40%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_detection_confidence PASSED [ 40%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_alert_callback PASSED [ 40%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_detection_summary PASSED [ 40%]
tests/test_engines/test_governance/test_ppi.py::TestPPIEngine::test_no_false_positives_common_words PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigDefaults::test_default_values PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigDefaults::test_event_collection_defaults PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigDefaults::test_training_defaults PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigDefaults::test_evaluation_defaults PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigDefaults::test_drift_detection_defaults PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigDefaults::test_rollout_defaults PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigDefaults::test_retention_defaults PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigDefaults::test_governance_defaults PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigCustomization::test_custom_engine_id PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigCustomization::test_custom_data_dir PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigCustomization::test_custom_memory_settings PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigCustomization::test_disable_event_collection PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigCustomization::test_custom_training_settings PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigCustomization::test_custom_evaluation_settings PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigCustomization::test_custom_drift_settings PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigCustomization::test_custom_rollout_settings PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigCustomization::test_custom_retention_settings PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigCustomization::test_disable_governance PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigValidation::test_validate_success PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigValidation::test_validate_max_events_memory_too_low PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigValidation::test_validate_flush_interval_too_low PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigValidation::test_validate_min_samples_too_low PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigValidation::test_validate_batch_size_invalid PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigValidation::test_validate_eval_threshold_too_low PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigValidation::test_validate_eval_threshold_too_high PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigValidation::test_validate_canary_percentage_too_low PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigValidation::test_validate_canary_percentage_too_high PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigValidation::test_validate_drift_threshold_negative PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigValidation::test_validate_retention_days_too_low PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigValidation::test_validate_multiple_errors PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigValidation::test_validate_edge_case_valid_values PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigInheritance::test_inherits_base_config PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigInheritance::test_base_config_defaults PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigInheritance::test_override_base_config PASSED [ 40%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigInheritance::test_base_config_to_dict PASSED [ 41%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigEdgeCases::test_zero_concurrent_jobs PASSED [ 41%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigEdgeCases::test_very_large_memory_buffer PASSED [ 41%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigEdgeCases::test_all_event_types_disabled PASSED [ 41%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigEdgeCases::test_all_rollout_strategies PASSED [ 41%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigEdgeCases::test_path_handling PASSED [ 41%]
tests/test_engines/test_learning/test_config.py::TestLearningEngineConfigEdgeCases::test_none_data_dir PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestLearningEngineLifecycle::test_initial_state PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestLearningEngineLifecycle::test_initialize_success PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestLearningEngineLifecycle::test_initialize_creates_data_dir PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestLearningEngineLifecycle::test_shutdown_success PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestLearningEngineLifecycle::test_shutdown_flushes_events PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestLearningEngineHealthChecks::test_health_check_not_running PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestLearningEngineHealthChecks::test_health_check_healthy PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestLearningEngineHealthChecks::test_health_check_degraded_with_drift PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestEventCollection::test_record_signal_event PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestEventCollection::test_record_multiple_events PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestEventCollection::test_event_collection_respects_config PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestEventCollection::test_event_buffer_truncation PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestEventCollection::test_get_events_no_filter PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestEventCollection::test_get_events_by_type PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestEventCollection::test_get_events_by_time_range PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestEventCollection::test_get_events_with_limit PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestTrainingJobManagement::test_submit_training_job PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestTrainingJobManagement::test_submit_training_job_with_governance PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestTrainingJobManagement::test_get_training_job PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestTrainingJobManagement::test_get_nonexistent_job PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestTrainingJobManagement::test_list_training_jobs PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestTrainingJobManagement::test_list_training_jobs_by_status PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestTrainingJobManagement::test_max_concurrent_jobs_warning PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestModelRegistry::test_register_model_version PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestModelRegistry::test_register_multiple_versions PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestModelRegistry::test_list_model_versions PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestModelRegistry::test_list_model_versions_by_stage PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestModelPromotion::test_promote_to_staging PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestModelPromotion::test_promote_to_production_requires_evaluation PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestModelPromotion::test_promote_to_production_with_evaluation PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestModelPromotion::test_promote_archives_old_production PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestModelPromotion::test_promote_nonexistent_version PASSED [ 41%]
tests/test_engines/test_learning/test_engine.py::TestModelPromotion::test_get_production_model PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestModelPromotion::test_promote_with_rollout_strategy PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestModelEvaluation::test_evaluate_model_pass PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestModelEvaluation::test_evaluate_model_fail PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestModelEvaluation::test_evaluate_with_benchmark_threshold PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestModelEvaluation::test_get_evaluations PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestModelEvaluation::test_get_evaluations_by_benchmark PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestDriftDetection::test_set_baseline PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestDriftDetection::test_check_drift_no_baseline PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestDriftDetection::test_check_drift_no_drift PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestDriftDetection::test_check_drift_warning PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestDriftDetection::test_check_drift_critical PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestDriftDetection::test_check_drift_multiple_metrics PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestDriftDetection::test_check_drift_zero_baseline PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestDriftDetection::test_get_drift_alerts PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestDriftDetection::test_get_drift_alerts_by_severity PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestEngineStatistics::test_get_stats_initial PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestEngineStatistics::test_get_stats_with_data PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestGovernanceIntegration::test_training_job_audit PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestGovernanceIntegration::test_model_promotion_audit PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestGovernanceIntegration::test_flush_events_audit PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestEdgeCasesAndErrorHandling::test_empty_event_flush PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestEdgeCasesAndErrorHandling::test_get_events_empty PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestEdgeCasesAndErrorHandling::test_list_versions_nonexistent_model PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestEdgeCasesAndErrorHandling::test_get_production_model_none PASSED [ 42%]
tests/test_engines/test_learning/test_engine.py::TestEdgeCasesAndErrorHandling::test_evaluation_partial_metrics PASSED [ 42%]
tests/test_engines/test_learning/test_feedback.py::TestErrorWindow::test_record_error_increments_count PASSED [ 42%]
tests/test_engines/test_learning/test_feedback.py::TestErrorWindow::test_multiple_errors_accumulate PASSED [ 42%]
tests/test_engines/test_learning/test_feedback.py::TestErrorWindow::test_threshold_exceeded PASSED [ 42%]
tests/test_engines/test_learning/test_feedback.py::TestErrorWindow::test_rate_per_minute_calculation PASSED [ 42%]
tests/test_engines/test_learning/test_feedback.py::TestCircuitBreakerMonitor::test_initial_state_closed PASSED [ 42%]
tests/test_engines/test_learning/test_feedback.py::TestCircuitBreakerMonitor::test_record_error_returns_trip_status PASSED [ 42%]
tests/test_engines/test_learning/test_feedback.py::TestCircuitBreakerMonitor::test_insufficient_capital_trips_at_threshold_3 PASSED [ 42%]
tests/test_engines/test_learning/test_feedback.py::TestCircuitBreakerMonitor::test_position_mismatch_trips_immediately PASSED [ 42%]
tests/test_engines/test_learning/test_feedback.py::TestCircuitBreakerMonitor::test_execution_failure_trips_at_threshold_10 PASSED [ 42%]
tests/test_engines/test_learning/test_feedback.py::TestCircuitBreakerMonitor::test_should_allow_signal_when_closed PASSED [ 42%]
tests/test_engines/test_learning/test_feedback.py::TestCircuitBreakerMonitor::test_should_block_signal_when_open PASSED [ 42%]
tests/test_engines/test_learning/test_feedback.py::TestCircuitBreakerMonitor::test_get_status_returns_all_engines PASSED [ 42%]
tests/test_engines/test_learning/test_feedback.py::TestFeedbackCollector::test_initialization PASSED [ 42%]
tests/test_engines/test_learning/test_feedback.py::TestFeedbackCollector::test_record_insufficient_capital_triggers_breaker PASSED [ 42%]
tests/test_engines/test_learning/test_feedback.py::TestFeedbackCollector::test_record_position_mismatch_triggers_breaker PASSED [ 43%]
tests/test_engines/test_learning/test_feedback.py::TestFeedbackCollector::test_record_execution_failure_returns_record_and_trip_status PASSED [ 43%]
tests/test_engines/test_learning/test_feedback.py::TestFeedbackCollector::test_should_allow_signals_checks_all_engines PASSED [ 43%]
tests/test_engines/test_learning/test_feedback.py::TestFeedbackCollector::test_should_allow_execution_checks_all_engines PASSED [ 43%]
tests/test_engines/test_learning/test_feedback.py::TestFeedbackCollector::test_reset_circuit_breaker PASSED [ 43%]
tests/test_engines/test_learning/test_feedback.py::TestFeedbackCollector::test_get_circuit_breaker_status PASSED [ 43%]
tests/test_engines/test_learning/test_feedback.py::TestFeedbackRecord::test_record_creation PASSED [ 43%]
tests/test_engines/test_learning/test_feedback.py::TestFeedbackRecord::test_record_timestamp_is_utc PASSED [ 43%]
tests/test_engines/test_learning/test_feedback.py::TestScenarioDisasterPrevention::test_12_17_would_have_been_prevented PASSED [ 43%]
tests/test_engines/test_learning/test_feedback.py::TestScenarioDisasterPrevention::test_multiple_error_types_compound PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestEventType::test_all_event_types_exist PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestEventType::test_event_type_values PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestEventType::test_event_type_uniqueness PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestTrainingStatus::test_all_statuses_exist PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestTrainingStatus::test_status_values PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestModelStage::test_all_stages_exist PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestModelStage::test_stage_values PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestRolloutStrategy::test_all_strategies_exist PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestRolloutStrategy::test_strategy_values PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestLearningEvent::test_default_creation PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestLearningEvent::test_signal_event_creation PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestLearningEvent::test_execution_event_with_outcome PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestLearningEvent::test_event_id_uniqueness PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestLearningEvent::test_event_to_dict PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestLearningEvent::test_event_with_labels PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestTrainingJob::test_default_creation PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestTrainingJob::test_training_job_creation PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestTrainingJob::test_completed_job PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestTrainingJob::test_job_id_uniqueness PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestTrainingJob::test_job_to_dict PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestTrainingJob::test_job_with_error PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestModelVersion::test_default_creation PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestModelVersion::test_model_version_creation PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestModelVersion::test_production_model PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestModelVersion::test_version_id_uniqueness PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestModelVersion::test_version_to_dict PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestModelVersion::test_version_with_training_job PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestEvaluationResult::test_default_creation PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestEvaluationResult::test_passed_evaluation PASSED [ 43%]
tests/test_engines/test_learning/test_models.py::TestEvaluationResult::test_failed_evaluation PASSED [ 44%]
tests/test_engines/test_learning/test_models.py::TestEvaluationResult::test_eval_id_uniqueness PASSED [ 44%]
tests/test_engines/test_learning/test_models.py::TestEvaluationResult::test_evaluation_to_dict PASSED [ 44%]
tests/test_engines/test_learning/test_models.py::TestEvaluationResult::test_evaluation_with_details PASSED [ 44%]
tests/test_engines/test_learning/test_models.py::TestDriftAlert::test_default_creation PASSED [ 44%]
tests/test_engines/test_learning/test_models.py::TestDriftAlert::test_warning_alert PASSED [ 44%]
tests/test_engines/test_learning/test_models.py::TestDriftAlert::test_critical_alert PASSED [ 44%]
tests/test_engines/test_learning/test_models.py::TestDriftAlert::test_alert_id_uniqueness PASSED [ 44%]
tests/test_engines/test_learning/test_models.py::TestDriftAlert::test_alert_to_dict PASSED [ 44%]
tests/test_engines/test_learning/test_models.py::TestDriftAlert::test_alert_drift_calculation PASSED [ 44%]
tests/test_engines/test_learning/test_models.py::TestDataModelSerializationDeserialization::test_learning_event_round_trip PASSED [ 44%]
tests/test_engines/test_learning/test_models.py::TestDataModelSerializationDeserialization::test_training_job_round_trip PASSED [ 44%]
tests/test_engines/test_learning/test_models.py::TestDataModelSerializationDeserialization::test_model_version_round_trip PASSED [ 44%]
tests/test_engines/test_learning/test_models.py::TestDataModelSerializationDeserialization::test_evaluation_result_round_trip PASSED [ 44%]
tests/test_engines/test_learning/test_models.py::TestDataModelSerializationDeserialization::test_drift_alert_round_trip PASSED [ 44%]
tests/test_engines/test_mcp_tools.py::TestStrategyConfigTools::test_get_strategy_config_returns_strategy PASSED [ 44%]
tests/test_engines/test_mcp_tools.py::TestStrategyConfigTools::test_get_strategy_config_symbol_specific PASSED [ 44%]
tests/test_engines/test_mcp_tools.py::TestStrategyConfigTools::test_get_strategy_config_not_found PASSED [ 44%]
tests/test_engines/test_mcp_tools.py::TestStrategyConfigTools::test_update_strategy_config_validates_bounds PASSED [ 44%]
tests/test_engines/test_mcp_tools.py::TestStrategyConfigTools::test_update_strategy_config_success PASSED [ 44%]
tests/test_engines/test_mcp_tools.py::TestMarketContextTools::test_inject_market_context PASSED [ 44%]
tests/test_engines/test_mcp_tools.py::TestMarketContextTools::test_get_market_context PASSED [ 44%]
tests/test_engines/test_mcp_tools.py::TestCapitalPreservationTools::test_get_drawdown_status_simulated PASSED [ 44%]
tests/test_engines/test_mcp_tools.py::TestCapitalPreservationTools::test_reduce_exposure_validates_factor PASSED [ 44%]
tests/test_engines/test_mcp_tools.py::TestCapitalPreservationTools::test_reduce_exposure_applies_factor PASSED [ 44%]
tests/test_engines/test_mcp_tools.py::TestCapitalPreservationTools::test_analyze_open_positions PASSED [ 44%]
tests/test_engines/test_mcp_tools.py::TestPerformanceMetricsResources::test_pnl_metrics_resource PASSED [ 44%]
tests/test_engines/test_mcp_tools.py::TestPerformanceMetricsResources::test_signal_metrics_resource PASSED [ 44%]
tests/test_engines/test_mcp_tools.py::TestPerformanceMetricsResources::test_position_metrics_resource PASSED [ 44%]
tests/test_engines/test_optionscore/test_config.py::test_config_defaults PASSED [ 44%]
tests/test_engines/test_optionscore/test_config.py::test_config_custom_values PASSED [ 44%]
tests/test_engines/test_optionscore/test_config.py::test_config_empty_engine_id PASSED [ 44%]
tests/test_engines/test_optionscore/test_config.py::test_config_negative_cache_ttl PASSED [ 44%]
tests/test_engines/test_optionscore/test_config.py::test_config_negative_risk_free_rate PASSED [ 44%]
tests/test_engines/test_optionscore/test_config.py::test_config_negative_dividend_yield PASSED [ 44%]
tests/test_engines/test_optionscore/test_config.py::test_config_invalid_calculation_mode PASSED [ 44%]
tests/test_engines/test_optionscore/test_config.py::test_config_american_not_implemented PASSED [ 44%]
tests/test_engines/test_optionscore/test_config.py::test_config_to_dict PASSED [ 44%]
tests/test_engines/test_optionscore/test_engine.py::test_engine_initialization PASSED [ 44%]
tests/test_engines/test_optionscore/test_engine.py::test_initialize_success PASSED [ 44%]
tests/test_engines/test_optionscore/test_engine.py::test_initialize_already_initialized PASSED [ 45%]
tests/test_engines/test_optionscore/test_engine.py::test_initialize_plugin_not_ready PASSED [ 45%]
tests/test_engines/test_optionscore/test_engine.py::test_cache_get_set PASSED [ 45%]
tests/test_engines/test_optionscore/test_engine.py::test_cache_expiration PASSED [ 45%]
tests/test_engines/test_optionscore/test_engine.py::test_clear_cache_all PASSED [ 45%]
tests/test_engines/test_optionscore/test_engine.py::test_clear_cache_by_symbol PASSED [ 45%]
tests/test_engines/test_optionscore/test_engine.py::test_cache_stats PASSED [ 45%]
tests/test_engines/test_optionscore/test_enrichment.py::test_enrich_call_contract PASSED [ 45%]
tests/test_engines/test_optionscore/test_enrichment.py::test_enrich_put_contract PASSED [ 45%]
tests/test_engines/test_optionscore/test_enrichment.py::test_enrich_chain PASSED [ 45%]
tests/test_engines/test_optionscore/test_enrichment.py::test_calculate_summary_stats PASSED [ 45%]
tests/test_engines/test_optionscore/test_enrichment.py::test_invalid_expiration_date PASSED [ 45%]
tests/test_engines/test_optionscore/test_enrichment.py::test_contract_with_dividend_yield PASSED [ 45%]
tests/test_engines/test_optionscore/test_enrichment.py::test_contract_with_custom_volatility PASSED [ 45%]
tests/test_engines/test_optionscore/test_integration.py::test_engine_initialization PASSED [ 45%]
tests/test_engines/test_optionscore/test_integration.py::test_full_chain_workflow PASSED [ 45%]
tests/test_engines/test_optionscore/test_integration.py::test_cache_behavior PASSED [ 45%]
tests/test_engines/test_optionscore/test_integration.py::test_cache_stats PASSED [ 45%]
tests/test_engines/test_optionscore/test_integration.py::test_greeks_calculation PASSED [ 45%]
tests/test_engines/test_optionscore/test_integration.py::test_summary_statistics PASSED [ 45%]
tests/test_engines/test_optionscore/test_integration.py::test_invalid_symbol_handling PASSED [ 45%]
tests/test_engines/test_optionscore/test_integration.py::test_uninitialized_engine_error PASSED [ 45%]
tests/test_engines/test_optionscore/test_integration.py::test_filtered_chain_fetch PASSED [ 45%]
tests/test_engines/test_optionscore/test_integration.py::test_price_contract_method PASSED [ 45%]
tests/test_engines/test_optionscore/test_integration.py::test_calculate_greeks_method PASSED [ 45%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_default_values PASSED [ 45%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_latency_budgets_default PASSED [ 45%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_custom_engine_id PASSED [ 45%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_custom_engine_name PASSED [ 45%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_mode_live PASSED [ 45%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_mode_paper PASSED [ 45%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_mode_backtest PASSED [ 45%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_custom_cycle_interval PASSED [ 45%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_custom_max_signals PASSED [ 45%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_signal_batch_disabled PASSED [ 45%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_parallel_execution_enabled PASSED [ 45%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_risk_approval_not_required PASSED [ 45%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_custom_risk_timeout PASSED [ 45%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_custom_execution_timeout PASSED [ 45%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_custom_max_orders PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_analytics_recording_disabled PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_custom_analytics_batch_size PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_governance_disabled PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_custom_latency_budgets PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_inherits_base_config PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfig::test_override_base_values PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_valid_config PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_cycle_interval_too_low PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_cycle_interval_minimum_valid PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_max_signals_zero PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_max_signals_negative PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_max_signals_positive_valid PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_risk_timeout_zero PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_risk_timeout_negative PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_risk_timeout_positive_valid PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_execution_timeout_zero PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_execution_timeout_negative PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_execution_timeout_positive_valid PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_total_budget_less_than_interval PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_total_budget_equal_to_interval_valid PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_total_budget_greater_than_interval_valid PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_multiple_validation_errors PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigValidation::test_validation_includes_base_errors PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigModes::test_live_mode_configuration PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigModes::test_paper_mode_configuration PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigModes::test_backtest_mode_configuration PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigEdgeCases::test_very_large_cycle_interval PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigEdgeCases::test_very_large_max_signals PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigEdgeCases::test_minimum_valid_values PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigEdgeCases::test_all_features_disabled PASSED [ 46%]
tests/test_engines/test_orchestration/test_config.py::TestOrchestrationEngineConfigEdgeCases::test_all_features_enabled PASSED [ 46%]
tests/test_engines/test_orchestration/test_engine.py::TestEngineLifecycle::test_initial_state PASSED [ 46%]
tests/test_engines/test_orchestration/test_engine.py::TestEngineLifecycle::test_initialize_success PASSED [ 46%]
tests/test_engines/test_orchestration/test_engine.py::TestEngineLifecycle::test_shutdown_success PASSED [ 46%]
tests/test_engines/test_orchestration/test_engine.py::TestEngineLifecycle::test_state_transitions PASSED [ 46%]
tests/test_engines/test_orchestration/test_engine.py::TestEngineHealthChecks::test_health_check_not_running PASSED [ 46%]
tests/test_engines/test_orchestration/test_engine.py::TestEngineHealthChecks::test_health_check_missing_engines PASSED [ 46%]
tests/test_engines/test_orchestration/test_engine.py::TestEngineHealthChecks::test_health_check_fully_configured PASSED [ 46%]
tests/test_engines/test_orchestration/test_engine.py::TestEngineRegistration::test_register_signal_engine PASSED [ 46%]
tests/test_engines/test_orchestration/test_engine.py::TestEngineRegistration::test_register_risk_engine PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestEngineRegistration::test_register_execution_engine PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestEngineRegistration::test_register_analytics_engine PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestEngineRegistration::test_register_data_source PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestEngineRegistration::test_register_engines_bulk PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestEngineRegistration::test_register_engines_partial PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestTradingCycle::test_run_cycle_no_data PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestTradingCycle::test_run_cycle_with_data PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestTradingCycle::test_run_cycle_full_pipeline PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestTradingCycle::test_run_cycle_with_signals PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestTradingCycle::test_run_cycle_signals_approved PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestTradingCycle::test_run_cycle_signals_rejected PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestTradingCycle::test_run_cycle_orders_executed PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestTradingCycle::test_run_cycle_analytics_recorded PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestTradingCycle::test_run_cycle_analytics_disabled PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestTradingCycle::test_run_cycle_latency_tracking PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestTradingCycle::test_run_cycle_exception_handling PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestTradingCycle::test_run_cycle_history_updated PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestContinuousOperation::test_run_loop_max_cycles PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestContinuousOperation::test_run_loop_stop PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestContinuousOperation::test_run_loop_respects_interval PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestBacktestSupport::test_run_backtest PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestBacktestSupport::test_run_backtest_with_signals PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestBacktestSupport::test_run_backtest_mode_warning PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestBacktestSupport::test_run_backtest_empty_data PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestBacktestSupport::test_run_backtest_successful_cycles PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestMetricsAndHistory::test_get_metrics_initial PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestMetricsAndHistory::test_get_metrics_after_cycle PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestMetricsAndHistory::test_get_cycle_history PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestMetricsAndHistory::test_get_cycle_history_limit PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestMetricsAndHistory::test_get_last_cycle PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestMetricsAndHistory::test_get_last_cycle_none PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestMetricsAndHistory::test_clear_history PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestModeSupport::test_paper_mode PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestModeSupport::test_live_mode PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestModeSupport::test_backtest_mode PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestGovernanceIntegration::test_governance_enabled PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestGovernanceIntegration::test_governance_disabled PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestEdgeCases::test_cycle_with_no_engines_registered PASSED [ 47%]
tests/test_engines/test_orchestration/test_engine.py::TestEdgeCases::test_cycle_with_empty_data PASSED [ 48%]
tests/test_engines/test_orchestration/test_engine.py::TestEdgeCases::test_cycle_without_risk_approval_required PASSED [ 48%]
tests/test_engines/test_orchestration/test_engine.py::TestEdgeCases::test_multiple_cycles_sequential PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestCycleStatus::test_all_status_values PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestCycleStatus::test_status_enum_count PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestPipelineStage::test_all_stage_values PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestPipelineStage::test_stage_enum_count PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestStageResult::test_default_values PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestStageResult::test_with_output_count PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestStageResult::test_with_error PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestStageResult::test_with_details PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestCycleResult::test_default_values PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestCycleResult::test_unique_cycle_ids PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestCycleResult::test_add_stage_data_fetch PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestCycleResult::test_add_stage_signal_generation PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestCycleResult::test_add_stage_risk_evaluation PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestCycleResult::test_add_stage_order_execution PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestCycleResult::test_add_stage_analytics_recording PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestCycleResult::test_add_multiple_stages PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestCycleResult::test_to_dict PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestCycleResult::test_to_dict_with_errors PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestCycleResult::test_to_dict_completed_at_none PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestPipelineMetrics::test_default_values PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestPipelineMetrics::test_update_from_completed_cycle PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestPipelineMetrics::test_update_from_failed_cycle PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestPipelineMetrics::test_update_latency_averages PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestPipelineMetrics::test_update_multiple_cycles PASSED [ 48%]
tests/test_engines/test_orchestration/test_models.py::TestPipelineMetrics::test_to_dict PASSED [ 48%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingHistory::test_create_history PASSED [ 48%]
tests/test_engines/test_portfolio/test_engine.py::TestExecutionResult::test_create_result_success PASSED [ 48%]
tests/test_engines/test_portfolio/test_engine.py::TestExecutionResult::test_create_result_with_failures PASSED [ 48%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_initialization PASSED [ 48%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_initialization_no_tracking PASSED [ 48%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_register_strategy PASSED [ 48%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_register_invalid_strategy PASSED [ 48%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_get_strategy_default PASSED [ 48%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_get_strategy_explicit PASSED [ 48%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_get_strategy_not_registered PASSED [ 48%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_generate_rebalancing_decisions PASSED [ 48%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_generate_rebalancing_decisions_with_cash PASSED [ 48%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_generate_rebalancing_decisions_no_tracking PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_generate_rebalancing_decisions_tracks_history PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_should_rebalance_true PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_should_rebalance_false PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_execute_rebalancing_no_callback PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_execute_rebalancing_with_successful_callback PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_execute_rebalancing_with_failing_callback PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_execute_rebalancing_with_exception_callback PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_execute_rebalancing_empty_decisions PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_execute_rebalancing_updates_history PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_get_history_summary_empty PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_get_history_summary_with_data PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_get_history_summary_with_limit PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_clear_history PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_get_registered_strategies PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_multiple_strategy_registration PASSED [ 49%]
tests/test_engines/test_portfolio/test_engine.py::TestRebalancingEngine::test_strategy_switching PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestSectorConcentrationRule::test_within_limits PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestSectorConcentrationRule::test_exceeds_sector_limit PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestSectorConcentrationRule::test_get_sector_exposure PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestCorrelationClusterRule::test_cluster_within_limits PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestCorrelationClusterRule::test_cluster_exceeds_limit PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestCorrelationClusterRule::test_find_clusters PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestLiquidityAdjustedRule::test_liquid_position_passes PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestLiquidityAdjustedRule::test_high_participation_fails PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestLiquidityAdjustedRule::test_illiquid_position_limit PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestDrawdownRule::test_no_drawdown_full_size PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestDrawdownRule::test_moderate_drawdown_reduced_size PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestDrawdownRule::test_max_drawdown_blocks_trades PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestVolatilityRegimeRule::test_low_vol_full_size PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestVolatilityRegimeRule::test_high_vol_reduced_size PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestVolatilityRegimeRule::test_moderate_vol_interpolation PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestMarketHoursRule::test_regular_hours_allowed PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestMarketHoursRule::test_after_hours_blocked PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestGovernanceRuleFactories::test_standard_rules_creation PASSED [ 49%]
tests/test_engines/test_portfolio/test_enhanced_governance.py::TestGovernanceRuleFactories::test_conservative_rules_stricter PASSED [ 49%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestEquitySpec::test_default_equity PASSED [ 49%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestEquitySpec::test_notional_value PASSED [ 49%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestEquitySpec::test_equity_with_metadata PASSED [ 49%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestFuturesSpec::test_futures_notional PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestFuturesSpec::test_margin_requirement PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestFuturesSpec::test_days_to_expiry PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestFuturesSpec::test_tick_value_calculation PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestOptionsSpec::test_option_multiplier PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestOptionsSpec::test_intrinsic_value_itm_call PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestOptionsSpec::test_intrinsic_value_otm_call PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestOptionsSpec::test_time_value PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestOptionsSpec::test_put_intrinsic_value PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestCryptoSpec::test_crypto_spec PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestEquityHandler::test_margin_requirement PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestEquityHandler::test_position_risk PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestEquityHandler::test_validate_order PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestFuturesHandler::test_futures_margin PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestFuturesHandler::test_futures_risk PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestOptionsHandler::test_long_option_margin PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestOptionsHandler::test_options_risk_with_greeks PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestInstrumentRegistry::test_get_spec PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestInstrumentRegistry::test_get_margin_unified PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestInstrumentRegistry::test_get_position_risk PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestFactoryFunctions::test_create_equity_spec PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestFactoryFunctions::test_create_futures_spec PASSED [ 50%]
tests/test_engines/test_portfolio/test_instrument_types.py::TestFactoryFunctions::test_create_option_spec PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestEventHooks::test_register_handler PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestEventHooks::test_register_multiple_handlers PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestEventHooks::test_register_global_handler PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestEventHooks::test_unregister_handler PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestEventHooks::test_has_handlers PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestEventHooks::test_get_handler_count PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestEventHooks::test_clear_handlers PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestEventHooks::test_clear_all_handlers PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestEventHooks::test_handler_error_handling PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestEventHooks::test_register_invalid_handler PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestRebalanceEvent::test_create_event PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestRebalanceEvent::test_event_to_dict PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestRebalancingEngineWithEvents::test_engine_emits_rebalance_started PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestRebalancingEngineWithEvents::test_engine_emits_decisions_generated PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestRebalancingEngineWithEvents::test_engine_emits_execution_events PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestRebalancingEngineWithEvents::test_engine_emits_order_failed PASSED [ 50%]
tests/test_engines/test_portfolio/test_integration.py::TestSignalCoreAdapter::test_adapter_imports_fail_without_signalcore SKIPPED [ 51%]
tests/test_engines/test_portfolio/test_integration.py::TestSignalCoreAdapter::test_convert_signal PASSED [ 51%]
tests/test_engines/test_portfolio/test_integration.py::TestSignalCoreAdapter::test_convert_signal_custom_scaling PASSED [ 51%]
tests/test_engines/test_portfolio/test_integration.py::TestSignalCoreAdapter::test_convert_batch PASSED [ 51%]
tests/test_engines/test_portfolio/test_integration.py::TestSignalCoreAdapter::test_filter_actionable PASSED [ 51%]
tests/test_engines/test_portfolio/test_integration.py::TestProofBenchAdapter::test_adapter_imports_fail_without_proofbench SKIPPED [ 51%]
tests/test_engines/test_portfolio/test_integration.py::TestProofBenchAdapter::test_emit_rebalance_started PASSED [ 51%]
tests/test_engines/test_portfolio/test_integration.py::TestProofBenchAdapter::test_emit_decisions_generated PASSED [ 51%]
tests/test_engines/test_portfolio/test_integration.py::TestProofBenchAdapter::test_emit_rebalance_completed PASSED [ 51%]
tests/test_engines/test_portfolio/test_integration.py::TestFlowRouteAdapter::test_create_order PASSED [ 51%]
tests/test_engines/test_portfolio/test_integration.py::TestFlowRouteAdapter::test_create_orders_batch PASSED [ 51%]
tests/test_engines/test_portfolio/test_integration.py::TestFlowRouteAdapter::test_filter_min_value PASSED [ 51%]
tests/test_engines/test_portfolio/test_integration.py::TestFlowRouteAdapter::test_order_request_metadata PASSED [ 51%]
tests/test_engines/test_portfolio/test_integration.py::TestFlowRouteAdapter::test_order_request_no_metadata PASSED [ 51%]
tests/test_engines/test_portfolio/test_portfolioopt_adapter.py::TestDriftBandConfig::test_default_config PASSED [ 51%]
tests/test_engines/test_portfolio/test_portfolioopt_adapter.py::TestDriftBandConfig::test_alpaca_config PASSED [ 51%]
tests/test_engines/test_portfolio/test_portfolioopt_adapter.py::TestPortfolioWeight::test_drift_calculation_absolute PASSED [ 51%]
tests/test_engines/test_portfolio/test_portfolioopt_adapter.py::TestPortfolioWeight::test_drift_calculation_relative PASSED [ 51%]
tests/test_engines/test_portfolio/test_portfolioopt_adapter.py::TestPortfolioWeight::test_new_position_detection PASSED [ 51%]
tests/test_engines/test_portfolio/test_portfolioopt_adapter.py::TestPortfolioOptAdapter::test_analyze_drift_below_threshold PASSED [ 51%]
tests/test_engines/test_portfolio/test_portfolioopt_adapter.py::TestPortfolioOptAdapter::test_analyze_drift_above_threshold PASSED [ 51%]
tests/test_engines/test_portfolio/test_portfolioopt_adapter.py::TestPortfolioOptAdapter::test_cooldown_prevents_rebalance PASSED [ 51%]
tests/test_engines/test_portfolio/test_portfolioopt_adapter.py::TestPortfolioOptAdapter::test_rebalance_trades_calculation PASSED [ 51%]
tests/test_engines/test_portfolio/test_portfolioopt_adapter.py::TestPortfolioOptAdapter::test_minimum_trade_value PASSED [ 51%]
tests/test_engines/test_portfolio/test_portfolioopt_adapter.py::TestCalendarRebalancing::test_monthly_config PASSED [ 51%]
tests/test_engines/test_portfolio/test_portfolioopt_adapter.py::TestCalendarRebalancing::test_weekly_config PASSED [ 51%]
tests/test_engines/test_portfolio/test_portfolioopt_adapter.py::TestCalendarRebalancing::test_quarterly_config PASSED [ 51%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestRegimeSizingHook::test_regime_sizing_multipliers_defined PASSED [ 51%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestRegimeSizingHook::test_trending_regime_increases_sizing PASSED [ 51%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestRegimeSizingHook::test_choppy_regime_decreases_sizing PASSED [ 51%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestRegimeSizingHook::test_regime_sizing_hook_initialization PASSED [ 51%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestRegimeSizingHook::test_analyze_regime_trending PASSED [ 51%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestRegimeSizingHook::test_analyze_regime_choppy PASSED [ 51%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestRegimeSizingHook::test_quiet_choppy_avoid_recommendation PASSED [ 51%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestRegimeSizingHook::test_custom_multipliers_override PASSED [ 51%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestRegimeSizingHook::test_min_confidence_threshold PASSED [ 51%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestExecutionFeedbackCollector::test_record_order_submission PASSED [ 51%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestExecutionFeedbackCollector::test_record_fill_matches_submission PASSED [ 51%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestExecutionFeedbackCollector::test_record_fill_unknown_order PASSED [ 51%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestExecutionFeedbackCollector::test_execution_quality_calculation PASSED [ 51%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestExecutionFeedbackCollector::test_poor_execution_detection PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestExecutionFeedbackCollector::test_should_adjust_sizing_high_slippage PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestExecutionFeedbackCollector::test_should_not_adjust_low_slippage PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestExecutionFeedbackCollector::test_symbol_breakdown_in_metrics PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestExecutionFeedbackCollector::test_partial_fill_detection PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestExecutionFeedbackCollector::test_export_for_learning PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestExecutionFeedbackCollector::test_max_history_trimming PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestPortfolioStateManager::test_initialization PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestPortfolioStateManager::test_begin_transaction PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestPortfolioStateManager::test_nested_transaction_error PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestPortfolioStateManager::test_commit_increments_version PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestPortfolioStateManager::test_rollback_restores_state PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestPortfolioStateManager::test_update_cash_validates_negative PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestPortfolioStateManager::test_add_position PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestPortfolioStateManager::test_remove_position PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestPortfolioStateManager::test_snapshot_immutability PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestPortfolioStateManager::test_state_hash_changes PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestPortfolioStateManager::test_pending_changes_tracked PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestPortfolioStateManager::test_history_retention PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestPortfolioStateManager::test_restore_from_snapshot PASSED [ 52%]
tests/test_engines/test_portfolio/test_regime_and_feedback.py::TestPortfolioStateManager::test_optimistic_lock_error PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_attribution.py::TestRiskFactor::test_all_factors_defined PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_attribution.py::TestRiskAttributionEngine::test_portfolio_variance_calculation PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_attribution.py::TestRiskAttributionEngine::test_marginal_risk_calculation PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_attribution.py::TestRiskAttributionEngine::test_component_risk_sums_to_total PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_attribution.py::TestRiskAttributionEngine::test_full_attribution PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_attribution.py::TestRiskAttributionEngine::test_herfindahl_index PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_attribution.py::TestRiskAttributionEngine::test_top_risk_contributors PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_attribution.py::TestSectorAttribution::test_sector_attribution PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_attribution.py::TestFactorAttribution::test_factor_returns_setup PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_attribution.py::TestFactorAttribution::test_factor_regression PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_attribution.py::TestFactoryFunctions::test_create_simple_engine PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_attribution.py::TestFactoryFunctions::test_create_fama_french_engine PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_attribution.py::TestCovarianceEstimation::test_ledoit_wolf_shrinkage PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_attribution.py::TestRiskAttributionResult::test_result_defaults PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_attribution.py::TestRiskAttributionResult::test_get_factor_summary PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityWeights::test_create_weights PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityDecision::test_create_decision PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_initialization PASSED [ 52%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_invalid_lookback_days PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_invalid_weight_bounds PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_invalid_drift_threshold PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_calculate_weights_basic PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_calculate_weights_equal_volatility PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_calculate_weights_min_constraint PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_calculate_weights_max_constraint PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_calculate_weights_empty_dataframe PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_calculate_weights_insufficient_history PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_calculate_weights_lookback_window PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_should_rebalance_within_threshold PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_should_rebalance_empty_portfolio PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_generate_rebalance_orders PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_generate_rebalance_orders_with_cash PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_generate_rebalance_orders_empty_portfolio_no_cash PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_generate_rebalance_orders_empty_portfolio_with_cash PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_get_rebalance_summary PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_timestamp_consistency PASSED [ 53%]
tests/test_engines/test_portfolio/test_risk_parity.py::TestRiskParityRebalancer::test_inverse_volatility_relationship PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalInput::test_valid_signal PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalInput::test_default_confidence PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalInput::test_negative_signal PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalInput::test_invalid_signal_too_high PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalInput::test_invalid_signal_too_low PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalInput::test_invalid_confidence_too_high PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalInput::test_invalid_confidence_negative PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenWeights::test_create_weights PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenDecision::test_create_decision PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_initialization PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_invalid_weight_bounds PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_invalid_signal_threshold PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_invalid_cash_buffer PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_calculate_weights_proportional PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_calculate_weights_binary PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_calculate_weights_ranked PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_calculate_weights_with_signal_threshold PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_calculate_weights_with_cash_buffer PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_calculate_weights_empty_signals PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_calculate_weights_no_signals_above_threshold PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_calculate_weights_binary_no_positive_signals PASSED [ 53%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_should_rebalance_within_threshold PASSED [ 54%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_should_rebalance_empty_portfolio PASSED [ 54%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_generate_rebalance_orders_proportional PASSED [ 54%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_generate_rebalance_orders_with_cash PASSED [ 54%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_generate_rebalance_orders_empty_portfolio_no_cash PASSED [ 54%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_generate_rebalance_orders_empty_portfolio_with_cash PASSED [ 54%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_generate_rebalance_orders_with_cash_buffer PASSED [ 54%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_generate_rebalance_orders_sell_positions PASSED [ 54%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_get_rebalance_summary PASSED [ 54%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_timestamp_consistency PASSED [ 54%]
tests/test_engines/test_portfolio/test_signal_driven.py::TestSignalDrivenRebalancer::test_confidence_weighting PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestSizingMethod::test_all_methods_defined PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestSizingMethod::test_method_count PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestRebalanceTrigger::test_all_triggers_defined PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestRebalanceTrigger::test_trigger_count PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestPositionSizeResult::test_create_result PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestPositionSizeResult::test_is_valid_true PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestPositionSizeResult::test_is_valid_false_zero_shares PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestPositionSizeResult::test_is_valid_false_zero_confidence PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestPortfolioAllocation::test_create_allocation PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestPortfolioAllocation::test_position_count PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestPortfolioAllocation::test_get_weights PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestRebalanceAction::test_create_buy_action PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestRebalanceAction::test_requires_trade_true PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestRebalanceAction::test_requires_trade_false PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestSizingConfig::test_default_config PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestSizingConfig::test_custom_config PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestRebalanceConfig::test_default_config PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestVolatilityCalculator::test_realized_volatility PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestVolatilityCalculator::test_realized_volatility_annualized PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestVolatilityCalculator::test_parkinson_volatility PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestVolatilityCalculator::test_garman_klass_volatility PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestVolatilityCalculator::test_ewma_volatility PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestPositionSizer::test_init_default_config PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestPositionSizer::test_init_custom_config PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestPositionSizer::test_set_portfolio_value PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestPositionSizer::test_set_portfolio_value_float PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestPositionSizer::test_set_returns PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestPositionSizer::test_calculate_size_fixed_dollar PASSED [ 54%]
tests/test_engines/test_portfolio/test_sizing.py::TestPositionSizer::test_calculate_size_fixed_percent PASSED [ 55%]
tests/test_engines/test_portfolio/test_sizing.py::TestPositionSizer::test_calculate_size_respects_signal_strength PASSED [ 55%]
tests/test_engines/test_portfolio/test_sizing.py::TestRebalancePlan::test_create_plan PASSED [ 55%]
tests/test_engines/test_portfolio/test_sizing.py::TestRebalancePlan::test_requires_action_true PASSED [ 55%]
tests/test_engines/test_portfolio/test_sizing.py::TestRebalancePlan::test_requires_action_false PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocation::test_valid_allocation PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocation::test_zero_weight PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocation::test_full_weight PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocation::test_invalid_negative_weight PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocation::test_invalid_weight_above_one PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestRebalanceDecision::test_create_decision PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_initialization PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_invalid_weights_sum PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_calculate_drift_balanced_portfolio PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_calculate_drift_imbalanced_portfolio PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_calculate_drift_empty_portfolio PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_calculate_drift_missing_positions PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_should_rebalance_within_threshold PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_should_rebalance_exceeds_threshold PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_generate_rebalance_orders_balanced PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_generate_rebalance_orders_imbalanced PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_generate_rebalance_orders_with_cash PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_generate_rebalance_orders_empty_portfolio_no_cash PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_generate_rebalance_orders_empty_portfolio_with_cash PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_get_rebalance_summary PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_equal_weight_rebalancing PASSED [ 55%]
tests/test_engines/test_portfolio/test_target_allocation.py::TestTargetAllocationRebalancer::test_timestamp_consistency PASSED [ 55%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdConfig::test_create_config PASSED [ 55%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdConfig::test_invalid_target_weight PASSED [ 55%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdConfig::test_invalid_lower_band_positive PASSED [ 55%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdConfig::test_invalid_upper_band_negative PASSED [ 55%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdConfig::test_invalid_band_exceeds_limit PASSED [ 55%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdStatus::test_create_status PASSED [ 55%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdDecision::test_create_decision PASSED [ 55%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_initialization PASSED [ 55%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_invalid_min_days PASSED [ 55%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_invalid_min_trade_value PASSED [ 55%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_invalid_weights_sum PASSED [ 55%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_check_thresholds_within_bands PASSED [ 55%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_check_thresholds_breaches_upper_band PASSED [ 55%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_check_thresholds_breaches_lower_band PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_check_thresholds_time_constraint PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_check_thresholds_time_constraint_met PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_check_thresholds_empty_portfolio PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_should_rebalance_within_bands PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_should_rebalance_breaches_band PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_should_rebalance_time_constraint PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_generate_rebalance_orders_no_breach PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_generate_rebalance_orders_with_breach PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_generate_rebalance_orders_with_cash PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_generate_rebalance_orders_min_trade_value PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_generate_rebalance_orders_empty_portfolio_no_cash PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_generate_rebalance_orders_empty_portfolio_with_cash PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_asymmetric_bands PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_get_threshold_status_summary PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_get_rebalance_summary PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_timestamp_consistency PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_trigger_reason_upper_band PASSED [ 56%]
tests/test_engines/test_portfolio/test_threshold_based.py::TestThresholdBasedRebalancer::test_trigger_reason_lower_band PASSED [ 56%]
tests/test_engines/test_portfolio/test_transaction_cost_model.py::TestLiquidityMetrics::test_default_metrics PASSED [ 56%]
tests/test_engines/test_portfolio/test_transaction_cost_model.py::TestLiquidityMetrics::test_illiquid_metrics PASSED [ 56%]
tests/test_engines/test_portfolio/test_transaction_cost_model.py::TestAlmgrenChrissModel::test_small_order_low_impact PASSED [ 56%]
tests/test_engines/test_portfolio/test_transaction_cost_model.py::TestAlmgrenChrissModel::test_large_order_high_impact PASSED [ 56%]
tests/test_engines/test_portfolio/test_transaction_cost_model.py::TestAlmgrenChrissModel::test_illiquid_asset_higher_cost PASSED [ 56%]
tests/test_engines/test_portfolio/test_transaction_cost_model.py::TestSimpleCostModel::test_fixed_rate_cost PASSED [ 56%]
tests/test_engines/test_portfolio/test_transaction_cost_model.py::TestSimpleCostModel::test_commission_added PASSED [ 56%]
tests/test_engines/test_portfolio/test_transaction_cost_model.py::TestAdaptiveCostModel::test_initial_estimate PASSED [ 56%]
tests/test_engines/test_portfolio/test_transaction_cost_model.py::TestAdaptiveCostModel::test_learning_from_execution PASSED [ 56%]
tests/test_engines/test_portfolio/test_transaction_cost_model.py::TestAdaptiveCostModel::test_symbol_specific_learning PASSED [ 56%]
tests/test_engines/test_portfolio/test_transaction_cost_model.py::TestTransactionCostEstimate::test_total_calculation PASSED [ 56%]
tests/test_engines/test_portfolio/test_transaction_cost_model.py::TestTransactionCostEstimate::test_is_material PASSED [ 56%]
tests/test_engines/test_portfolioopt/test_config.py::TestPortfolioOptEngineConfig::test_default_values PASSED [ 56%]
tests/test_engines/test_portfolioopt/test_config.py::TestPortfolioOptEngineConfig::test_default_constraints PASSED [ 56%]
tests/test_engines/test_portfolioopt/test_config.py::TestPortfolioOptEngineConfig::test_default_solver_settings PASSED [ 56%]
tests/test_engines/test_portfolioopt/test_config.py::TestPortfolioOptEngineConfig::test_custom_engine_id PASSED [ 56%]
tests/test_engines/test_portfolioopt/test_config.py::TestPortfolioOptEngineConfig::test_custom_qpo_src PASSED [ 56%]
tests/test_engines/test_portfolioopt/test_config.py::TestPortfolioOptEngineConfig::test_custom_solver_api_cvxpy PASSED [ 56%]
tests/test_engines/test_portfolioopt/test_config.py::TestPortfolioOptEngineConfig::test_custom_solver_api_cuopt PASSED [ 56%]
tests/test_engines/test_portfolioopt/test_config.py::TestPortfolioOptEngineConfig::test_custom_optimization_params PASSED [ 56%]
tests/test_engines/test_portfolioopt/test_config.py::TestPortfolioOptEngineConfig::test_custom_simulation_params PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestPortfolioOptEngineConfig::test_custom_risk_constraints PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestPortfolioOptEngineConfig::test_disable_governance PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestPortfolioOptEngineConfig::test_solver_settings PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_valid_config PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_negative_target_return_invalid PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_max_weight_zero_invalid PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_max_weight_above_one_invalid PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_negative_risk_aversion_invalid PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_low_n_paths_invalid PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_max_concentration_zero_invalid PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_max_concentration_above_one_invalid PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_min_diversification_zero_invalid PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_max_cvar_zero_invalid PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_negative_max_cvar_invalid PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_solver_timeout_zero_invalid PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_negative_solver_timeout_invalid PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_multiple_validation_errors PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_edge_case_max_weight_one PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_edge_case_n_paths_exactly_100 PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_edge_case_zero_target_return PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigValidation::test_edge_case_zero_risk_aversion PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigInheritance::test_inherits_base_config PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigInheritance::test_base_config_attributes PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_config.py::TestConfigInheritance::test_override_base_attributes PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestEngineLifecycle::test_initial_state PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestEngineLifecycle::test_initialize_success PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestEngineLifecycle::test_initialize_qpo_unavailable PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestEngineLifecycle::test_shutdown_success PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestEngineLifecycle::test_is_available PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestEngineHealthChecks::test_health_check_qpo_unavailable PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestEngineHealthChecks::test_health_check_success PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestEngineHealthChecks::test_health_check_tracks_operations PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestOptimization::test_optimize_basic PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestOptimization::test_optimize_with_custom_params PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestOptimization::test_optimize_not_available PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestOptimization::test_optimize_validates_concentration PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestOptimization::test_optimize_validates_diversification PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestOptimization::test_optimize_validates_cvar PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestOptimization::test_optimize_adds_to_history PASSED [ 57%]
tests/test_engines/test_portfolioopt/test_engine.py::TestOptimization::test_get_last_optimization PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestOptimization::test_optimize_with_solver_settings PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestScenarioGeneration::test_generate_scenarios_basic PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestScenarioGeneration::test_generate_scenarios_custom_params PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestScenarioGeneration::test_generate_scenarios_not_available PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestScenarioGeneration::test_generate_scenarios_validates_paths PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestGovernanceIntegration::test_optimize_with_preflight PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestGovernanceIntegration::test_optimize_preflight_denied PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestGovernanceIntegration::test_optimize_creates_audit_record PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestGovernanceIntegration::test_optimize_without_governance PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestOperationTracking::test_optimize_tracks_operation PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestOperationTracking::test_scenario_generation_tracks_operation PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestErrorHandling::test_optimize_optimizer_not_initialized PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestErrorHandling::test_scenario_gen_not_initialized PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestErrorHandling::test_optimize_with_empty_returns PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestEngineProperties::test_config_property PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestEngineProperties::test_get_optimization_history_empty PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_engine.py::TestEngineProperties::test_get_optimization_history_returns_copy PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestRiskLimitRule::test_default_values PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestRiskLimitRule::test_validate_success PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestRiskLimitRule::test_validate_target_return_exceeds_limit PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestRiskLimitRule::test_validate_max_weight_exceeds_limit PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestRiskLimitRule::test_validate_insufficient_assets PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestRiskLimitRule::test_validate_edge_case_exact_limit PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestRiskLimitRule::test_validate_custom_limits PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestDataQualityRule::test_default_values PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestDataQualityRule::test_validate_success PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestDataQualityRule::test_validate_insufficient_data PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestDataQualityRule::test_validate_too_much_data PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestDataQualityRule::test_validate_edge_cases PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestSolverValidationRule::test_default_values PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestSolverValidationRule::test_validate_cvxpy PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestSolverValidationRule::test_validate_cuopt PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestSolverValidationRule::test_validate_invalid_api PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestSolverValidationRule::test_validate_default_api PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestPortfolioOptGovernanceHook::test_initialization_default PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestPortfolioOptGovernanceHook::test_initialization_custom_rules PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestPortfolioOptGovernanceHook::test_preflight_optimize_allowed PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestPortfolioOptGovernanceHook::test_preflight_optimize_denied_risk PASSED [ 58%]
tests/test_engines/test_portfolioopt/test_governance.py::TestPortfolioOptGovernanceHook::test_preflight_optimize_denied_data_quality PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_governance.py::TestPortfolioOptGovernanceHook::test_preflight_optimize_denied_solver PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_governance.py::TestPortfolioOptGovernanceHook::test_preflight_multiple_violations PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_governance.py::TestPortfolioOptGovernanceHook::test_preflight_scenario_generation_allowed PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_governance.py::TestPortfolioOptGovernanceHook::test_preflight_scenario_generation_too_few_paths PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_governance.py::TestPortfolioOptGovernanceHook::test_preflight_scenario_generation_too_many_paths PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_governance.py::TestPortfolioOptGovernanceHook::test_preflight_non_optimization_operation PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_governance.py::TestPortfolioOptGovernanceHook::test_audit_creates_record PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_governance.py::TestPortfolioOptGovernanceHook::test_audit_multiple_records PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_governance.py::TestPortfolioOptGovernanceHook::test_get_audit_log_returns_copy PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_governance.py::TestPortfolioOptGovernanceHook::test_clear_audit_log PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_governance.py::TestGovernanceIntegration::test_strict_governance_enforcement PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_governance.py::TestGovernanceIntegration::test_permissive_governance PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_governance.py::TestGovernanceIntegration::test_audit_trail_consistency PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_models.py::TestOptimizationResult::test_create_result_basic PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_models.py::TestOptimizationResult::test_create_result_with_warnings PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_models.py::TestOptimizationResult::test_result_timestamp_auto_generated PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_models.py::TestOptimizationResult::test_to_dict_conversion PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_models.py::TestOptimizationResult::test_to_dict_timestamp_iso_format PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_models.py::TestOptimizationResult::test_result_with_none_metrics PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_models.py::TestOptimizationResult::test_empty_weights PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_models.py::TestOptimizationResult::test_cuopt_solver PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_models.py::TestScenarioResult::test_create_scenario_result PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_models.py::TestScenarioResult::test_scenario_timestamp_auto_generated PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_models.py::TestScenarioResult::test_to_dict_conversion PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_models.py::TestScenarioResult::test_to_dict_timestamp_iso_format PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_models.py::TestScenarioResult::test_different_simulation_methods PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_models.py::TestScenarioResult::test_large_scenario_result PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_models.py::TestScenarioResult::test_dataframe_paths PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_optimizer.py::TestPortfolioOptimizerInit::test_init_mean_variance PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_optimizer.py::TestPortfolioOptimizerInit::test_init_mean_cvar PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_optimizer.py::TestPortfolioOptimizerInit::test_init_default_method PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_optimizer.py::TestPortfolioOptimizerInit::test_init_invalid_method PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_optimizer.py::TestPortfolioOptimizerOptimize::test_optimize_basic PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_optimizer.py::TestPortfolioOptimizerOptimize::test_optimize_weights_sum_to_one PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_optimizer.py::TestPortfolioOptimizerOptimize::test_optimize_weights_non_negative PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_optimizer.py::TestPortfolioOptimizerOptimize::test_optimize_uses_scipy_fallback PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_optimizer.py::TestPortfolioOptimizerOptimize::test_optimize_with_method_in_result PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_optimizer.py::TestSciPyFallback::test_fallback_scipy_basic PASSED [ 59%]
tests/test_engines/test_portfolioopt/test_optimizer.py::TestSciPyFallback::test_fallback_scipy_weights_valid PASSED [ 60%]
tests/test_engines/test_portfolioopt/test_optimizer.py::TestSciPyFallback::test_fallback_scipy_metrics_computed PASSED [ 60%]
tests/test_engines/test_portfolioopt/test_optimizer.py::TestCuOptAttempt::test_try_cuopt_returns_none_when_unavailable PASSED [ 60%]
tests/test_engines/test_proofbench/test_analytics_phase4.py::test_walk_forward_basic PASSED [ 60%]
tests/test_engines/test_proofbench/test_analytics_phase4.py::test_monte_carlo_bootstrap_and_shuffle PASSED [ 60%]
tests/test_engines/test_proofbench/test_analytics_phase4.py::test_compare_to_benchmark PASSED [ 60%]
tests/test_engines/test_proofbench/test_events.py::TestEvent::test_event_creation PASSED [ 60%]
tests/test_engines/test_proofbench/test_events.py::TestEvent::test_event_comparison_by_timestamp PASSED [ 60%]
tests/test_engines/test_proofbench/test_events.py::TestEvent::test_event_comparison_by_priority PASSED [ 60%]
tests/test_engines/test_proofbench/test_events.py::TestEvent::test_event_equality PASSED [ 60%]
tests/test_engines/test_proofbench/test_events.py::TestEventQueue::test_queue_creation PASSED [ 60%]
tests/test_engines/test_proofbench/test_events.py::TestEventQueue::test_push_and_pop PASSED [ 60%]
tests/test_engines/test_proofbench/test_events.py::TestEventQueue::test_chronological_ordering PASSED [ 60%]
tests/test_engines/test_proofbench/test_events.py::TestEventQueue::test_priority_ordering PASSED [ 60%]
tests/test_engines/test_proofbench/test_events.py::TestEventQueue::test_peek PASSED [ 60%]
tests/test_engines/test_proofbench/test_events.py::TestEventQueue::test_peek_empty_queue PASSED [ 60%]
tests/test_engines/test_proofbench/test_events.py::TestEventQueue::test_pop_empty_queue PASSED [ 60%]
tests/test_engines/test_proofbench/test_events.py::TestEventQueue::test_clear PASSED [ 60%]
tests/test_engines/test_proofbench/test_events.py::TestEventQueue::test_multiple_event_types PASSED [ 60%]
tests/test_engines/test_proofbench/test_events.py::TestEventQueue::test_large_queue_performance PASSED [ 60%]
tests/test_engines/test_proofbench/test_execution_fillmode.py::test_fill_mode_bar_open_buy PASSED [ 60%]
tests/test_engines/test_proofbench/test_execution_fillmode.py::test_fill_mode_intra_bar_buy_sell PASSED [ 60%]
tests/test_engines/test_proofbench/test_execution_fillmode.py::test_fill_mode_realistic_buy_sell PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_narrator_creation PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_narrator_creation_with_api_key PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_narrate_results_no_api PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_narrate_results_with_api PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_compare_results_no_api PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_compare_results_with_api PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_suggest_optimizations_no_api PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_suggest_optimizations_with_api PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_suggest_optimizations_different_focus PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_explain_metric_no_api PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_explain_metric_with_api PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_analyze_trade_patterns_no_api PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_analyze_trade_patterns_with_api PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_narration_includes_key_metrics PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_comparison_handles_single_strategy PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_narrator_timestamp_included PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_basic_suggestions_coverage PASSED [ 60%]
tests/test_engines/test_proofbench/test_llm_enhanced.py::test_narration_with_different_metrics PASSED [ 61%]
tests/test_engines/test_proofbench/test_models.py::TestMetric::test_metric_creation_minimal PASSED [ 61%]
tests/test_engines/test_proofbench/test_models.py::TestMetric::test_metric_creation_with_tags PASSED [ 61%]
tests/test_engines/test_proofbench/test_models.py::TestMetric::test_metric_with_custom_timestamp PASSED [ 61%]
tests/test_engines/test_proofbench/test_models.py::TestMetric::test_metric_negative_value PASSED [ 61%]
tests/test_engines/test_proofbench/test_models.py::TestMetric::test_metric_zero_value PASSED [ 61%]
tests/test_engines/test_proofbench/test_models.py::TestTradeResult::test_trade_result_buy PASSED [ 61%]
tests/test_engines/test_proofbench/test_models.py::TestTradeResult::test_trade_result_sell_with_pnl PASSED [ 61%]
tests/test_engines/test_proofbench/test_models.py::TestTradeResult::test_trade_result_with_negative_pnl PASSED [ 61%]
tests/test_engines/test_proofbench/test_models.py::TestTradeResult::test_trade_result_fractional_quantity PASSED [ 61%]
tests/test_engines/test_proofbench/test_models.py::TestPerformanceReport::test_performance_report_minimal PASSED [ 61%]
tests/test_engines/test_proofbench/test_models.py::TestPerformanceReport::test_performance_report_full PASSED [ 61%]
tests/test_engines/test_proofbench/test_models.py::TestPerformanceReport::test_performance_report_empty_metrics PASSED [ 61%]
tests/test_engines/test_proofbench/test_simulator.py::TestSimulationEngine::test_engine_initialization PASSED [ 61%]
tests/test_engines/test_proofbench/test_simulator.py::TestSimulationEngine::test_load_data PASSED [ 61%]
tests/test_engines/test_proofbench/test_simulator.py::TestSimulationEngine::test_load_data_missing_columns PASSED [ 61%]
tests/test_engines/test_proofbench/test_simulator.py::TestSimulationEngine::test_simple_buy_and_hold_strategy PASSED [ 61%]
tests/test_engines/test_proofbench/test_simulator.py::TestSimulationEngine::test_simple_mean_reversion_strategy PASSED [ 61%]
tests/test_engines/test_proofbench/test_simulator.py::TestSimulationEngine::test_no_data_error PASSED [ 61%]
tests/test_engines/test_proofbench/test_simulator.py::TestSimulationEngine::test_no_strategy_error PASSED [ 61%]
tests/test_engines/test_proofbench/test_simulator.py::TestSimulationEngine::test_get_position PASSED [ 61%]
tests/test_engines/test_proofbench/test_simulator.py::TestSimulationEngine::test_get_cash_and_equity PASSED [ 61%]
tests/test_engines/test_proofbench/test_simulator.py::TestSimulationConfig::test_default_config PASSED [ 61%]
tests/test_engines/test_proofbench/test_simulator.py::TestSimulationConfig::test_custom_config PASSED [ 61%]
tests/test_engines/test_proofbench/test_simulator.py::TestSimulationConfig::test_invalid_capital PASSED [ 61%]
tests/test_engines/test_proofbench/test_simulator.py::TestSimulationConfig::test_invalid_frequency PASSED [ 61%]
tests/test_engines/test_proofbench_analytics.py::TestProofBenchAnalytics::test_record_trade_results PASSED [ 61%]
tests/test_engines/test_proofbench_analytics.py::TestProofBenchAnalytics::test_calculate_metrics PASSED [ 61%]
tests/test_engines/test_proofbench_analytics.py::TestProofBenchAnalytics::test_get_performance_summary PASSED [ 61%]
tests/test_engines/test_proofbench_analytics.py::TestProofBenchAnalytics::test_empty_metrics PASSED [ 61%]
tests/test_engines/test_riskguard/test_engine.py::test_engine_initialization PASSED [ 61%]
tests/test_engines/test_riskguard/test_engine.py::test_engine_with_standard_rules PASSED [ 61%]
tests/test_engines/test_riskguard/test_engine.py::test_add_rule PASSED   [ 61%]
tests/test_engines/test_riskguard/test_engine.py::test_remove_rule PASSED [ 61%]
tests/test_engines/test_riskguard/test_engine.py::test_list_rules_by_category PASSED [ 61%]
tests/test_engines/test_riskguard/test_engine.py::test_evaluate_signal_passes PASSED [ 61%]
tests/test_engines/test_riskguard/test_engine.py::test_evaluate_signal_reasons_standardized PASSED [ 61%]
tests/test_engines/test_riskguard/test_engine.py::test_evaluate_signal_deterministic PASSED [ 61%]
tests/test_engines/test_riskguard/test_engine.py::test_evaluate_signal_position_too_large PASSED [ 61%]
tests/test_engines/test_riskguard/test_engine.py::test_evaluate_signal_too_many_positions PASSED [ 62%]
tests/test_engines/test_riskguard/test_engine.py::test_check_kill_switches_daily_loss PASSED [ 62%]
tests/test_engines/test_riskguard/test_engine.py::test_check_kill_switches_max_drawdown PASSED [ 62%]
tests/test_engines/test_riskguard/test_engine.py::test_check_kill_switches_none_triggered PASSED [ 62%]
tests/test_engines/test_riskguard/test_engine.py::test_halted_rejects_all_trades PASSED [ 62%]
tests/test_engines/test_riskguard/test_engine.py::test_reset_halt PASSED [ 62%]
tests/test_engines/test_riskguard/test_engine.py::test_get_available_capacity PASSED [ 62%]
tests/test_engines/test_riskguard/test_engine.py::test_engine_to_dict PASSED [ 62%]
tests/test_engines/test_riskguard/test_hooks.py::TestDrawdownHook::test_default_thresholds PASSED [ 62%]
tests/test_engines/test_riskguard/test_hooks.py::TestDrawdownHook::test_threshold_validation PASSED [ 62%]
tests/test_engines/test_riskguard/test_hooks.py::TestDrawdownHook::test_allows_non_tracked_actions PASSED [ 62%]
tests/test_engines/test_riskguard/test_hooks.py::TestDrawdownHook::test_denies_when_kill_switch_active PASSED [ 62%]
tests/test_engines/test_riskguard/test_hooks.py::TestDrawdownHook::test_allows_low_drawdown PASSED [ 62%]
tests/test_engines/test_riskguard/test_hooks.py::TestDrawdownHook::test_warns_on_moderate_drawdown PASSED [ 62%]
tests/test_engines/test_riskguard/test_hooks.py::TestDrawdownHook::test_denies_on_severe_drawdown PASSED [ 62%]
tests/test_engines/test_riskguard/test_hooks.py::TestDrawdownHook::test_exposure_factor_property PASSED [ 62%]
tests/test_engines/test_riskguard/test_hooks.py::TestPositionLimitHook::test_allows_valid_position PASSED [ 62%]
tests/test_engines/test_riskguard/test_hooks.py::TestPositionLimitHook::test_denies_oversized_position PASSED [ 62%]
tests/test_engines/test_riskguard/test_hooks.py::TestPositionLimitHook::test_denies_too_many_positions PASSED [ 62%]
tests/test_engines/test_riskguard/test_hooks.py::TestPositionLimitHook::test_warns_on_sector_concentration PASSED [ 62%]
tests/test_engines/test_riskguard/test_hooks.py::TestPositionLimitHook::test_update_portfolio_value PASSED [ 62%]
tests/test_engines/test_riskguard/test_hooks.py::TestPositionLimitHook::test_update_positions PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_llm_enhanced_creation_no_llm PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_llm_enhanced_creation_with_api_key PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_llm_enhanced_creation_no_base PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_llm_enhanced_evaluate_no_llm PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_llm_enhanced_evaluate_with_llm_no_api PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_llm_enhanced_inherits_rules PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_llm_enhanced_inherits_halt_state PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_risk_analyzer_creation PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_risk_analyzer_scenario_no_api PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_risk_analyzer_scenario_with_api PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_risk_analyzer_optimize_no_api PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_risk_analyzer_optimize_with_api PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_risk_analyzer_explain_rule_no_api PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_risk_analyzer_explain_rule_with_api PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_llm_enhanced_preserves_functionality PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_llm_enhanced_add_rule PASSED [ 62%]
tests/test_engines/test_riskguard/test_llm_enhanced.py::test_llm_enhanced_to_dict PASSED [ 62%]
tests/test_engines/test_riskguard/test_rules.py::test_risk_rule_creation PASSED [ 62%]
tests/test_engines/test_riskguard/test_rules.py::test_risk_rule_evaluate_less_than PASSED [ 63%]
tests/test_engines/test_riskguard/test_rules.py::test_risk_rule_evaluate_less_equal PASSED [ 63%]
tests/test_engines/test_riskguard/test_rules.py::test_risk_rule_evaluate_greater_than PASSED [ 63%]
tests/test_engines/test_riskguard/test_rules.py::test_risk_rule_evaluate_greater_equal PASSED [ 63%]
tests/test_engines/test_riskguard/test_rules.py::test_risk_rule_disabled PASSED [ 63%]
tests/test_engines/test_riskguard/test_rules.py::test_risk_rule_to_dict PASSED [ 63%]
tests/test_engines/test_riskguard/test_rules.py::test_risk_check_result_creation PASSED [ 63%]
tests/test_engines/test_riskguard/test_rules.py::test_risk_check_result_to_dict PASSED [ 63%]
tests/test_engines/test_riskguard/test_validate.py::TestRunValidation::test_run_validation_completes PASSED [ 63%]
tests/test_engines/test_riskguard/test_validate.py::TestRunValidation::test_run_validation_counts_passes PASSED [ 63%]
tests/test_engines/test_riskguard/test_validate.py::TestRunValidation::test_run_validation_with_rejections PASSED [ 63%]
tests/test_engines/test_riskguard/test_validate.py::TestRunValidation::test_run_validation_prints_rejection_reasons PASSED [ 63%]
tests/test_engines/test_riskguard/test_validate.py::TestMain::test_main_runs_validation PASSED [ 63%]
tests/test_engines/test_riskguard/test_validate.py::TestMain::test_main_parses_args PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestIchimokuValues::test_create_ichimoku_values PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestIchimokuModel::test_init_default_config PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestIchimokuModel::test_init_custom_config PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestIchimokuModel::test_generate_bullish_signal PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestIchimokuModel::test_generate_with_downtrend_data PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestChartPatternModel::test_init_default_config PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestChartPatternModel::test_generate_signal PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestChartPatternModel::test_generate_head_and_shoulders_pattern PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestChartPatternModel::test_find_peaks PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestChartPatternModel::test_generate_triangle_pattern PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestVolumeProfileModel::test_init_default_config PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestVolumeProfileModel::test_generate_signal PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestVolumeProfileModel::test_generate_bullish_when_below_val PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestOptionsSignalsModel::test_init_default_config PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestOptionsSignalsModel::test_generate_signal PASSED [ 63%]
tests/test_engines/test_signalcore/test_advanced_technical.py::TestOptionsSignalsModel::test_generate_with_custom_config PASSED [ 63%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestOptimizedConfig::test_default_config_values PASSED [ 63%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestOptimizedConfig::test_optimized_configs_exist PASSED [ 63%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestOptimizedConfig::test_dkng_config PASSED [ 63%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestOptimizedConfig::test_coin_has_higher_tp_mult PASSED [ 63%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestOptimizedConfig::test_amd_has_tighter_tp PASSED [ 63%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestATROptimizedRSIModel::test_model_initialization PASSED [ 63%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestATROptimizedRSIModel::test_model_initialization_defaults PASSED [ 63%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestATROptimizedRSIModel::test_get_config_for_known_symbol PASSED [ 63%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestATROptimizedRSIModel::test_get_config_for_unknown_symbol PASSED [ 63%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestATROptimizedRSIModel::test_compute_atr PASSED [ 64%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestATROptimizedRSIModel::test_validate_valid_data PASSED [ 64%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestATROptimizedRSIModel::test_validate_insufficient_data PASSED [ 64%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestATROptimizedRSIModel::test_validate_missing_columns PASSED [ 64%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestATROptimizedRSIModel::test_generate_no_signal_on_invalid_data PASSED [ 64%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestATROptimizedRSIModel::test_generate_entry_signal PASSED [ 64%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestATROptimizedRSIModel::test_generate_no_duplicate_entry PASSED [ 64%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestATROptimizedRSIModel::test_signal_metadata_has_required_fields PASSED [ 64%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestATROptimizedRSIModel::test_describe PASSED [ 64%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestBacktestFunction::test_backtest_empty_result PASSED [ 64%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestBacktestFunction::test_backtest_generates_trades PASSED [ 64%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestBacktestFunction::test_backtest_returns_expected_keys PASSED [ 64%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestBacktestFunction::test_backtest_custom_parameters PASSED [ 64%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestEdgeCases::test_nan_handling PASSED [ 64%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestEdgeCases::test_extreme_prices PASSED [ 64%]
tests/test_engines/test_signalcore/test_atr_optimized_rsi.py::TestEdgeCases::test_reset_position_tracking PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_engine_initialization_with_defaults PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_engine_initialization_with_config PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_engine_initialization_with_governance PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_engine_initialization_with_helix PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_engine_do_initialize PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_engine_do_shutdown PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_health_check_no_models PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_health_check_with_models PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_health_check_with_generation_history PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_register_model PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_register_multiple_models PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_register_duplicate_model_raises_error PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_unregister_model PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_unregister_nonexistent_model_raises_error PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_get_model PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_get_nonexistent_model_raises_error PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_list_models_empty PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_list_all_models PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_list_enabled_models PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_generate_signal_no_models_registered PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_generate_signal_invalid_data PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_generate_signal_with_custom_timestamp PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_generate_batch_empty_data PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_generate_batch_with_custom_timestamp PASSED [ 64%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_generate_batch_updates_metrics PASSED [ 65%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_filter_actionable_signals PASSED [ 65%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_engine_has_metrics_method PASSED [ 65%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_get_registry_state_empty PASSED [ 65%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_get_registry_state_with_models PASSED [ 65%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_generate_signal_handles_model_exception PASSED [ 65%]
tests/test_engines/test_signalcore/test_engine_comprehensive.py::test_full_workflow PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanConfig::test_default_values PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanConfig::test_custom_values PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanState::test_state_creation PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanFilter::test_initialization PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanFilter::test_reset PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanFilter::test_first_update_initializes PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanFilter::test_update_returns_tuple PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanFilter::test_filter_smooths_noise PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanFilter::test_filter_tracks_trend PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanFilter::test_residual_calculation PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanHybridModel::test_model_initialization PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanHybridModel::test_model_initialization_defaults PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanHybridModel::test_get_filter_creates_new PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanHybridModel::test_get_filter_returns_existing PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanHybridModel::test_run_filter PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanHybridModel::test_run_filter_trend_level PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanHybridModel::test_run_filter_residual PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanHybridModel::test_generate_returns_none_insufficient_data PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanHybridModel::test_generate_with_adequate_data PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanHybridModel::test_generate_entry_oversold_uptrend PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestKalmanHybridModel::test_signal_metadata_structure PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestSignalLogic::test_no_signal_when_no_extreme_residual PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestSignalLogic::test_no_counter_trend_trade PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestEdgeCases::test_flat_price_data PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestEdgeCases::test_nan_in_data PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestEdgeCases::test_extreme_values PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestEdgeCases::test_filter_resets_per_symbol PASSED [ 65%]
tests/test_engines/test_signalcore/test_kalman_hybrid.py::TestEdgeCases::test_run_filter_with_negative_prices PASSED [ 65%]
tests/test_engines/test_signalcore/test_llm_enhanced.py::test_llm_enhanced_model_creation PASSED [ 65%]
tests/test_engines/test_signalcore/test_llm_enhanced.py::test_llm_enhanced_model_with_helix PASSED [ 65%]
tests/test_engines/test_signalcore/test_llm_enhanced.py::test_llm_enhanced_validate PASSED [ 65%]
tests/test_engines/test_signalcore/test_llm_enhanced.py::test_llm_enhanced_generate_no_llm PASSED [ 65%]
tests/test_engines/test_signalcore/test_llm_enhanced.py::test_llm_enhanced_generate_with_helix PASSED [ 66%]
tests/test_engines/test_signalcore/test_llm_enhanced.py::test_llm_enhanced_describe PASSED [ 66%]
tests/test_engines/test_signalcore/test_llm_enhanced.py::test_feature_engineer_creation PASSED [ 66%]
tests/test_engines/test_signalcore/test_llm_enhanced.py::test_feature_engineer_suggest_features_no_helix PASSED [ 66%]
tests/test_engines/test_signalcore/test_llm_enhanced.py::test_feature_engineer_suggest_features_with_helix PASSED [ 66%]
tests/test_engines/test_signalcore/test_llm_enhanced.py::test_feature_engineer_explain_feature_no_helix PASSED [ 66%]
tests/test_engines/test_signalcore/test_llm_enhanced.py::test_feature_engineer_explain_feature_with_helix PASSED [ 66%]
tests/test_engines/test_signalcore/test_llm_enhanced.py::test_llm_enhanced_inheritance PASSED [ 66%]
tests/test_engines/test_signalcore/test_mean_reversion.py::TestMeanReversionModelInit::test_init_default_parameters PASSED [ 66%]
tests/test_engines/test_signalcore/test_mean_reversion.py::TestMeanReversionModelInit::test_init_custom_parameters PASSED [ 66%]
tests/test_engines/test_signalcore/test_mean_reversion.py::TestMeanReversionModelInit::test_min_data_points_updated PASSED [ 66%]
tests/test_engines/test_signalcore/test_mean_reversion.py::TestMeanReversionModelGenerate::test_generate_returns_none_insufficient_data PASSED [ 66%]
tests/test_engines/test_signalcore/test_mean_reversion.py::TestMeanReversionModelGenerate::test_generate_with_valid_data PASSED [ 66%]
tests/test_engines/test_signalcore/test_mean_reversion.py::TestMeanReversionModelGenerate::test_generate_long_signal_rsi_oversold PASSED [ 66%]
tests/test_engines/test_signalcore/test_mean_reversion.py::TestMeanReversionNoTrendFilter::test_no_trend_filter_allows_both_directions PASSED [ 66%]
tests/test_engines/test_signalcore/test_mean_reversion.py::TestMeanReversionVolumeConfirmation::test_low_volume_no_signal PASSED [ 66%]
tests/test_engines/test_signalcore/test_mean_reversion.py::TestMeanReversionSignalMetadata::test_signal_has_metadata PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMIConfig::test_default_values PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMIConfig::test_custom_values PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestSignalDefinition::test_signal_definition_creation PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestSignalDefinition::test_signal_definition_hashable PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestSignalDefinition::test_default_signals_exist PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMutualInformation::test_mi_perfect_correlation PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMutualInformation::test_mi_independent_variables PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMutualInformation::test_mi_different_lengths_returns_zero PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMutualInformation::test_mi_insufficient_data_returns_zero PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMutualInformation::test_mi_handles_nan PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMutualInformation::test_mi_non_negative PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMutualInformation::test_normalized_mi_range PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestSignalComputeFunctions::test_compute_rsi PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestSignalComputeFunctions::test_compute_momentum PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestSignalComputeFunctions::test_compute_mean_reversion PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestSignalComputeFunctions::test_compute_volatility_breakout PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestSignalComputeFunctions::test_compute_trend_strength PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestSignalComputeFunctions::test_compute_rsi_trending_data PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMIEnsembleModel::test_model_initialization PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMIEnsembleModel::test_model_initialization_defaults PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMIEnsembleModel::test_model_with_custom_signals PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMIEnsembleModel::test_calculate_mi_weights PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMIEnsembleModel::test_calculate_mi_weights_short_data PASSED [ 66%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMIEnsembleModel::test_calculate_atr PASSED [ 67%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMIEnsembleModel::test_generate_with_adequate_data PASSED [ 67%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMIEnsembleModel::test_generate_returns_none_insufficient_data PASSED [ 67%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMIEnsembleModel::test_generate_long_in_uptrend PASSED [ 67%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestMIEnsembleModel::test_signal_metadata_structure PASSED [ 67%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestWeightCaching::test_weights_cached_per_symbol PASSED [ 67%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestWeightCaching::test_different_symbols_different_weights PASSED [ 67%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestEdgeCases::test_flat_price_data PASSED [ 67%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestEdgeCases::test_nan_in_data PASSED [ 67%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestEdgeCases::test_extreme_values PASSED [ 67%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestEdgeCases::test_mi_weights_with_zero_mi PASSED [ 67%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestEdgeCases::test_signal_error_handling PASSED [ 67%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestIntegration::test_full_signal_generation_flow PASSED [ 67%]
tests/test_engines/test_signalcore/test_mi_ensemble.py::TestIntegration::test_all_default_signals_compute PASSED [ 67%]
tests/test_engines/test_signalcore/test_models.py::test_sma_model_initialization PASSED [ 67%]
tests/test_engines/test_signalcore/test_models.py::test_sma_model_validation PASSED [ 67%]
tests/test_engines/test_signalcore/test_models.py::test_sma_model_generate_signal PASSED [ 67%]
tests/test_engines/test_signalcore/test_models.py::test_sma_model_bullish_crossover PASSED [ 67%]
tests/test_engines/test_signalcore/test_models.py::test_rsi_model_initialization PASSED [ 67%]
tests/test_engines/test_signalcore/test_models.py::test_rsi_model_generate_signal PASSED [ 67%]
tests/test_engines/test_signalcore/test_models.py::test_rsi_model_oversold_condition PASSED [ 67%]
tests/test_engines/test_signalcore/test_models.py::test_model_describe PASSED [ 67%]
tests/test_engines/test_signalcore/test_models.py::test_signal_feature_contributions PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFConfig::test_default_values PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFConfig::test_custom_values PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFConfig::test_risk_parameters PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFMomentumModel::test_model_initialization PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFMomentumModel::test_model_initialization_defaults PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFMomentumModel::test_calculate_momentum_uptrend PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFMomentumModel::test_calculate_momentum_insufficient_data PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFMomentumModel::test_calculate_stochastic PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFMomentumModel::test_calculate_atr PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFMomentumModel::test_set_universe_momentum PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFMomentumModel::test_is_winner_with_universe PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFMomentumModel::test_is_winner_without_universe PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFMomentumModel::test_is_loser_with_universe PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFMomentumModel::test_is_loser_without_universe PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFMomentumModel::test_generate_returns_none_insufficient_data PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFMomentumModel::test_generate_with_adequate_data PASSED [ 67%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFMomentumModel::test_generate_long_entry_conditions PASSED [ 68%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestMTFMomentumModel::test_signal_metadata_structure PASSED [ 68%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestStochasticCalculation::test_stochastic_in_uptrend PASSED [ 68%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestStochasticCalculation::test_stochastic_in_downtrend PASSED [ 68%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestStochasticCalculation::test_bullish_crossover_detection PASSED [ 68%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestEdgeCases::test_flat_price_data PASSED [ 68%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestEdgeCases::test_extreme_volatility PASSED [ 68%]
tests/test_engines/test_signalcore/test_mtf_momentum.py::TestEdgeCases::test_momentum_calculation_with_gaps PASSED [ 68%]
tests/test_engines/test_signalcore/test_multi_signal_confluence.py::TestMultiSignalConfluenceModel::test_model_initialization PASSED [ 68%]
tests/test_engines/test_signalcore/test_multi_signal_confluence.py::TestMultiSignalConfluenceModel::test_validation_insufficient_data PASSED [ 68%]
tests/test_engines/test_signalcore/test_multi_signal_confluence.py::TestMultiSignalConfluenceModel::test_validation_missing_columns PASSED [ 68%]
tests/test_engines/test_signalcore/test_multi_signal_confluence.py::TestMultiSignalConfluenceModel::test_validation_valid_data PASSED [ 68%]
tests/test_engines/test_signalcore/test_multi_signal_confluence.py::TestMultiSignalConfluenceModel::test_compute_stochastic PASSED [ 68%]
tests/test_engines/test_signalcore/test_multi_signal_confluence.py::TestMultiSignalConfluenceModel::test_compute_adx PASSED [ 68%]
tests/test_engines/test_signalcore/test_multi_signal_confluence.py::TestMultiSignalConfluenceModel::test_compute_atr PASSED [ 68%]
tests/test_engines/test_signalcore/test_multi_signal_confluence.py::TestMultiSignalConfluenceModel::test_generate_no_signal_neutral_market PASSED [ 68%]
tests/test_engines/test_signalcore/test_multi_signal_confluence.py::TestMultiSignalConfluenceModel::test_generate_long_signal_oversold PASSED [ 68%]
tests/test_engines/test_signalcore/test_multi_signal_confluence.py::TestMultiSignalConfluenceModel::test_generate_signal_has_stop_and_tp PASSED [ 68%]
tests/test_engines/test_signalcore/test_multi_signal_confluence.py::TestMultiSignalConfluenceModel::test_reset_state PASSED [ 68%]
tests/test_engines/test_signalcore/test_multi_signal_confluence.py::TestMultiSignalConfluenceModel::test_disable_shorts PASSED [ 68%]
tests/test_engines/test_signalcore/test_multi_signal_confluence.py::TestMultiSignalConfluenceModel::test_disable_longs PASSED [ 68%]
tests/test_engines/test_signalcore/test_multi_signal_confluence.py::TestMultiSignalConfluenceModel::test_require_all_signals_mode PASSED [ 68%]
tests/test_engines/test_signalcore/test_multi_signal_confluence.py::TestMultiSignalConfluenceModel::test_signal_confidence_scaling PASSED [ 68%]
tests/test_engines/test_signalcore/test_news_hook.py::TestNewsSentiment::test_sentiment_values PASSED [ 68%]
tests/test_engines/test_signalcore/test_news_hook.py::TestNewsItem::test_news_item_creation PASSED [ 68%]
tests/test_engines/test_signalcore/test_news_hook.py::TestNewsContextHook::test_fetches_and_caches_news SKIPPED [ 68%]
tests/test_engines/test_signalcore/test_news_hook.py::TestNewsContextHook::test_uses_cached_news SKIPPED [ 68%]
tests/test_engines/test_signalcore/test_news_hook.py::TestNewsContextHook::test_blocks_on_very_negative_blocking_category SKIPPED [ 68%]
tests/test_engines/test_signalcore/test_news_hook.py::TestNewsContextHook::test_allows_negative_non_blocking_category SKIPPED [ 68%]
tests/test_engines/test_signalcore/test_news_hook.py::TestNewsContextHook::test_adds_news_context_to_result SKIPPED [ 68%]
tests/test_engines/test_signalcore/test_news_hook.py::TestNewsContextHook::test_handles_missing_symbol SKIPPED [ 68%]
tests/test_engines/test_signalcore/test_news_hook.py::TestNewsContextHook::test_handles_fetcher_error SKIPPED [ 68%]
tests/test_engines/test_signalcore/test_news_hook.py::TestNewsContextHook::test_respects_relevance_threshold SKIPPED [ 68%]
tests/test_engines/test_signalcore/test_news_hook.py::TestNewsContextHook::test_clear_cache SKIPPED [ 68%]
tests/test_engines/test_signalcore/test_news_hook.py::TestNewsContextHook::test_clear_cache_for_symbol SKIPPED [ 68%]
tests/test_engines/test_signalcore/test_signal.py::test_signal_creation PASSED [ 68%]
tests/test_engines/test_signalcore/test_signal.py::test_signal_validation PASSED [ 68%]
tests/test_engines/test_signalcore/test_signal.py::test_signal_is_actionable PASSED [ 68%]
tests/test_engines/test_signalcore/test_signal.py::test_signal_to_dict PASSED [ 68%]
tests/test_engines/test_signalcore/test_signal.py::test_signal_batch_creation PASSED [ 68%]
tests/test_engines/test_signalcore/test_signal.py::test_signal_batch_filter_actionable PASSED [ 69%]
tests/test_engines/test_signalcore/test_signal.py::test_signal_batch_get_by_symbol PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUConfig::test_default_config PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUConfig::test_custom_config PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUBacktestEngineInit::test_init_default_config PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUBacktestEngineInit::test_init_custom_config PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUBacktestEngineInit::test_init_sets_gpu_availability PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUBacktestEngineCompute::test_compute_returns_gpu PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUBacktestEngineCompute::test_compute_volatility_gpu PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUBacktestEngineCompute::test_compute_ewma_volatility_gpu PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUBacktestEngineCompute::test_compute_covariance_matrix_gpu PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUBacktestEngineCompute::test_compute_correlation_matrix_gpu PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUBacktestEngineBacktest::test_run_backtest_basic PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUBacktestEngineBacktest::test_run_backtest_with_mismatched_signals PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUBacktestEngineBatch::test_batch_backtest_without_executor PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUBacktestEngineBatch::test_batch_backtest_with_executor PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUBacktestEngineLifecycle::test_initialize_and_close PASSED [ 69%]
tests/test_engines/test_sprint/test_accelerator.py::TestGPUBacktestEngineLifecycle::test_close_without_initialize PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestMassivePlugin::test_plugin_initialization PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestMassivePlugin::test_get_news_for_symbol PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestMassivePlugin::test_get_market_news PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestMassivePlugin::test_get_sentiment PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestMassivePlugin::test_get_earnings_calendar PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestMassivePlugin::test_news_caching PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestRegimeHook::test_regime_detection_trending_up PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestRegimeHook::test_regime_detection_high_volatility PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestRegimeHook::test_regime_detection_ranging PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestRegimeHook::test_preflight_allows_normal_operations PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestRegimeHook::test_preflight_blocks_in_risk_off PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestRegimeHook::test_position_size_modifier PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestRegimeHook::test_strategy_adjustments PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestAgentRunner::test_list_agents PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestAgentRunner::test_load_agent PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestAgentRunner::test_run_agent_basic PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestAgentRunner::test_run_agent_with_tool PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestAgentRunner::test_run_agent_with_condition PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestDrawdownHook::test_preflight_allows_normal_drawdown PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestDrawdownHook::test_exposure_factor_tracking PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestMCPToolsIntegration::test_mcp_server_initialization PASSED [ 69%]
tests/test_engines/test_sprint_integration.py::TestMCPToolsIntegration::test_get_market_news_tool PASSED [ 70%]
tests/test_engines/test_sprint_integration.py::TestMCPToolsIntegration::test_get_earnings_calendar_tool PASSED [ 70%]
tests/test_engines/test_sprint_integration.py::TestMCPToolsIntegration::test_get_sentiment_tool PASSED [ 70%]
tests/test_engines/test_sprint_integration.py::TestMCPToolsIntegration::test_analyze_open_positions_tool PASSED [ 70%]
tests/test_engines/test_sprint_integration.py::TestMCPToolsIntegration::test_inject_market_context_tool PASSED [ 70%]
tests/test_engines/test_sprint_integration.py::TestMCPToolsIntegration::test_get_drawdown_status_tool PASSED [ 70%]
tests/test_engines/test_sprint_integration.py::TestEndToEndAgentFlow::test_strategy_optimizer_mock_flow PASSED [ 70%]
tests/test_engines/test_sprint_integration.py::TestEndToEndAgentFlow::test_drawdown_response_mock_flow PASSED [ 70%]
tests/test_fundamental_models.py::test_fundamental_models PASSED         [ 70%]
tests/test_interface/test_cli_analyze.py::test_cli_analyze_runs PASSED   [ 70%]
tests/test_logging_infrastructure.py::test_logging PASSED                [ 70%]
tests/test_monitoring/test_health.py::TestHealthStatus::test_health_status_values PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheckResult::test_health_check_result_initialization PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheckResult::test_health_check_result_with_details PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheckResult::test_health_check_result_to_dict PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheck::test_health_check_initialization PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheck::test_register_check PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheck::test_run_check_success PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheck::test_run_check_not_found PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheck::test_run_check_with_exception PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheck::test_run_all_checks PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheck::test_get_overall_status_no_checks PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheck::test_get_overall_status_all_healthy PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheck::test_get_overall_status_with_degraded PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheck::test_get_overall_status_with_unhealthy PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheck::test_get_health_report PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheck::test_get_last_results PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheck::test_last_results_updated_after_run PASSED [ 70%]
tests/test_monitoring/test_health.py::TestBuiltInHealthChecks::test_database_health_check PASSED [ 70%]
tests/test_monitoring/test_health.py::TestBuiltInHealthChecks::test_api_health_check PASSED [ 70%]
tests/test_monitoring/test_health.py::TestBuiltInHealthChecks::test_disk_space_health_check PASSED [ 70%]
tests/test_monitoring/test_health.py::TestBuiltInHealthChecks::test_memory_health_check PASSED [ 70%]
tests/test_monitoring/test_health.py::TestGlobalHealthCheck::test_get_health_check_singleton PASSED [ 70%]
tests/test_monitoring/test_health.py::TestGlobalHealthCheck::test_get_health_check_returns_health_check PASSED [ 70%]
tests/test_monitoring/test_health.py::TestGlobalHealthCheck::test_get_health_check_has_default_checks PASSED [ 70%]
tests/test_monitoring/test_health.py::TestGlobalHealthCheck::test_global_health_check_persistence PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheckIntegration::test_complete_health_check_workflow PASSED [ 70%]
tests/test_monitoring/test_health.py::TestHealthCheckIntegration::test_health_check_error_handling PASSED [ 70%]
tests/test_monitoring/test_kpi.py::TestKPIThreshold::test_evaluate_healthy PASSED [ 70%]
tests/test_monitoring/test_kpi.py::TestKPIThreshold::test_evaluate_warning_below_min PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPIThreshold::test_evaluate_warning_above_max PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPIThreshold::test_evaluate_critical_below_min PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPIThreshold::test_evaluate_critical_above_max PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPIThreshold::test_evaluate_no_thresholds PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPIThreshold::test_evaluate_only_min_threshold PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPIValue::test_kpi_value_creation PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPIValue::test_kpi_value_to_dict PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestTradingKPIs::test_trading_kpis_defaults PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestTradingKPIs::test_trading_kpis_custom_values PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestTradingKPIs::test_win_loss_ratio PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestTradingKPIs::test_win_loss_ratio_zero_loss PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestTradingKPIs::test_expectancy PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestTradingKPIs::test_calculate_win_rate PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestTradingKPIs::test_calculate_win_rate_no_trades PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestTradingKPIs::test_to_dict PASSED  [ 71%]
tests/test_monitoring/test_kpi.py::TestAlert::test_alert_creation PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestAlert::test_alert_to_dict PASSED  [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_tracker_initialization PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_tracker_custom_thresholds PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_update_kpis PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_update_single_kpi PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_get_kpi_value PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_get_kpi_value_unknown PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_get_kpi_summary PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_alert_triggered_on_threshold_breach PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_critical_alert_on_severe_breach PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_get_active_alerts PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_clear_alert PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_alert_history PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_alert_history_filter_by_severity PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_get_health_status PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_health_status_critical PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_add_alert_handler PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPITracker::test_set_threshold PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestGlobalKPITracker::test_get_kpi_tracker PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestGlobalKPITracker::test_get_kpi_tracker_singleton PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestGlobalKPITracker::test_reset_kpi_tracker PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPIIntegration::test_full_kpi_workflow PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPIIntegration::test_multiple_kpi_alerts PASSED [ 71%]
tests/test_monitoring/test_kpi.py::TestKPIIntegration::test_kpi_history_retention PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestSetupLogging::test_setup_logging_console_only PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestSetupLogging::test_setup_logging_with_file PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestSetupLogging::test_setup_logging_with_json_format PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestSetupLogging::test_setup_logging_with_rotation PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestSetupLogging::test_setup_logging_creates_directory PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestGetLogger::test_get_logger_returns_logger PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestGetLogger::test_get_logger_with_name PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestLogExecutionTime::test_log_execution_time_decorator PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestLogExecutionTime::test_log_execution_time_with_args PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestLogExecutionTime::test_log_execution_time_preserves_function_name PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestLogException::test_log_exception_decorator_success PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestLogException::test_log_exception_decorator_with_exception PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestLogException::test_log_exception_with_args PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestLogException::test_log_exception_preserves_function_name PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestLoggerIntegration::test_logging_levels PASSED [ 72%]
tests/test_monitoring/test_logger.py::TestLoggerIntegration::test_logger_with_context PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestPerformanceMetrics::test_performance_metrics_initialization PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestPerformanceMetrics::test_success_rate_calculation PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestPerformanceMetrics::test_error_rate_calculation PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestPerformanceMetrics::test_signal_execution_rate_calculation PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestPerformanceMetrics::test_to_dict_conversion PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestPerformanceMetrics::test_to_dict_with_infinite_min_execution_time PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_metrics_collector_initialization PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_record_successful_operation PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_record_failed_operation PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_record_operation_with_execution_time PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_record_signal_generated PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_record_signal_executed PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_record_signal_rejected PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_record_signal_multiple_flags PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_record_api_call_successful PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_record_api_call_failed PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_record_api_call_with_response_time PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_increment_counter PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_set_gauge PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_get_metrics PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_get_summary PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestMetricsCollector::test_reset PASSED [ 72%]
tests/test_monitoring/test_metrics.py::TestGlobalCollector::test_get_metrics_collector_singleton PASSED [ 73%]
tests/test_monitoring/test_metrics.py::TestGlobalCollector::test_get_metrics_collector_returns_collector PASSED [ 73%]
tests/test_monitoring/test_metrics.py::TestGlobalCollector::test_reset_metrics_function PASSED [ 73%]
tests/test_monitoring/test_metrics.py::TestGlobalCollector::test_global_collector_persistence PASSED [ 73%]
tests/test_monitoring/test_metrics.py::TestMetricsCollectorIntegration::test_complete_workflow PASSED [ 73%]
tests/test_persistence/test_database.py::TestDatabaseManager::test_initialize PASSED [ 73%]
tests/test_persistence/test_database.py::TestDatabaseManager::test_shutdown PASSED [ 73%]
tests/test_persistence/test_database.py::TestDatabaseManager::test_integrity_check PASSED [ 73%]
tests/test_persistence/test_database.py::TestDatabaseManager::test_execute_and_fetch PASSED [ 73%]
tests/test_persistence/test_database.py::TestPositionRepository::test_upsert_position PASSED [ 73%]
tests/test_persistence/test_database.py::TestPositionRepository::test_get_active_positions PASSED [ 73%]
tests/test_persistence/test_database.py::TestPositionRepository::test_update_price PASSED [ 73%]
tests/test_persistence/test_database.py::TestOrderRepository::test_create_order PASSED [ 73%]
tests/test_persistence/test_database.py::TestOrderRepository::test_update_status PASSED [ 73%]
tests/test_persistence/test_database.py::TestOrderRepository::test_get_active_orders PASSED [ 73%]
tests/test_persistence/test_database.py::TestSystemStateRepository::test_kill_switch_default PASSED [ 73%]
tests/test_persistence/test_database.py::TestSystemStateRepository::test_activate_kill_switch PASSED [ 73%]
tests/test_persistence/test_database.py::TestSystemStateRepository::test_deactivate_kill_switch PASSED [ 73%]
tests/test_persistence/test_database.py::TestSystemStateRepository::test_checkpoints PASSED [ 73%]
tests/test_persistence/test_database.py::TestSystemStateRepository::test_risk_limits PASSED [ 73%]
tests/test_persistence/test_database.py::TestTradeRepository::test_create_trade PASSED [ 73%]
tests/test_persistence/test_database.py::TestTradeRepository::test_performance_metrics PASSED [ 73%]
tests/test_phase1_fundamental.py::test_phase_1_completion PASSED         [ 73%]
tests/test_plugins/test_base.py::test_plugin_config_creation PASSED      [ 73%]
tests/test_plugins/test_base.py::test_plugin_status_enum PASSED          [ 73%]
tests/test_plugins/test_base.py::test_plugin_initialize PASSED           [ 73%]
tests/test_plugins/test_base.py::test_plugin_shutdown PASSED             [ 73%]
tests/test_plugins/test_base.py::test_plugin_health_check PASSED         [ 73%]
tests/test_plugins/test_base_comprehensive.py::TestPluginStatusEnum::test_plugin_status_values PASSED [ 73%]
tests/test_plugins/test_base_comprehensive.py::TestPluginStatusEnum::test_plugin_status_count PASSED [ 73%]
tests/test_plugins/test_base_comprehensive.py::TestPluginCapabilityEnum::test_plugin_capability_values PASSED [ 73%]
tests/test_plugins/test_base_comprehensive.py::TestPluginCapabilityEnum::test_plugin_capability_count PASSED [ 73%]
tests/test_plugins/test_base_comprehensive.py::TestPluginConfig::test_plugin_config_required_field PASSED [ 73%]
tests/test_plugins/test_base_comprehensive.py::TestPluginConfig::test_plugin_config_defaults PASSED [ 73%]
tests/test_plugins/test_base_comprehensive.py::TestPluginConfig::test_plugin_config_custom_values PASSED [ 73%]
tests/test_plugins/test_base_comprehensive.py::TestPluginHealth::test_plugin_health_required_fields PASSED [ 73%]
tests/test_plugins/test_base_comprehensive.py::TestPluginHealth::test_plugin_health_defaults PASSED [ 73%]
tests/test_plugins/test_base_comprehensive.py::TestPluginHealth::test_plugin_health_with_error PASSED [ 73%]
tests/test_plugins/test_base_comprehensive.py::TestRateLimiter::test_rate_limiter_initialization PASSED [ 73%]
tests/test_plugins/test_base_comprehensive.py::TestRateLimiter::test_rate_limiter_acquire_success PASSED [ 73%]
tests/test_plugins/test_base_comprehensive.py::TestRateLimiter::test_rate_limiter_exhaustion PASSED [ 74%]
tests/test_plugins/test_base_comprehensive.py::TestRateLimiter::test_rate_limiter_token_replenishment PASSED [ 74%]
tests/test_plugins/test_base_comprehensive.py::TestRateLimiter::test_rate_limiter_wait_for_token PASSED [ 74%]
tests/test_plugins/test_base_comprehensive.py::TestRateLimiter::test_rate_limiter_concurrent_access PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex.py::test_iex_plugin_initialization PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex.py::test_iex_get_quote PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex.py::test_iex_get_historical PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex.py::test_iex_health_check PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex.py::test_iex_rate_limiting PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXPluginInitialization::test_plugin_attributes PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXPluginInitialization::test_api_url_production PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXPluginInitialization::test_api_url_sandbox PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXPluginInitialization::test_initialize_success PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXPluginInitialization::test_initialize_api_key_invalid PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXPluginInitialization::test_initialize_network_error PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXPluginInitialization::test_shutdown PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXHealthCheck::test_health_check_healthy PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXHealthCheck::test_health_check_unhealthy PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXHealthCheck::test_health_check_latency_calculation PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXQuoteRetrieval::test_get_quote_success PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXQuoteRetrieval::test_get_quote_invalid_symbol PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXQuoteRetrieval::test_get_quote_multiple_symbols PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXHistoricalData::test_get_historical_data PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXHistoricalData::test_get_historical_different_intervals PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXHistoricalData::test_get_historical_long_date_range PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXDataFormats::test_quote_format_structure PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXErrorHandling::test_handle_api_rate_limit PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXErrorHandling::test_handle_timeout PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXErrorHandling::test_handle_network_error PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXErrorHandling::test_handle_invalid_response PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXRequestMethods::test_make_request_constructs_url PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXRequestMethods::test_make_request_includes_api_key PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXCapabilities::test_plugin_capabilities PASSED [ 74%]
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXCapabilities::test_plugin_metadata PASSED [ 74%]
tests/test_plugins/test_registry.py::TestRegistryBasics::test_registry_singleton PASSED [ 74%]
tests/test_plugins/test_registry.py::TestRegistryBasics::test_registry_initialization PASSED [ 74%]
tests/test_plugins/test_registry.py::TestPluginClassRegistration::test_register_plugin_class PASSED [ 74%]
tests/test_plugins/test_registry.py::TestPluginClassRegistration::test_register_multiple_classes PASSED [ 74%]
tests/test_plugins/test_registry.py::TestPluginClassRegistration::test_register_class_overwrite_warning PASSED [ 74%]
tests/test_plugins/test_registry.py::TestPluginClassRegistration::test_list_available_classes_empty PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginInstanceCreation::test_create_plugin_instance PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginInstanceCreation::test_create_plugin_from_unregistered_class PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginInstanceCreation::test_create_plugin_logs_error_for_missing_class PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginInstanceCreation::test_create_multiple_instances_from_same_class PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginInstanceCreation::test_create_plugin_with_custom_config PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginRetrieval::test_get_plugin_by_name PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginRetrieval::test_get_nonexistent_plugin PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginRetrieval::test_list_plugins_empty PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginRetrieval::test_list_plugins_multiple PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginLifecycle::test_initialize_all_plugins PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginLifecycle::test_initialize_all_with_failure PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginLifecycle::test_initialize_all_with_exception PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginLifecycle::test_shutdown_all_plugins PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginLifecycle::test_shutdown_all_with_exception PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginLifecycle::test_shutdown_all_empty_registry PASSED [ 75%]
tests/test_plugins/test_registry.py::TestHealthChecks::test_health_check_all_plugins PASSED [ 75%]
tests/test_plugins/test_registry.py::TestHealthChecks::test_health_check_with_exception PASSED [ 75%]
tests/test_plugins/test_registry.py::TestHealthChecks::test_health_check_empty_registry PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginQueries::test_get_plugins_by_status PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginQueries::test_get_plugins_by_status_none_match PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginQueries::test_get_plugins_by_capability PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginQueries::test_get_plugins_by_capability_none_match PASSED [ 75%]
tests/test_plugins/test_registry.py::TestPluginQueries::test_get_plugins_by_capability_empty_registry PASSED [ 75%]
tests/test_plugins/test_registry.py::TestEdgeCases::test_create_plugin_overwrites_existing_instance PASSED [ 75%]
tests/test_plugins/test_registry.py::TestEdgeCases::test_initialize_all_empty_registry PASSED [ 75%]
tests/test_plugins/test_registry.py::TestEdgeCases::test_get_plugins_by_status_all_statuses PASSED [ 75%]
tests/test_plugins/test_registry.py::TestEdgeCases::test_lifecycle_integration PASSED [ 75%]
tests/test_quant/test_gs_quant_adapter.py::TestGenerateSeries::test_generate_series_length PASSED [ 75%]
tests/test_quant/test_gs_quant_adapter.py::TestGenerateSeries::test_generate_series_reproducible PASSED [ 75%]
tests/test_quant/test_gs_quant_adapter.py::TestGenerateSeries::test_generate_series_has_datetime_index PASSED [ 75%]
tests/test_quant/test_gs_quant_adapter.py::TestReturns::test_simple_returns PASSED [ 75%]
tests/test_quant/test_gs_quant_adapter.py::TestReturns::test_log_returns PASSED [ 75%]
tests/test_quant/test_gs_quant_adapter.py::TestReturns::test_absolute_returns PASSED [ 75%]
tests/test_quant/test_gs_quant_adapter.py::TestPrices::test_prices_from_simple_returns PASSED [ 75%]
tests/test_quant/test_gs_quant_adapter.py::TestMovingAverage::test_simple_moving_average PASSED [ 75%]
tests/test_quant/test_gs_quant_adapter.py::TestMovingAverage::test_moving_average_with_window_object PASSED [ 75%]
tests/test_quant/test_gs_quant_adapter.py::TestBollingerBands::test_bollinger_bands_structure PASSED [ 75%]
tests/test_quant/test_gs_quant_adapter.py::TestBollingerBands::test_bollinger_bands_order PASSED [ 75%]
tests/test_quant/test_gs_quant_adapter.py::TestRSI::test_rsi_bounds PASSED [ 75%]
tests/test_quant/test_gs_quant_adapter.py::TestMACD::test_macd_structure PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestMACD::test_macd_histogram_equals_difference PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestVolatility::test_volatility_positive PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestVolatility::test_volatility_annualized PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestSharpeRatio::test_sharpe_ratio_scalar PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestSharpeRatio::test_sharpe_ratio_rolling PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestMaxDrawdown::test_max_drawdown_negative PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestMaxDrawdown::test_max_drawdown_known_values PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestCorrelation::test_correlation_bounds PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestCorrelation::test_correlation_with_self PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestBeta::test_beta_with_self PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestZscores::test_zscores_full_series PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestZscores::test_zscores_rolling PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestPercentiles::test_percentiles_bounds PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestRollingStatistics::test_rolling_std PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestRollingStatistics::test_rolling_min_max PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestWindowClass::test_window_defaults PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestWindowClass::test_window_custom_ramp PASSED [ 76%]
tests/test_quant/test_gs_quant_adapter.py::TestAnnualizationFactor::test_annualization_values PASSED [ 76%]
tests/test_quant/test_qpo_adapter.py::TestQPOEnvironmentError::test_error_is_runtime_error PASSED [ 76%]
tests/test_quant/test_qpo_adapter.py::TestQPOEnvironmentError::test_error_message PASSED [ 76%]
tests/test_quant/test_qpo_adapter.py::TestEnsureInSysPath::test_adds_path_if_not_present PASSED [ 76%]
tests/test_quant/test_qpo_adapter.py::TestEnsureInSysPath::test_does_not_duplicate_path PASSED [ 76%]
tests/test_quant/test_qpo_adapter.py::TestImportQpoModule::test_raises_error_if_path_not_exists PASSED [ 76%]
tests/test_quant/test_qpo_adapter.py::TestImportQpoModule::test_imports_module_from_path PASSED [ 76%]
tests/test_quant/test_qpo_adapter.py::TestQPOScenarioGenerator::test_init_default_path PASSED [ 76%]
tests/test_quant/test_qpo_adapter.py::TestQPOScenarioGenerator::test_init_custom_path PASSED [ 76%]
tests/test_quant/test_qpo_adapter.py::TestQPOScenarioGenerator::test_loader_raises_error_if_path_missing PASSED [ 76%]
tests/test_quant/test_qpo_adapter.py::TestQPOScenarioGenerator::test_generate_calls_simulator PASSED [ 76%]
tests/test_quant/test_qpo_adapter.py::TestQPOPortfolioOptimizer::test_init_default_path PASSED [ 76%]
tests/test_quant/test_qpo_adapter.py::TestQPOPortfolioOptimizer::test_init_custom_path PASSED [ 76%]
tests/test_quant/test_qpo_adapter.py::TestQPOPortfolioOptimizer::test_load_optimizer_raises_error_if_path_missing PASSED [ 76%]
tests/test_quant/test_qpo_adapter.py::TestQPOPortfolioOptimizer::test_optimize_validate_only PASSED [ 76%]
tests/test_rag/test_api/test_models.py::TestQueryRequest::test_create_minimal PASSED [ 76%]
tests/test_rag/test_api/test_models.py::TestQueryRequest::test_create_with_all_fields PASSED [ 76%]
tests/test_rag/test_api/test_models.py::TestQueryRequest::test_top_k_min_validation PASSED [ 76%]
tests/test_rag/test_api/test_models.py::TestQueryRequest::test_top_k_max_validation PASSED [ 76%]
tests/test_rag/test_api/test_models.py::TestQueryRequest::test_query_required PASSED [ 76%]
tests/test_rag/test_api/test_models.py::TestQueryResult::test_create_result PASSED [ 76%]
tests/test_rag/test_api/test_models.py::TestQueryResult::test_all_fields_required PASSED [ 77%]
tests/test_rag/test_api/test_models.py::TestQueryResponse::test_create_response PASSED [ 77%]
tests/test_rag/test_api/test_models.py::TestQueryResponse::test_empty_results PASSED [ 77%]
tests/test_rag/test_api/test_models.py::TestHealthResponse::test_create_health_response PASSED [ 77%]
tests/test_rag/test_api/test_models.py::TestHealthResponse::test_unhealthy_status PASSED [ 77%]
tests/test_rag/test_api/test_models.py::TestStatsResponse::test_create_stats_response PASSED [ 77%]
tests/test_rag/test_api/test_models.py::TestConfigResponse::test_create_config_response PASSED [ 77%]
tests/test_rag/test_chroma_client_paths.py::test_chroma_client_resolves_relative_path FAILED [ 77%]
tests/test_rag/test_config.py::TestRAGConfig::test_default_values PASSED [ 77%]
tests/test_rag/test_config.py::TestRAGConfig::test_embedding_model_defaults PASSED [ 77%]
tests/test_rag/test_config.py::TestRAGConfig::test_embedding_dimension PASSED [ 77%]
tests/test_rag/test_config.py::TestRAGConfig::test_use_local_embeddings_default PASSED [ 77%]
tests/test_rag/test_config.py::TestRAGConfig::test_retrieval_params PASSED [ 77%]
tests/test_rag/test_config.py::TestRAGConfig::test_chunk_params PASSED   [ 77%]
tests/test_rag/test_config.py::TestRAGConfig::test_paths_are_path_objects PASSED [ 77%]
tests/test_rag/test_config.py::TestRAGConfig::test_nvidia_api_key_optional PASSED [ 77%]
tests/test_rag/test_config.py::TestRAGConfig::test_api_fallback_default PASSED [ 77%]
tests/test_rag/test_config.py::TestRAGConfig::test_vram_settings PASSED  [ 77%]
tests/test_rag/test_config.py::TestRAGConfig::test_cache_settings PASSED [ 77%]
tests/test_rag/test_config.py::TestRAGConfig::test_custom_values PASSED  [ 77%]
tests/test_rag/test_config.py::TestRAGConfig::test_validate_assignment PASSED [ 77%]
tests/test_rag/test_config.py::TestGetConfig::test_get_config_returns_rag_config PASSED [ 77%]
tests/test_rag/test_config.py::TestGetConfig::test_get_config_singleton PASSED [ 77%]
tests/test_rag/test_config.py::TestSetConfig::test_set_config PASSED     [ 77%]
tests/test_rag/test_context/test_assembler.py::TestContextSource::test_context_source_values PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestContextSource::test_context_source_count PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestContextPriority::test_context_priority_values PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestContextPriority::test_context_priority_ordering PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestContextChunk::test_context_chunk_creation PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestContextChunk::test_context_chunk_with_metadata PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestContextChunk::test_context_chunk_effective_priority PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestContextChunk::test_context_chunk_effective_priority_perfect_score PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestAssembledContext::test_assembled_context_creation PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestAssembledContext::test_assembled_context_to_dict PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestUtcnow::test_utcnow_returns_datetime PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestUtcnow::test_utcnow_is_timezone_aware PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerInit::test_init_with_defaults PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerInit::test_init_with_custom_values PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerInit::test_default_priorities PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerInit::test_default_allocations PASSED [ 77%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerEstimateTokens::test_estimate_tokens PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerEstimateTokens::test_estimate_tokens_empty_string PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerPackChunks::test_pack_chunks_empty PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerPackChunks::test_pack_chunks_single_chunk PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerPackChunks::test_pack_chunks_respects_token_limit PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerPackChunks::test_pack_chunks_prioritizes_by_effective_priority PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerPackChunks::test_pack_chunks_truncates_critical PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerClearCache::test_clear_cache PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerAssembleContext::test_assemble_context_empty_sources PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerAssembleContext::test_assemble_context_uses_cache PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerAssembleContext::test_assemble_context_handles_gather_exceptions PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerGatherMethods::test_gather_system_state_no_data PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerGatherMethods::test_gather_system_state_with_data PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerGatherMethods::test_gather_system_state_handles_exception PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerPreloadSessionContext::test_preload_session_context PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerLazyInit::test_chroma_client_lazy_init PASSED [ 78%]
tests/test_rag/test_context/test_assembler.py::TestContextAssemblerLazyInit::test_text_embedder_lazy_init PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderInit::test_init_with_api_mode PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderInit::test_init_local_mode_vram_check_fail PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderInit::test_init_with_env_api_key PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderInit::test_init_api_no_key_raises PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderInit::test_init_local_mode_success PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderCheckVram::test_check_vram_sufficient PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderCheckVram::test_check_vram_insufficient PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderCheckVram::test_check_vram_command_fails PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderCheckVram::test_check_vram_exception PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderEmbed::test_embed_single_text_api PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderEmbed::test_embed_multiple_texts_api PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderEmbed::test_embed_empty_list PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderEmbed::test_embed_truncates_large_embeddings PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderEmbed::test_embed_local_mode PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderEmbed::test_embed_no_model_raises PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderUtilityMethods::test_get_embedding_dimension PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderUtilityMethods::test_is_available_api_mode PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderUtilityMethods::test_is_available_no_client PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderUtilityMethods::test_is_available_local_mode PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderUtilityMethods::test_unload_clears_model PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderInitLocalModel::test_init_local_model_cuda PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderInitLocalModel::test_init_local_model_cpu PASSED [ 78%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderInitLocalModel::test_init_local_model_fallback_to_api PASSED [ 79%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderInitLocalModel::test_init_local_model_no_fallback_raises PASSED [ 79%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderInitApiClient::test_init_api_client_success PASSED [ 79%]
tests/test_rag/test_embedders/test_code_embedder.py::TestCodeEmbedderInitApiClient::test_init_api_client_failure PASSED [ 79%]
tests/test_rag/test_embedders/test_text_embedder.py::TestTextEmbedderInit::test_init_with_local_mode_no_fallback PASSED [ 79%]
tests/test_rag/test_embedders/test_text_embedder.py::TestTextEmbedderInit::test_init_with_api_mode PASSED [ 79%]
tests/test_rag/test_embedders/test_text_embedder.py::TestTextEmbedderInit::test_init_api_mode_no_key_raises PASSED [ 79%]
tests/test_rag/test_embedders/test_text_embedder.py::TestTextEmbedderEmbed::test_embed_single_text PASSED [ 79%]
tests/test_rag/test_embedders/test_text_embedder.py::TestTextEmbedderEmbed::test_embed_multiple_texts PASSED [ 79%]
tests/test_rag/test_embedders/test_text_embedder.py::TestTextEmbedderEmbed::test_embed_empty_list PASSED [ 79%]
tests/test_rag/test_embedders/test_text_embedder.py::TestTextEmbedderEmbed::test_embed_truncates_to_dimension PASSED [ 79%]
tests/test_rag/test_embedders/test_text_embedder.py::TestTextEmbedderAPI::test_embed_with_api_client PASSED [ 79%]
tests/test_rag/test_embedders/test_text_embedder.py::TestTextEmbedderUtilities::test_get_embedding_dimension PASSED [ 79%]
tests/test_rag/test_embedders/test_text_embedder.py::TestTextEmbedderUtilities::test_is_available_with_model PASSED [ 79%]
tests/test_rag/test_embedders/test_text_embedder.py::TestTextEmbedderUtilities::test_is_available_without_model PASSED [ 79%]
tests/test_rag/test_embedders/test_text_embedder.py::TestTextEmbedderUtilities::test_unload_clears_model PASSED [ 79%]
tests/test_rag/test_embedders/test_text_embedder.py::TestTextEmbedderUtilities::test_unload_without_model PASSED [ 79%]
tests/test_rag/test_integration.py::test_query_classification PASSED     [ 79%]
tests/test_rag/test_integration.py::test_retrieval_engine_initialization SKIPPED [ 79%]
tests/test_rag/test_integration.py::test_text_query SKIPPED (Require...) [ 79%]
tests/test_rag/test_integration.py::test_code_query SKIPPED (Require...) [ 79%]
tests/test_rag/test_integration.py::test_hybrid_query SKIPPED (Requi...) [ 79%]
tests/test_rag/test_integration.py::test_domain_filtering SKIPPED (R...) [ 79%]
tests/test_rag/test_integration.py::test_auto_query_detection SKIPPED    [ 79%]
tests/test_rag/test_integration.py::test_query_performance SKIPPED (...) [ 79%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestCodeIndexerInit::test_init_with_clients PASSED [ 79%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestExtractEngine::test_extract_cortex_engine PASSED [ 79%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestExtractEngine::test_extract_signalcore_engine PASSED [ 79%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestExtractEngine::test_extract_no_engine PASSED [ 79%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestExtractEngine::test_extract_proofbench_engine PASSED [ 79%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestExtractEngine::test_extract_flowroute_engine PASSED [ 79%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestProcessFile::test_process_file_with_function PASSED [ 79%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestProcessFile::test_process_file_with_class PASSED [ 79%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestProcessFile::test_process_file_with_method_in_class PASSED [ 79%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestProcessFile::test_process_file_syntax_error PASSED [ 79%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestProcessFile::test_process_file_async_function PASSED [ 79%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestProcessFile::test_process_file_metadata_line_numbers PASSED [ 79%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestIndexDirectory::test_index_nonexistent_directory PASSED [ 79%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestIndexDirectory::test_index_empty_directory PASSED [ 79%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestIndexDirectory::test_index_directory_with_python_files PASSED [ 80%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestIndexDirectory::test_index_directory_skips_test_files PASSED [ 80%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestIndexDirectory::test_index_directory_skips_pycache PASSED [ 80%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestIndexDirectory::test_index_directory_calls_chroma PASSED [ 80%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestIndexDirectory::test_index_handles_file_errors PASSED [ 80%]
tests/test_rag/test_pipeline/test_code_indexer.py::TestIndexDirectory::test_index_multiple_paths PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexInit::test_init_creates_index_file PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexInit::test_init_loads_existing_index PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexInit::test_init_handles_corrupt_file PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexInit::test_empty_index_structure PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexSessionExport::test_add_session_export PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexSessionExport::test_add_session_export_with_topics PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexSessionExport::test_add_session_export_limits_sessions PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexSessionExport::test_add_session_export_most_recent_first PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexDecisions::test_add_decision PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexDecisions::test_add_decision_with_session PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexDecisions::test_add_decision_limits_to_100 PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexDecisions::test_get_critical_decisions PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexDecisions::test_get_critical_decisions_with_limit PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexQueries::test_get_session_summary PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexQueries::test_get_session_summary_empty PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexQueries::test_get_session_summary_respects_limit PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexQueries::test_get_topics PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexQueries::test_get_recent PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexQueries::test_get_recent_sorted_by_timestamp PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexPersistence::test_save_and_reload PASSED [ 80%]
tests/test_rag/test_pipeline/test_context_index.py::TestRecentContextIndexPersistence::test_clear PASSED [ 80%]
tests/test_rag/test_pipeline/test_kb_indexer.py::TestKBIndexerInit::test_init_default_params PASSED [ 80%]
tests/test_rag/test_pipeline/test_kb_indexer.py::TestChunkText::test_chunk_small_text PASSED [ 80%]
tests/test_rag/test_pipeline/test_kb_indexer.py::TestChunkText::test_chunk_large_text PASSED [ 80%]
tests/test_rag/test_pipeline/test_kb_indexer.py::TestChunkText::test_empty_text PASSED [ 80%]
tests/test_rag/test_pipeline/test_kb_indexer.py::TestProcessFile::test_process_markdown_file PASSED [ 80%]
tests/test_rag/test_pipeline/test_kb_indexer.py::TestProcessFile::test_process_file_extracts_domain PASSED [ 80%]
tests/test_rag/test_pipeline/test_kb_indexer.py::TestProcessFile::test_process_file_no_domain PASSED [ 80%]
tests/test_rag/test_pipeline/test_kb_indexer.py::TestIndexDirectory::test_index_nonexistent_directory PASSED [ 80%]
tests/test_rag/test_pipeline/test_kb_indexer.py::TestIndexDirectory::test_index_empty_directory PASSED [ 80%]
tests/test_rag/test_pipeline/test_kb_indexer.py::TestIndexDirectory::test_index_directory_with_files PASSED [ 80%]
tests/test_rag/test_pipeline/test_kb_indexer.py::TestIndexDirectory::test_index_directory_calls_chroma PASSED [ 80%]
tests/test_rag/test_pipeline/test_kb_indexer.py::TestIndexDirectory::test_index_directory_handles_file_errors PASSED [ 80%]
tests/test_rag/test_pipeline/test_kb_indexer.py::TestIndexDirectory::test_index_handles_python_files PASSED [ 80%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestSessionLogIndexerInit::test_init_default_params PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestSessionLogIndexerInit::test_init_custom_params PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestSessionLogIndexerInit::test_init_creates_collection PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestSessionLogIndexerInit::test_init_handles_collection_error PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestChunkText::test_chunk_small_text PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestChunkText::test_chunk_empty_text PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestChunkText::test_chunk_large_text PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestChunkText::test_chunks_have_overlap PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestIndexSessionLog::test_index_missing_file PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestIndexSessionLog::test_index_valid_file PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestIndexSessionLog::test_index_with_extra_metadata PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestIndexSessionLog::test_index_parses_timestamp_from_filename PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestIndexSessionLog::test_index_calls_chroma_add PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestSearchSessions::test_search_returns_formatted_results PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestSearchSessions::test_search_with_session_filter PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestSearchSessions::test_search_without_filter PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestSearchSessions::test_search_empty_results PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestSearchSessions::test_search_calculates_relevance PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestSearchSessions::test_search_handles_high_distance PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestGetRecentSessions::test_get_recent_returns_unique_sessions PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestGetRecentSessions::test_get_recent_respects_limit PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestGetRecentSessions::test_get_recent_handles_empty_results PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestGetRecentSessions::test_get_recent_handles_exception PASSED [ 81%]
tests/test_rag/test_pipeline/test_session_indexer.py::TestGetRecentSessions::test_get_recent_extracts_correct_fields PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestUtcNow::test_returns_datetime PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestUtcNow::test_returns_timezone_aware PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestSyncMode::test_incremental_value PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestSyncMode::test_full_value PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestSyncMode::test_session_value PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestSyncMode::test_all_modes_unique PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestSyncResult::test_default_values PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestSyncResult::test_success_rate_empty PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestSyncResult::test_success_rate_all_synced PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestSyncResult::test_success_rate_partial PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestSyncResult::test_success_rate_none_synced PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestSyncResult::test_to_dict PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestSyncResult::test_to_dict_limits_errors PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterInit::test_init_with_path PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterInit::test_init_with_string_path PASSED [ 81%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterInit::test_init_default_batch_size PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterInit::test_init_custom_batch_size PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterInit::test_init_lazy_clients PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterInit::test_init_with_clients PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterInit::test_default_db_path_from_env PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterInit::test_default_db_path_fallback PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterClients::test_chroma_client_lazy_create PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterClients::test_text_embedder_lazy_create PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterBuildQuery::test_build_query_incremental PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterBuildQuery::test_build_query_full PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterBuildQuery::test_build_query_session PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterBuildQuery::test_build_query_with_limit PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterBuildQuery::test_build_query_base_columns PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterTradeToDocument::test_basic_trade PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterTradeToDocument::test_trade_with_pnl_positive PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterTradeToDocument::test_trade_with_pnl_negative PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterTradeToDocument::test_trade_with_notes PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterTradeToDocument::test_trade_with_metadata_reason PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterTradeToDocument::test_trade_with_metadata_signal_strength PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterTradeToDocument::test_trade_with_dict_metadata PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterTradeToDocument::test_trade_with_invalid_metadata PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterTradeToDocument::test_trade_without_price PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterSync::test_sync_unsynced_trades_no_trades PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterSync::test_sync_session_trades_calls_correct_mode PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterSync::test_full_reindex_clears_vectors PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterSync::test_sync_handles_db_error PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterStatus::test_get_sync_status PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestTradeVectorIngesterStatus::test_get_sync_status_chroma_error PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestProcessBatch::test_process_batch_success PASSED [ 82%]
tests/test_rag/test_pipeline/test_trade_ingester.py::TestProcessBatch::test_process_batch_embedding_error PASSED [ 82%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestQueryType::test_query_type_values PASSED [ 82%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestQueryType::test_query_type_is_str_enum PASSED [ 82%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestClassifyQuery::test_classify_text_query PASSED [ 82%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestClassifyQuery::test_classify_code_query_implement PASSED [ 82%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestClassifyQuery::test_classify_code_query_function PASSED [ 82%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestClassifyQuery::test_classify_code_query_class PASSED [ 82%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestClassifyQuery::test_classify_code_query_show_me PASSED [ 82%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestClassifyQuery::test_classify_hybrid_query_architecture PASSED [ 82%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestClassifyQuery::test_classify_hybrid_query_design PASSED [ 82%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestClassifyQuery::test_classify_hybrid_query_how_to PASSED [ 82%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestClassifyQuery::test_classify_hybrid_query_best_practice PASSED [ 83%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestClassifyQuery::test_hybrid_takes_precedence_over_code PASSED [ 83%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestClassifyQuery::test_classify_case_insensitive PASSED [ 83%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestClassifyQuery::test_classify_code_with_import PASSED [ 83%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestClassifyQuery::test_classify_code_with_api PASSED [ 83%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestKeywords::test_code_keywords_exist PASSED [ 83%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestKeywords::test_hybrid_keywords_exist PASSED [ 83%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestKeywords::test_code_keywords_lowercase PASSED [ 83%]
tests/test_rag/test_retrieval/test_query_classifier.py::TestKeywords::test_hybrid_keywords_lowercase PASSED [ 83%]
tests/test_rag/test_synapse/test_retrieve.py::TestRunRetrieval::test_run_retrieval_prints_query PASSED [ 83%]
tests/test_rag/test_synapse/test_retrieve.py::TestRunRetrieval::test_run_retrieval_shows_embedding_step PASSED [ 83%]
tests/test_rag/test_synapse/test_retrieve.py::TestRunRetrieval::test_run_retrieval_shows_search_step PASSED [ 83%]
tests/test_rag/test_synapse/test_retrieve.py::TestRunRetrieval::test_run_retrieval_returns_results PASSED [ 83%]
tests/test_rag/test_synapse/test_retrieve.py::TestMain::test_main_with_query_arg PASSED [ 83%]
tests/test_rag/test_synapse/test_retrieve.py::TestMain::test_main_missing_query_exits PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestGenerateVectorId::test_basic_id_generation PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestGenerateVectorId::test_id_with_chunk_index PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestGenerateVectorId::test_deterministic_ids PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestGenerateVectorId::test_different_content_different_hash PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestGenerateContentHash::test_hash_length PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestGenerateContentHash::test_hash_deterministic PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestGenerateContentHash::test_hash_hex_format PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestSpecificIdGenerators::test_generate_trade_vector_id PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestSpecificIdGenerators::test_generate_session_chunk_id PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestSpecificIdGenerators::test_generate_message_vector_id PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestSpecificIdGenerators::test_generate_summary_vector_id PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestSpecificIdGenerators::test_generate_kb_chunk_id PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestSpecificIdGenerators::test_generate_kb_chunk_id_normalizes_path PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestSpecificIdGenerators::test_generate_code_chunk_id PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestSpecificIdGenerators::test_generate_code_chunk_id_normalizes_path PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestParseVectorId::test_parse_simple_id PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestParseVectorId::test_parse_id_with_colon_in_source PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestParseVectorId::test_parse_invalid_id_raises PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestParseVectorId::test_parse_roundtrip PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestIsValidVectorId::test_valid_trade_id PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestIsValidVectorId::test_valid_session_id PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestIsValidVectorId::test_valid_message_id PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestIsValidVectorId::test_valid_summary_id PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestIsValidVectorId::test_valid_kb_id PASSED [ 83%]
tests/test_rag/test_vectordb/test_id_generator.py::TestIsValidVectorId::test_valid_code_id PASSED [ 84%]
tests/test_rag/test_vectordb/test_id_generator.py::TestIsValidVectorId::test_invalid_entity_type PASSED [ 84%]
tests/test_rag/test_vectordb/test_id_generator.py::TestIsValidVectorId::test_invalid_hash_length PASSED [ 84%]
tests/test_rag/test_vectordb/test_id_generator.py::TestIsValidVectorId::test_invalid_format PASSED [ 84%]
tests/test_rag/test_vectordb/test_id_generator.py::TestIsValidVectorId::test_negative_chunk_index_invalid PASSED [ 84%]
tests/test_rag/test_vectordb/test_id_generator.py::TestVectorIdGenerator::test_init_default_values PASSED [ 84%]
tests/test_rag/test_vectordb/test_id_generator.py::TestVectorIdGenerator::test_init_custom_values PASSED [ 84%]
tests/test_rag/test_vectordb/test_id_generator.py::TestVectorIdGenerator::test_create_trade_id PASSED [ 84%]
tests/test_rag/test_vectordb/test_id_generator.py::TestVectorIdGenerator::test_create_trade_id_with_extra_metadata PASSED [ 84%]
tests/test_rag/test_vectordb/test_id_generator.py::TestVectorIdGenerator::test_create_session_chunk_id PASSED [ 84%]
tests/test_rag/test_vectordb/test_id_generator.py::TestVectorIdGenerator::test_create_session_chunk_id_with_extra_metadata PASSED [ 84%]
tests/test_rag/test_vectordb/test_id_generator.py::TestVectorIdGenerator::test_create_summary_id PASSED [ 84%]
tests/test_rag/test_vectordb/test_id_generator.py::TestVectorIdGenerator::test_create_summary_id_with_extra_metadata PASSED [ 84%]
tests/test_rag/test_vectordb/test_id_generator.py::TestGetIdGenerator::test_returns_generator PASSED [ 84%]
tests/test_rag/test_vectordb/test_id_generator.py::TestGetIdGenerator::test_returns_singleton PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestTextChunkMetadata::test_minimal_creation PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestTextChunkMetadata::test_full_creation PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestTextChunkMetadata::test_source_required PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestTextChunkMetadata::test_chunk_index_required PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestTextChunkMetadata::test_model_dump PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestCodeChunkMetadata::test_minimal_creation PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestCodeChunkMetadata::test_full_creation PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestCodeChunkMetadata::test_file_path_required PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestCodeChunkMetadata::test_model_dump PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestRetrievalResult::test_minimal_creation PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestRetrievalResult::test_with_metadata PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestRetrievalResult::test_all_required_fields PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestQueryRequest::test_minimal_creation PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestQueryRequest::test_full_creation PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestQueryRequest::test_query_required PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestQueryRequest::test_query_min_length PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestQueryRequest::test_top_k_min PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestQueryRequest::test_top_k_max PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestQueryRequest::test_min_score_range PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestQueryResponse::test_minimal_creation PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestQueryResponse::test_with_results PASSED [ 84%]
tests/test_rag/test_vectordb/test_schema.py::TestQueryResponse::test_all_required_fields PASSED [ 84%]
tests/test_rag_basic.py::test_query_classifier PASSED                    [ 84%]
tests/test_rag_basic.py::test_config PASSED                              [ 84%]
tests/test_rag_basic.py::test_config_custom PASSED                       [ 84%]
tests/test_runtime/test_bootstrap.py::TestApplicationContext::test_application_context_init PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestApplicationContext::test_application_context_init_with_container PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestApplicationContext::test_container_lazy_creation PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestApplicationContext::test_container_cached PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestApplicationContext::test_ensure_directories PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestApplicationContext::test_initialize PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestApplicationContext::test_initialize_idempotent PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestApplicationContext::test_shutdown PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestApplicationContext::test_shutdown_without_container PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestBootstrapFunction::test_bootstrap_creates_context PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestBootstrapFunction::test_bootstrap_configures_logging PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestBootstrapFunction::test_bootstrap_resets_settings PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestGetAppContext::test_get_app_context_returns_instance PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestGetAppContext::test_get_app_context_raises_when_not_bootstrapped PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestShutdownFunction::test_shutdown_calls_context_shutdown PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestShutdownFunction::test_shutdown_when_no_context PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestLoadConfig::test_load_config_file_not_found PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestLoadConfig::test_load_config_from_yaml PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestLoadConfig::test_load_config_merges_with_default PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestInitializeFunction::test_initialize_creates_container PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestInitializeFunction::test_initialize_wires_helix PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestInitializeFunction::test_initialize_handles_import_errors PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestInMemoryBus::test_bus_start PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestInMemoryBus::test_bus_subscribe PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestInMemoryBus::test_bus_publish_no_subscribers PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestInMemoryBus::test_bus_publish_sync_handler PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestInMemoryBus::test_bus_publish_async_handler PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestInMemoryBus::test_bus_publish_handler_error PASSED [ 85%]
tests/test_runtime/test_bootstrap.py::TestInMemoryBus::test_bus_multiple_subscribers PASSED [ 85%]
tests/test_runtime/test_config.py::TestConfigModels::test_system_config_defaults PASSED [ 85%]
tests/test_runtime/test_config.py::TestConfigModels::test_system_config_custom_values PASSED [ 85%]
tests/test_runtime/test_config.py::TestConfigModels::test_database_config_defaults PASSED [ 85%]
tests/test_runtime/test_config.py::TestConfigModels::test_kill_switch_config_defaults PASSED [ 85%]
tests/test_runtime/test_config.py::TestConfigModels::test_circuit_breaker_config_defaults PASSED [ 85%]
tests/test_runtime/test_config.py::TestConfigModels::test_orchestrator_config_defaults PASSED [ 85%]
tests/test_runtime/test_config.py::TestConfigModels::test_channel_config_defaults PASSED [ 85%]
tests/test_runtime/test_config.py::TestConfigModels::test_alerting_config_defaults PASSED [ 85%]
tests/test_runtime/test_config.py::TestConfigModels::test_broker_config_defaults PASSED [ 85%]
tests/test_runtime/test_config.py::TestConfigModels::test_logging_config_defaults PASSED [ 85%]
tests/test_runtime/test_config.py::TestConfigModels::test_risk_config_defaults PASSED [ 86%]
tests/test_runtime/test_config.py::TestConfigModels::test_data_config_defaults PASSED [ 86%]
tests/test_runtime/test_config.py::TestConfigModels::test_artifacts_config_defaults PASSED [ 86%]
tests/test_runtime/test_config.py::TestDeepMerge::test_deep_merge_simple PASSED [ 86%]
tests/test_runtime/test_config.py::TestDeepMerge::test_deep_merge_nested PASSED [ 86%]
tests/test_runtime/test_config.py::TestDeepMerge::test_deep_merge_replace_non_dict PASSED [ 86%]
tests/test_runtime/test_config.py::TestDeepMerge::test_deep_merge_preserves_base PASSED [ 86%]
tests/test_runtime/test_config.py::TestYamlLoading::test_load_yaml_config_no_files PASSED [ 86%]
tests/test_runtime/test_config.py::TestYamlLoading::test_load_yaml_config_default_only PASSED [ 86%]
tests/test_runtime/test_config.py::TestYamlLoading::test_load_yaml_config_with_environment PASSED [ 86%]
tests/test_runtime/test_config.py::TestSettings::test_settings_defaults PASSED [ 86%]
tests/test_runtime/test_config.py::TestSettings::test_settings_from_dict PASSED [ 86%]
tests/test_runtime/test_config.py::TestSettings::test_settings_nested_models PASSED [ 86%]
tests/test_runtime/test_config.py::TestGetSettings::test_reset_settings_clears_cache PASSED [ 86%]
tests/test_runtime/test_config.py::TestGetSettings::test_get_settings_uses_env_var PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestComponentStatus::test_status_values_exist PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestDeploymentEnvironment::test_environment_values_exist PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestComponentHealth::test_create_health PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestComponentHealth::test_is_healthy_when_healthy PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestComponentHealth::test_is_healthy_when_starting PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestComponentHealth::test_is_healthy_when_degraded PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestComponentHealth::test_is_operational_when_healthy PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestComponentHealth::test_is_operational_when_degraded PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestComponentHealth::test_is_operational_when_unhealthy PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestComponentHealth::test_with_error_message PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestComponentHealth::test_with_metrics PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestComponentHealth::test_with_dependencies PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestSystemHealth::test_create_system_health PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestSystemHealth::test_healthy_count PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestSystemHealth::test_with_warnings_and_errors PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestDeploymentConfig::test_create_development_config PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestDeploymentConfig::test_create_paper_config PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestDeploymentConfig::test_create_production_config PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestDeploymentConfig::test_from_environment_development PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestDeploymentConfig::test_from_environment_paper PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestDeploymentConfig::test_from_environment_live_trading PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestDeploymentConfig::test_from_environment_invalid_env PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestHealthMonitor::test_init PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestHealthMonitor::test_register_component PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestHealthMonitor::test_get_system_health_empty PASSED [ 86%]
tests/test_runtime/test_deployment.py::TestHealthMonitor::test_get_system_health_with_components PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestHealthMonitor::test_on_unhealthy_callback PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestHealthMonitor::test_on_recovery_callback PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestHealthMonitor::test_start_and_stop PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestGracefulShutdownManager::test_init PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestGracefulShutdownManager::test_register_handler PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestGracefulShutdownManager::test_register_handlers_sorted_by_priority PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestGracefulShutdownManager::test_shutdown_calls_handlers PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestGracefulShutdownManager::test_shutdown_async_handlers PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestGracefulShutdownManager::test_shutdown_sets_event PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestGracefulShutdownManager::test_double_shutdown_ignored PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestSystemIntegrator::test_init PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestSystemIntegrator::test_register_component PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestSystemIntegrator::test_register_component_with_health_check PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestSystemIntegrator::test_get_component PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestSystemIntegrator::test_get_component_not_found PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestSystemIntegrator::test_startup PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestSystemIntegrator::test_startup_async_functions PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestIntegrationTestRunner::test_init PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestIntegrationTestRunner::test_add_test PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestIntegrationTestRunner::test_run_tests_passing PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestIntegrationTestRunner::test_run_tests_failing PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestIntegrationTestRunner::test_run_tests_exception PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestIntegrationTestRunner::test_run_async_tests PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestIntegrationTestRunner::test_add_default_tests PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestCreateProductionSystem::test_create_with_defaults PASSED [ 87%]
tests/test_runtime/test_deployment.py::TestCreateProductionSystem::test_create_with_custom_config PASSED [ 87%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeInit::test_init_default_values PASSED [ 87%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeInit::test_init_custom_values PASSED [ 87%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeInit::test_risk_limits PASSED [ 87%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeConnect::test_connect_success PASSED [ 87%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeConnect::test_connect_failure PASSED [ 87%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeDisconnect::test_disconnect PASSED [ 87%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeRiskChecks::test_daily_pnl_tracking PASSED [ 87%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeRiskChecks::test_daily_loss_limit_exceeded PASSED [ 87%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeTrading::test_get_positions PASSED [ 87%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeTrading::test_get_account PASSED [ 87%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeState::test_running_state PASSED [ 87%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeState::test_trade_count PASSED [ 87%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeState::test_daily_pnl_update PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeGetMarketData::test_get_market_data_no_adapter PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeGetMarketData::test_get_market_data_success PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeGetMarketData::test_get_market_data_empty_result PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeGetMarketData::test_get_market_data_exception PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeProcessSymbol::test_process_symbol_no_model PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeProcessSymbol::test_process_symbol_insufficient_data PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeProcessSymbol::test_process_symbol_should_not_trade PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeProcessSymbol::test_process_symbol_generates_signal PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeProcessSymbol::test_process_symbol_hold_signal PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeProcessSymbol::test_process_symbol_exception PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeCheckRiskLimits::test_check_risk_limits_pass PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeCheckRiskLimits::test_check_risk_limits_max_positions PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeCheckRiskLimits::test_check_risk_limits_daily_loss PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeCheckRiskLimits::test_check_risk_limits_existing_position PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeExecuteSignal::test_execute_signal_risk_check_fail PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeExecuteSignal::test_execute_signal_no_price PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeExecuteSignal::test_execute_signal_long_entry PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeExecuteSignal::test_execute_signal_short_entry PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeExecuteSignal::test_execute_signal_exit_returns_false PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeExecuteSignal::test_execute_signal_neutral_direction PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeExecuteSignal::test_execute_signal_order_exception PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeManagePositions::test_manage_positions_no_positions PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeManagePositions::test_manage_positions_no_model PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeManagePositions::test_manage_positions_exit_signal PASSED [ 88%]
tests/test_runtime/test_live_trading.py::TestLiveTradingRuntimeStop::test_stop PASSED [ 88%]
tests/test_runtime/test_logging.py::TestStructuredFormatter::test_format_basic_record PASSED [ 88%]
tests/test_runtime/test_logging.py::TestStructuredFormatter::test_format_with_args PASSED [ 88%]
tests/test_runtime/test_logging.py::TestStructuredFormatter::test_format_with_exception PASSED [ 88%]
tests/test_runtime/test_logging.py::TestStructuredFormatter::test_format_with_extra_attributes PASSED [ 88%]
tests/test_runtime/test_logging.py::TestSimpleFormatter::test_simple_formatter_init PASSED [ 88%]
tests/test_runtime/test_logging.py::TestSimpleFormatter::test_simple_formatter_format PASSED [ 88%]
tests/test_runtime/test_logging.py::TestConfigureLogging::test_configure_logging_default_level PASSED [ 88%]
tests/test_runtime/test_logging.py::TestConfigureLogging::test_configure_logging_custom_level PASSED [ 88%]
tests/test_runtime/test_logging.py::TestConfigureLogging::test_configure_logging_with_config PASSED [ 88%]
tests/test_runtime/test_logging.py::TestConfigureLogging::test_configure_logging_structured_format PASSED [ 88%]
tests/test_runtime/test_logging.py::TestConfigureLogging::test_configure_logging_simple_format PASSED [ 88%]
tests/test_runtime/test_logging.py::TestConfigureLogging::test_configure_logging_clears_handlers PASSED [ 88%]
tests/test_runtime/test_logging.py::TestConfigureLogging::test_configure_logging_with_file PASSED [ 88%]
tests/test_runtime/test_logging.py::TestConfigureLogging::test_configure_logging_creates_log_directory PASSED [ 88%]
tests/test_runtime/test_logging.py::TestConfigureLogging::test_configure_logging_sets_third_party_levels PASSED [ 89%]
tests/test_runtime/test_logging.py::TestGetLogger::test_get_logger_returns_logger PASSED [ 89%]
tests/test_runtime/test_logging.py::TestGetLogger::test_get_logger_same_name_returns_same_logger PASSED [ 89%]
tests/test_runtime/test_logging.py::TestGetLogger::test_get_logger_different_names PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitState::test_circuit_state_values PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitStats::test_circuit_stats_defaults PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitStats::test_circuit_stats_custom_values PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreaker::test_circuit_breaker_initialization PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreaker::test_circuit_breaker_custom_thresholds PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreaker::test_circuit_breaker_stats_property PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerCalls::test_successful_call PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerCalls::test_sync_function_call PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerCalls::test_failed_call PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerCalls::test_circuit_opens_after_threshold PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerCalls::test_circuit_blocks_when_open PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerStateTransitions::test_force_open PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerStateTransitions::test_force_close PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerStateTransitions::test_state_change_callback PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerStateTransitions::test_half_open_transition PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerStateTransitions::test_half_open_to_closed PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerStatus::test_get_status PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerStatus::test_status_after_calls PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerHalfOpenMaxCalls::test_half_open_max_calls_exceeded PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerHalfOpenMaxCalls::test_half_open_blocks_after_max_calls PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerHalfOpenMaxCalls::test_half_open_multiple_successes_close_circuit PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerCallbackErrors::test_state_change_callback_exception PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerCallbackErrors::test_state_change_callback_none PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerAsyncEdgeCases::test_function_with_args_and_kwargs PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerAsyncEdgeCases::test_sync_function_with_args PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerAsyncEdgeCases::test_exception_propagation PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerRecovery::test_recovery_timeout_not_elapsed PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerRecovery::test_opened_at_timestamp_set PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerRecovery::test_opened_at_cleared_on_close PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerForceOperations::test_force_open_with_reason PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestCircuitBreakerForceOperations::test_force_close_resets_counters PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestBrokerCircuitBreaker::test_broker_circuit_breaker_initialization PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestBrokerCircuitBreaker::test_broker_circuit_breaker_custom_params PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestBrokerCircuitBreaker::test_record_order_failure PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestBrokerCircuitBreaker::test_record_quote_failure PASSED [ 89%]
tests/test_safety/test_circuit_breaker.py::TestBrokerCircuitBreaker::test_record_account_failure PASSED [ 90%]
tests/test_safety/test_circuit_breaker.py::TestBrokerCircuitBreaker::test_broker_circuit_opens_after_failures PASSED [ 90%]
tests/test_safety/test_circuit_breaker.py::TestBrokerCircuitBreaker::test_on_open_callback_triggered PASSED [ 90%]
tests/test_safety/test_circuit_breaker.py::TestBrokerCircuitBreaker::test_on_open_callback_exception_handled PASSED [ 90%]
tests/test_safety/test_circuit_breaker.py::TestBrokerCircuitBreaker::test_on_open_callback_none PASSED [ 90%]
tests/test_safety/test_circuit_breaker.py::TestBrokerCircuitBreaker::test_broker_get_status PASSED [ 90%]
tests/test_safety/test_circuit_breaker.py::TestBrokerCircuitBreaker::test_broker_status_after_failures PASSED [ 90%]
tests/test_safety/test_circuit_breaker.py::TestBrokerCircuitBreaker::test_broker_state_change_callback PASSED [ 90%]
tests/test_safety/test_circuit_breaker.py::TestBrokerCircuitBreaker::test_broker_on_open_only_on_open_state PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorSeverity::test_severity_levels_exist PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorCategory::test_network_categories PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorCategory::test_api_categories PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorCategory::test_data_categories PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorCategory::test_system_categories PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestRecoveryState::test_recovery_states_exist PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorEvent::test_create_error_event PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorEvent::test_error_event_str PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestCircuitState::test_default_circuit_state PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestCircuitState::test_reset_circuit_state PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestRecoveryConfig::test_default_config PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestRecoveryConfig::test_custom_config PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestRecoveryConfig::test_get_timeout_exponential_backoff PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestRecoveryConfig::test_get_timeout_respects_max PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorClassifier::test_classify_timeout PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorClassifier::test_classify_rate_limited PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorClassifier::test_classify_authentication_failed PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorClassifier::test_classify_insufficient_funds PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorClassifier::test_classify_market_closed PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorClassifier::test_classify_unknown PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorClassifier::test_classify_ssl_error PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorClassifier::test_classify_memory_error PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreaker::test_init PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreaker::test_state_property PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreaker::test_internal_state PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreakerAsync::test_call_success PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreakerAsync::test_call_failure PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorRecoveryIntegration::test_error_flow PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestErrorRecoveryIntegration::test_config_with_circuit_breaker PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreakerForceOperations::test_force_open PASSED [ 90%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreakerForceOperations::test_force_close PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreakerForceOperations::test_force_open_blocks_calls PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreakerStatus::test_get_status PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreakerStatus::test_status_after_calls PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreakerRateLimiting::test_rate_limit_allows_under_limit PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreakerRateLimiting::test_rate_limit_blocks_over_limit PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreakerCallbacks::test_state_change_callback PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreakerCallbacks::test_error_callback PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreakerStateTransitions::test_transitions_to_degraded PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreakerStateTransitions::test_critical_error_halts PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestEnhancedCircuitBreakerSyncFunction::test_sync_function_success PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestCircuitBreakerRegistry::test_get_or_create_new PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestCircuitBreakerRegistry::test_get_or_create_existing PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestCircuitBreakerRegistry::test_get_nonexistent PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestCircuitBreakerRegistry::test_get_existing PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestCircuitBreakerRegistry::test_get_global_status PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestCircuitBreakerRegistry::test_get_unhealthy_all_healthy PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestCircuitBreakerRegistry::test_get_unhealthy_some_unhealthy PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestCircuitBreakerRegistry::test_reset_all PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestCircuitBreakerRegistryWithKillSwitch::test_create_with_kill_switch PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestProtectedCall::test_protected_success PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestProtectedCall::test_protected_failure PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestProtectedCall::test_protected_blocked_when_open PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestProtectedCall::test_protected_default_operation PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestCircuitOpenError::test_circuit_open_error_message PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestCircuitOpenError::test_circuit_open_error_inheritance PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestRateLimitError::test_rate_limit_error_message PASSED [ 91%]
tests/test_safety/test_error_recovery.py::TestRateLimitError::test_rate_limit_error_inheritance PASSED [ 91%]
tests/test_safety/test_kill_switch.py::TestKillSwitchReason::test_kill_switch_reason_values PASSED [ 91%]
tests/test_safety/test_kill_switch.py::TestKillSwitchState::test_kill_switch_state_defaults PASSED [ 91%]
tests/test_safety/test_kill_switch.py::TestKillSwitchState::test_kill_switch_state_custom_values PASSED [ 91%]
tests/test_safety/test_kill_switch.py::TestKillSwitch::test_kill_switch_initialization_defaults PASSED [ 91%]
tests/test_safety/test_kill_switch.py::TestKillSwitch::test_kill_switch_initialization_custom PASSED [ 91%]
tests/test_safety/test_kill_switch.py::TestKillSwitch::test_is_active_property PASSED [ 91%]
tests/test_safety/test_kill_switch.py::TestKillSwitch::test_state_property PASSED [ 91%]
tests/test_safety/test_kill_switch.py::TestKillSwitchTrigger::test_trigger_activates_switch PASSED [ 91%]
tests/test_safety/test_kill_switch.py::TestKillSwitchTrigger::test_trigger_creates_kill_file PASSED [ 91%]
tests/test_safety/test_kill_switch.py::TestKillSwitchTrigger::test_reset_deactivates_switch PASSED [ 91%]
tests/test_safety/test_kill_switch.py::TestKillSwitchTrigger::test_reset_removes_kill_file PASSED [ 91%]
tests/test_safety/test_kill_switch.py::TestKillSwitchCallbacks::test_register_callback PASSED [ 91%]
tests/test_safety/test_kill_switch.py::TestKillSwitchCallbacks::test_callback_invoked_on_trigger PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchCallbacks::test_register_async_callback PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchRiskChecks::test_check_daily_loss_triggers PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchRiskChecks::test_check_consecutive_losses_triggers PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchRiskChecks::test_winning_trade_resets_consecutive_losses PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchStatus::test_get_status PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchStatus::test_status_after_trigger PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchInitialization::test_initialize_creates_kill_file_directory PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchInitialization::test_initialize_detects_existing_kill_file PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchInitialization::test_initialize_starts_file_monitoring PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchInitialization::test_shutdown_stops_monitoring PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchInitialization::test_shutdown_cancels_file_check_task PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchFileMonitoring::test_file_check_loop_detects_file PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchFileMonitoring::test_file_check_loop_ignores_when_active PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchTriggerEdgeCases::test_trigger_when_already_active_returns_true PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchTriggerEdgeCases::test_trigger_with_metadata PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchTriggerEdgeCases::test_trigger_creates_kill_file_with_details PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchReset::test_reset_when_inactive_returns_true PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchReset::test_reset_without_force_blocks_on_loss_limit PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchReset::test_reset_with_force_succeeds_despite_loss PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchReset::test_reset_without_force_succeeds_when_cleared PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchCallbackEdgeCases::test_callback_exception_doesnt_prevent_trigger PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchCallbackEdgeCases::test_async_callback_exception_doesnt_prevent_trigger PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchCallbackEdgeCases::test_multiple_callbacks_all_invoked PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchCallbackEdgeCases::test_async_callbacks_invoked PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchDrawdownCheck::test_check_drawdown_triggers_on_limit PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchDrawdownCheck::test_check_drawdown_no_trigger_within_limit PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchDrawdownCheck::test_check_drawdown_updates_peak PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchDrawdownCheck::test_check_drawdown_zero_peak_no_trigger PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchDrawdownCheck::test_check_drawdown_includes_metadata PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchAPIConnectivity::test_check_api_connectivity_triggers_on_disconnect PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchAPIConnectivity::test_check_api_connectivity_no_trigger_when_connected PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchDailyLoss::test_check_daily_loss_no_trigger_within_limit PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchDailyLoss::test_check_daily_loss_updates_pnl PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchDailyLoss::test_check_daily_loss_includes_metadata PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchConsecutiveLosses::test_record_trade_result_no_trigger_below_limit PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchConsecutiveLosses::test_record_trade_result_zero_pnl_resets PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchConsecutiveLosses::test_record_trade_result_includes_metadata PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchOrderSubmission::test_can_submit_order_when_inactive PASSED [ 92%]
tests/test_safety/test_kill_switch.py::TestKillSwitchOrderSubmission::test_can_submit_order_blocked_when_active PASSED [ 93%]
tests/test_safety/test_kill_switch.py::TestKillSwitchOrderSubmission::test_can_submit_order_blocked_by_file_existence PASSED [ 93%]
tests/test_safety/test_kill_switch.py::TestKillSwitchStatusReporting::test_get_status_includes_all_fields PASSED [ 93%]
tests/test_safety/test_kill_switch.py::TestKillSwitchStatusReporting::test_get_status_when_active PASSED [ 93%]
tests/test_safety/test_kill_switch.py::TestKillSwitchDatabaseIntegration::test_initialize_loads_from_database PASSED [ 93%]
tests/test_safety/test_kill_switch.py::TestKillSwitchDatabaseIntegration::test_initialize_loads_unknown_reason_from_database PASSED [ 93%]
tests/test_safety/test_kill_switch.py::TestKillSwitchDatabaseIntegration::test_initialize_handles_database_exception PASSED [ 93%]
tests/test_safety/test_kill_switch.py::TestKillSwitchDatabaseIntegration::test_trigger_persists_to_database PASSED [ 93%]
tests/test_safety/test_kill_switch.py::TestKillSwitchDatabaseIntegration::test_trigger_handles_database_save_failure PASSED [ 93%]
tests/test_safety/test_kill_switch.py::TestKillSwitchDatabaseIntegration::test_reset_persists_to_database PASSED [ 93%]
tests/test_safety/test_kill_switch.py::TestKillSwitchDatabaseIntegration::test_reset_handles_database_save_failure PASSED [ 93%]
tests/test_safety/test_kill_switch.py::TestKillSwitchFileOperationFailures::test_trigger_handles_file_write_failure PASSED [ 93%]
tests/test_safety/test_kill_switch.py::TestKillSwitchFileOperationFailures::test_reset_handles_file_delete_failure PASSED [ 93%]
tests/test_safety/test_kill_switch.py::TestKillSwitchRiskTriggerVariations::test_trigger_position_reconciliation PASSED [ 93%]
tests/test_safety/test_kill_switch.py::TestKillSwitchRiskTriggerVariations::test_trigger_system_health PASSED [ 93%]
tests/test_safety/test_kill_switch.py::TestKillSwitchRiskTriggerVariations::test_all_reason_enums_work PASSED [ 93%]
tests/test_services/test_codegen/test_propose_change.py::TestProposeChange::test_propose_change_prints_description PASSED [ 93%]
tests/test_services/test_codegen/test_propose_change.py::TestProposeChange::test_propose_change_shows_analyzing_step PASSED [ 93%]
tests/test_services/test_codegen/test_propose_change.py::TestProposeChange::test_propose_change_shows_generating_step PASSED [ 93%]
tests/test_services/test_codegen/test_propose_change.py::TestProposeChange::test_propose_change_shows_proposal PASSED [ 93%]
tests/test_services/test_codegen/test_propose_change.py::TestProposeChange::test_propose_change_success_message PASSED [ 93%]
tests/test_services/test_codegen/test_propose_change.py::TestMain::test_main_with_desc_arg PASSED [ 93%]
tests/test_services/test_codegen/test_propose_change.py::TestMain::test_main_missing_desc_exits PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_strategy_initialization PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_strategy_initialization_calls_configure PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_get_required_bars_default PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_get_required_bars_custom PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_validate_data_empty_dataframe PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_validate_data_none PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_validate_data_missing_columns PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_validate_data_insufficient_bars PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_validate_data_valid PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_generate_signal_with_insufficient_data PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_generate_signal_with_valid_data PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_get_description PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_str_representation PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_repr_representation PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_strategy_with_custom_params PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategy::test_strategy_params_preserved PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategyAbstract::test_cannot_instantiate_base_strategy_directly PASSED [ 93%]
tests/test_strategies/test_base.py::TestBaseStrategyAbstract::test_missing_configure_method PASSED [ 94%]
tests/test_strategies/test_base.py::TestBaseStrategyAbstract::test_missing_generate_signal_method PASSED [ 94%]
tests/test_strategies/test_base.py::TestBaseStrategyAbstract::test_missing_get_description_method PASSED [ 94%]
tests/test_strategies/test_base.py::TestBaseStrategyValidation::test_validate_data_extra_columns PASSED [ 94%]
tests/test_strategies/test_base.py::TestBaseStrategyValidation::test_validate_data_exact_required_bars PASSED [ 94%]
tests/test_strategies/test_base.py::TestBaseStrategyValidation::test_validate_data_one_less_than_required PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestBollingerBandsConfiguration::test_default_configuration PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestBollingerBandsConfiguration::test_custom_configuration PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestBollingerBandsConfiguration::test_get_required_bars PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestLowerBandTouch::test_lower_band_touch_long_entry PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestLowerBandTouch::test_lower_band_touch_with_high_volatility PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestUpperBandTouch::test_upper_band_touch_exit_signal PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestMiddleBandBehavior::test_middle_band_hold_signal PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestBandWidthConditions::test_insufficient_band_width_no_entry PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestSignalMetadata::test_entry_metadata_complete PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestSignalMetadata::test_metadata_values_reasonable PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestDataValidation::test_insufficient_data_returns_none PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestDataValidation::test_missing_columns_returns_none PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestDataValidation::test_empty_dataframe_returns_none PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestSymbolHandling::test_symbol_from_data PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestSymbolHandling::test_default_symbol_when_missing PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestStrategyDescription::test_get_description_format PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestEdgeCases::test_probability_bounds PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestEdgeCases::test_nan_handling PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestEdgeCases::test_zero_volume PASSED [ 94%]
tests/test_strategies/test_bollinger_bands.py::TestMeanReversion::test_oversold_to_mean_reversion PASSED [ 94%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestBollingerRSIConfiguration::test_default_configuration PASSED [ 94%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestBollingerRSIConfiguration::test_custom_configuration PASSED [ 94%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestBollingerRSIConfiguration::test_get_required_bars PASSED [ 94%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestConfluenceSignals::test_long_confluence_signal PASSED [ 94%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestConfluenceSignals::test_short_confluence_signal PASSED [ 94%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestConfluenceSignals::test_hold_signal_when_no_confluence PASSED [ 94%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestVolatilityFilter::test_low_volatility_returns_hold PASSED [ 94%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestVolatilityFilter::test_high_volatility_allows_trading PASSED [ 94%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestSignalMetadata::test_metadata_contains_indicators PASSED [ 94%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestSignalMetadata::test_feature_contributions_present PASSED [ 94%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestDataValidation::test_insufficient_data_returns_none PASSED [ 94%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestDataValidation::test_missing_columns_returns_none PASSED [ 94%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestDataValidation::test_empty_dataframe_returns_none PASSED [ 94%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestExtremeReadings::test_extreme_oversold_high_conviction PASSED [ 95%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestStrategyDescription::test_description_contains_key_info PASSED [ 95%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestGSQuantIntegration::test_uses_gs_quant_indicators PASSED [ 95%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestGSQuantIntegration::test_zscore_calculation PASSED [ 95%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestModelAttribution::test_model_id_set_correctly PASSED [ 95%]
tests/test_strategies/test_bollinger_rsi_confluence.py::TestModelAttribution::test_regime_set_for_mean_reversion PASSED [ 95%]
tests/test_strategies/test_macd.py::TestMACDConfiguration::test_default_configuration PASSED [ 95%]
tests/test_strategies/test_macd.py::TestMACDConfiguration::test_custom_configuration PASSED [ 95%]
tests/test_strategies/test_macd.py::TestMACDConfiguration::test_get_required_bars PASSED [ 95%]
tests/test_strategies/test_macd.py::TestMACDConfiguration::test_invalid_period_configuration PASSED [ 95%]
tests/test_strategies/test_macd.py::TestBullishCrossover::test_bullish_crossover_entry PASSED [ 95%]
tests/test_strategies/test_macd.py::TestBullishCrossover::test_bullish_crossover_with_positive_histogram PASSED [ 95%]
tests/test_strategies/test_macd.py::TestBearishCrossover::test_bearish_crossover_exit PASSED [ 95%]
tests/test_strategies/test_macd.py::TestBearishCrossover::test_bearish_crossover_with_negative_histogram PASSED [ 95%]
tests/test_strategies/test_macd.py::TestTrendStrength::test_strong_uptrend_high_probability PASSED [ 95%]
tests/test_strategies/test_macd.py::TestTrendStrength::test_weak_trend_lower_probability PASSED [ 95%]
tests/test_strategies/test_macd.py::TestHistogramAnalysis::test_histogram_divergence_detection PASSED [ 95%]
tests/test_strategies/test_macd.py::TestHistogramAnalysis::test_histogram_magnitude_affects_score PASSED [ 95%]
tests/test_strategies/test_macd.py::TestSignalMetadata::test_entry_metadata_complete PASSED [ 95%]
tests/test_strategies/test_macd.py::TestSignalMetadata::test_metadata_values_reasonable PASSED [ 95%]
tests/test_strategies/test_macd.py::TestDataValidation::test_insufficient_data_returns_none PASSED [ 95%]
tests/test_strategies/test_macd.py::TestDataValidation::test_missing_columns_returns_none PASSED [ 95%]
tests/test_strategies/test_macd.py::TestDataValidation::test_empty_dataframe_returns_none PASSED [ 95%]
tests/test_strategies/test_macd.py::TestSymbolHandling::test_symbol_from_data PASSED [ 95%]
tests/test_strategies/test_macd.py::TestSymbolHandling::test_default_symbol_when_missing PASSED [ 95%]
tests/test_strategies/test_macd.py::TestStrategyDescription::test_get_description_format PASSED [ 95%]
tests/test_strategies/test_macd.py::TestEdgeCases::test_probability_bounds PASSED [ 95%]
tests/test_strategies/test_macd.py::TestEdgeCases::test_nan_handling PASSED [ 95%]
tests/test_strategies/test_macd.py::TestEdgeCases::test_constant_price_no_signal PASSED [ 95%]
tests/test_strategies/test_macd.py::TestCrossoverDetection::test_no_crossover_hold_signal PASSED [ 95%]
tests/test_strategies/test_macd.py::TestCrossoverDetection::test_multiple_crossovers PASSED [ 95%]
tests/test_strategies/test_macd.py::TestTrendReversal::test_uptrend_to_downtrend_reversal PASSED [ 95%]
tests/test_strategies/test_macd.py::TestTrendReversal::test_downtrend_to_uptrend_reversal PASSED [ 95%]
tests/test_strategies/test_momentum_breakout.py::TestMomentumBreakoutConfiguration::test_default_configuration PASSED [ 95%]
tests/test_strategies/test_momentum_breakout.py::TestMomentumBreakoutConfiguration::test_custom_configuration PASSED [ 95%]
tests/test_strategies/test_momentum_breakout.py::TestMomentumBreakoutConfiguration::test_get_required_bars PASSED [ 95%]
tests/test_strategies/test_momentum_breakout.py::TestATRCalculation::test_calculate_atr_basic PASSED [ 95%]
tests/test_strategies/test_momentum_breakout.py::TestUpsideBreakout::test_upside_breakout_with_volume_confirmation PASSED [ 95%]
tests/test_strategies/test_momentum_breakout.py::TestUpsideBreakout::test_upside_breakout_without_volume_no_signal PASSED [ 95%]
tests/test_strategies/test_momentum_breakout.py::TestDownsideBreakout::test_downside_breakout_with_volume_confirmation PASSED [ 95%]
tests/test_strategies/test_momentum_breakout.py::TestDownsideBreakoutNoBranch::test_downside_breakout_without_volume_no_short_signal PASSED [ 96%]
tests/test_strategies/test_momentum_breakout.py::TestConsolidationDetection::test_consolidation_signal PASSED [ 96%]
tests/test_strategies/test_momentum_breakout.py::TestSignalMetadata::test_upside_breakout_metadata_complete PASSED [ 96%]
tests/test_strategies/test_momentum_breakout.py::TestBreakoutWithoutSymbol::test_breakout_without_symbol_uses_unknown PASSED [ 96%]
tests/test_strategies/test_momentum_breakout.py::TestBreakoutWithoutSymbol::test_downside_breakout_without_symbol_uses_unknown PASSED [ 96%]
tests/test_strategies/test_momentum_breakout.py::TestDataValidation::test_insufficient_data_returns_none PASSED [ 96%]
tests/test_strategies/test_momentum_breakout.py::TestDataValidation::test_missing_columns_returns_none PASSED [ 96%]
tests/test_strategies/test_momentum_breakout.py::TestSymbolHandling::test_symbol_from_data PASSED [ 96%]
tests/test_strategies/test_momentum_breakout.py::TestSymbolHandling::test_default_symbol_when_missing PASSED [ 96%]
tests/test_strategies/test_momentum_breakout.py::TestStrategyDescription::test_get_description_format PASSED [ 96%]
tests/test_strategies/test_momentum_breakout.py::TestEdgeCases::test_probability_capping PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverStrategy::test_initialization_defaults PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverStrategy::test_initialization_custom PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverStrategy::test_get_description PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverStrategy::test_get_required_bars PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverStrategy::test_validate_insufficient_data PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverStrategy::test_validate_sufficient_data PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverStrategy::test_generate_signal_insufficient_data PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverStrategy::test_generate_signal_valid_data PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverStrategy::test_sma_calculation PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverStrategy::test_ema_calculation PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverStrategy::test_handles_missing_columns PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverStrategy::test_str_representation PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverStrategy::test_repr_representation PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverIntegration::test_golden_cross_pattern PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverIntegration::test_death_cross_pattern PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverIntegration::test_different_timeframes PASSED [ 96%]
tests/test_strategies/test_moving_average_crossover.py::TestMovingAverageCrossoverIntegration::test_consistency PASSED [ 96%]
tests/test_strategies/test_options/test_covered_call.py::test_strategy_configuration PASSED [ 96%]
tests/test_strategies/test_options/test_covered_call.py::test_strategy_description PASSED [ 96%]
tests/test_strategies/test_options/test_covered_call.py::test_required_bars PASSED [ 96%]
tests/test_strategies/test_options/test_covered_call.py::test_analyze_opportunity PASSED [ 96%]
tests/test_strategies/test_options/test_covered_call.py::test_analyze_opportunity_high_yield PASSED [ 96%]
tests/test_strategies/test_options/test_covered_call.py::test_calculate_payoff_stock_below_strike PASSED [ 96%]
tests/test_strategies/test_options/test_covered_call.py::test_calculate_payoff_stock_above_strike PASSED [ 96%]
tests/test_strategies/test_options/test_covered_call.py::test_calculate_payoff_at_strike PASSED [ 96%]
tests/test_strategies/test_options/test_covered_call.py::test_calculate_payoff_stock_drops PASSED [ 96%]
tests/test_strategies/test_options/test_covered_call.py::test_generate_signal_no_engine PASSED [ 96%]
tests/test_strategies/test_options/test_covered_call.py::test_custom_parameters PASSED [ 96%]
tests/test_strategies/test_options/test_covered_call.py::test_roi_calculation PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategy::test_strategy_initialization PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategy::test_strategy_custom_parameters PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategy::test_configure_creates_model PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategy::test_get_description PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategy::test_get_required_bars_default PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategy::test_get_required_bars_custom PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategy::test_validate_data_insufficient_bars PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategy::test_validate_data_sufficient_bars PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategy::test_generate_signal_with_insufficient_data PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategy::test_generate_signal_with_valid_data PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategy::test_generate_signal_handles_exceptions PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategy::test_str_representation PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategy::test_repr_representation PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategyParameters::test_min_bars_calculated_from_rsi_period PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategyParameters::test_extreme_thresholds_optional PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategyParameters::test_model_config_parameters PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategyIntegration::test_strategy_with_trending_market PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategyIntegration::test_strategy_with_volatile_market PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategyIntegration::test_strategy_with_different_timeframes PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategyIntegration::test_strategy_consistency PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategyValidation::test_requires_ohlcv_columns PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategyValidation::test_handles_empty_data PASSED [ 97%]
tests/test_strategies/test_rsi_mean_reversion.py::TestRSIMeanReversionStrategyValidation::test_handles_none_data PASSED [ 97%]
tests/test_utils/test_env.py::TestGetUserEnv::test_get_user_env_success PASSED [ 97%]
tests/test_utils/test_env.py::TestGetUserEnv::test_get_user_env_empty PASSED [ 97%]
tests/test_utils/test_env.py::TestGetUserEnv::test_get_user_env_exception PASSED [ 97%]
tests/test_utils/test_env.py::TestGetAlpacaCredentials::test_get_credentials_from_user_env PASSED [ 97%]
tests/test_utils/test_env.py::TestGetAlpacaCredentials::test_get_credentials_fallback_to_process_env PASSED [ 97%]
tests/test_utils/test_env.py::TestGetAlpacaCredentials::test_get_credentials_fallback_to_alpaca_env PASSED [ 97%]
tests/test_utils/test_env.py::TestGetAlpacaCredentials::test_get_credentials_empty PASSED [ 97%]
tests/test_utils/test_env.py::TestGetAlpacaCredentials::test_get_credentials_partial_user_env PASSED [ 97%]
tests/test_utils/test_paths.py::test_resolve_project_path_relative PASSED [ 97%]
tests/test_utils/test_paths.py::test_resolve_project_path_absolute PASSED [ 97%]
tests/test_utils/test_paths.py::test_database_manager_resolves_relative PASSED [ 97%]
tests/test_visualization/test_charts.py::TestChartUtilsThemeConstants::test_dark_theme_structure PASSED [ 97%]
tests/test_visualization/test_charts.py::TestChartUtilsThemeConstants::test_dark_theme_values PASSED [ 97%]
tests/test_visualization/test_charts.py::TestChartUtilsThemeConstants::test_light_theme_structure PASSED [ 97%]
tests/test_visualization/test_charts.py::TestChartUtilsThemeConstants::test_light_theme_values PASSED [ 97%]
tests/test_visualization/test_charts.py::TestApplyTheme::test_apply_dark_theme PASSED [ 97%]
tests/test_visualization/test_charts.py::TestApplyTheme::test_apply_light_theme PASSED [ 98%]
tests/test_visualization/test_charts.py::TestApplyTheme::test_apply_theme_default_is_dark PASSED [ 98%]
tests/test_visualization/test_charts.py::TestApplyTheme::test_apply_theme_with_data PASSED [ 98%]
tests/test_visualization/test_charts.py::TestApplyTheme::test_apply_theme_updates_axes_grid PASSED [ 98%]
tests/test_visualization/test_charts.py::TestExportChart::test_export_chart_html_format PASSED [ 98%]
tests/test_visualization/test_charts.py::TestExportChart::test_export_chart_json_format PASSED [ 98%]
tests/test_visualization/test_charts.py::TestExportChart::test_export_chart_accepts_path_string PASSED [ 98%]
tests/test_visualization/test_charts.py::TestExportChart::test_export_chart_accepts_path_object PASSED [ 98%]
tests/test_visualization/test_charts.py::TestExportChart::test_export_chart_png_format PASSED [ 98%]
tests/test_visualization/test_charts.py::TestExportChart::test_export_chart_jpg_format PASSED [ 98%]
tests/test_visualization/test_charts.py::TestExportChart::test_export_chart_svg_format PASSED [ 98%]
tests/test_visualization/test_charts.py::TestExportChart::test_export_chart_unsupported_format PASSED [ 98%]
tests/test_visualization/test_charts.py::TestExportChart::test_export_chart_default_format_is_html PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateComparisonChart::test_create_comparison_chart_basic PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateComparisonChart::test_create_comparison_chart_custom_metric PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateComparisonChart::test_create_comparison_chart_custom_title PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateComparisonChart::test_create_comparison_chart_multiple_strategies PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateComparisonChart::test_create_comparison_chart_empty_strategies PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateComparisonChart::test_create_comparison_chart_color_palette PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateComparisonChart::test_create_comparison_chart_layout PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateEquityCurve::test_create_equity_curve_basic PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateEquityCurve::test_create_equity_curve_with_trades PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateEquityCurve::test_create_equity_curve_with_entry_trades_only PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateEquityCurve::test_create_equity_curve_with_exit_trades_only PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateEquityCurve::test_create_equity_curve_empty_trades PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateEquityCurve::test_create_equity_curve_no_trades PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateEquityCurve::test_create_equity_curve_custom_title PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateEquityCurve::test_create_equity_curve_layout PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateEquityCurve::test_create_equity_curve_fill_area PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateDrawdownChart::test_create_drawdown_chart_basic PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateDrawdownChart::test_create_drawdown_chart_calculation PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateDrawdownChart::test_create_drawdown_chart_custom_title PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateDrawdownChart::test_create_drawdown_chart_layout PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateDrawdownChart::test_create_drawdown_chart_fill_area PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateDrawdownChart::test_create_drawdown_chart_zero_line PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateDrawdownChart::test_create_drawdown_chart_increasing_equity PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateReturnsDistribution::test_create_returns_distribution_basic PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateReturnsDistribution::test_create_returns_distribution_custom_title PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateReturnsDistribution::test_create_returns_distribution_custom_bins PASSED [ 98%]
tests/test_visualization/test_charts.py::TestCreateReturnsDistribution::test_create_returns_distribution_default_bins PASSED [ 99%]
tests/test_visualization/test_charts.py::TestCreateReturnsDistribution::test_create_returns_distribution_layout PASSED [ 99%]
tests/test_visualization/test_charts.py::TestCreateReturnsDistribution::test_create_returns_distribution_mean_line PASSED [ 99%]
tests/test_visualization/test_charts.py::TestCreateReturnsDistribution::test_create_returns_distribution_histogram_properties PASSED [ 99%]
tests/test_visualization/test_charts.py::TestChartUtilsIntegration::test_apply_theme_to_comparison_chart PASSED [ 99%]
tests/test_visualization/test_charts.py::TestChartUtilsIntegration::test_apply_theme_to_equity_curve PASSED [ 99%]
tests/test_visualization/test_charts.py::TestChartUtilsIntegration::test_apply_theme_to_drawdown_chart PASSED [ 99%]
tests/test_visualization/test_charts.py::TestChartUtilsIntegration::test_apply_theme_to_returns_distribution PASSED [ 99%]
tests/test_visualization/test_charts.py::TestChartUtilsIntegration::test_export_comparison_chart PASSED [ 99%]
tests/test_visualization/test_charts.py::TestChartUtilsIntegration::test_export_equity_curve PASSED [ 99%]
tests/test_visualization/test_charts.py::TestChartUtilsIntegration::test_full_workflow_comparison_chart PASSED [ 99%]
tests/test_visualization/test_charts.py::TestChartUtilsIntegration::test_full_workflow_equity_curve PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestBollingerBands::test_plot_bollinger_bands_with_volume PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestBollingerBands::test_plot_bollinger_bands_without_volume PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestBollingerBands::test_plot_bollinger_bands_custom_parameters PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestBollingerBands::test_bollinger_bands_has_candlestick PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestBollingerBands::test_bollinger_bands_has_bb_lines PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestMACDPlot::test_plot_macd_basic PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestMACDPlot::test_plot_macd_custom_parameters PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestMACDPlot::test_macd_has_candlestick PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestMACDPlot::test_macd_has_indicator_lines PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestMACDPlot::test_macd_has_histogram PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestRSIPlot::test_plot_rsi_basic PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestRSIPlot::test_plot_rsi_custom_parameters PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestRSIPlot::test_rsi_has_candlestick PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestRSIPlot::test_rsi_has_rsi_line PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestStrategySignals::test_plot_strategy_signals_with_volume PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestStrategySignals::test_plot_strategy_signals_without_volume PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestStrategySignals::test_plot_strategy_signals_custom_title PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestStrategySignals::test_plot_strategy_signals_empty_signals PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestStrategySignals::test_plot_strategy_signals_has_candlestick PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestStrategySignals::test_plot_strategy_signals_annotations_added PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestStrategySignals::test_plot_strategy_signals_entry_signal PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestStrategySignals::test_plot_strategy_signals_exit_signal PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestStrategySignals::test_plot_strategy_signals_hold_signal_skipped PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestStrategySignals::test_plot_strategy_signals_timestamp_not_in_data PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestIndicatorChartIntegration::test_all_plots_work_with_same_data PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestIndicatorChartIntegration::test_bollinger_bands_with_small_dataset PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestIndicatorChartIntegration::test_rsi_with_extreme_values PASSED [ 99%]
tests/test_visualization/test_indicators.py::TestIndicatorChartIntegration::test_strategy_signals_with_mixed_signal_types PASSED [100%]

================================== FAILURES ===================================
__________________ test_chroma_client_resolves_relative_path __________________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x000002A534E31FD0>
tmp_path = WindowsPath('C:/Users/kjfle/AppData/Local/Temp/pytest-of-kjfle/pytest-349/test_chroma_client_resolves_re0')

    @pytest.mark.unit
    def test_chroma_client_resolves_relative_path(monkeypatch, tmp_path: Path) -> None:
        """ChromaClient should anchor relative paths to ORDINIS_PROJECT_ROOT."""
        reset_project_root_cache()
        monkeypatch.setenv("ORDINIS_PROJECT_ROOT", str(tmp_path))
    
>       client = ChromaClient(persist_directory=Path("data/chromadb"))
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests\test_rag\test_chroma_client_paths.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
src\ordinis\rag\vectordb\chroma_client.py:67: in __init__
    self.client = chromadb.PersistentClient(
..\..\.conda\envs\ordinis-dev-1\Lib\site-packages\chromadb\__init__.py:213: in PersistentClient
    return ClientCreator(tenant=tenant, database=database, settings=settings)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\.conda\envs\ordinis-dev-1\Lib\site-packages\chromadb\api\client.py:66: in __init__
    super().__init__(settings=settings)
..\..\.conda\envs\ordinis-dev-1\Lib\site-packages\chromadb\api\shared_system_client.py:22: in __init__
    SharedSystemClient._create_system_if_not_exists(self._identifier, settings)
..\..\.conda\envs\ordinis-dev-1\Lib\site-packages\chromadb\api\shared_system_client.py:33: in _create_system_if_not_exists
    new_system.instance(ServerAPI)
..\..\.conda\envs\ordinis-dev-1\Lib\site-packages\chromadb\config.py:451: in instance
    type = get_class(fqn, type)
           ^^^^^^^^^^^^^^^^^^^^
..\..\.conda\envs\ordinis-dev-1\Lib\site-packages\chromadb\config.py:500: in get_class
    module = importlib.import_module(module_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\.conda\envs\ordinis-dev-1\Lib\importlib\__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1204: in _gcd_import
    ???
<frozen importlib._bootstrap>:1176: in _find_and_load
    ???
<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:690: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:940: in exec_module
    ???
<frozen importlib._bootstrap>:241: in _call_with_frames_removed
    ???
..\..\.conda\envs\ordinis-dev-1\Lib\site-packages\chromadb\api\rust.py:72: in <module>
    class RustBindingsAPI(ServerAPI):
..\..\.conda\envs\ordinis-dev-1\Lib\site-packages\chromadb\api\rust.py:211: in RustBindingsAPI
    @override
     ^^^^^^^^
..\..\.conda\envs\ordinis-dev-1\Lib\site-packages\overrides\overrides.py:143: in override
    return _overrides(method, check_signature, check_at_runtime)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\.conda\envs\ordinis-dev-1\Lib\site-packages\overrides\overrides.py:172: in _overrides
    _validate_method(method, super_class, check_signature)
..\..\.conda\envs\ordinis-dev-1\Lib\site-packages\overrides\overrides.py:191: in _validate_method
    ensure_signature_is_compatible(super_method, method, is_static)
..\..\.conda\envs\ordinis-dev-1\Lib\site-packages\overrides\signature.py:104: in ensure_signature_is_compatible
    ensure_all_kwargs_defined_in_sub(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

super_sig = <Signature (self, name: str, schema: Optional[chromadb.api.types.Schema] = None, configuration: Optional[chromadb.api....create: bool = False, tenant: str = 'default_tenant', database: str = 'default_database') -> chromadb.types.Collection>
sub_sig = <Signature (self, name: str, schema: Optional[chromadb.api.types.Schema] = None, configuration: Optional[chromadb.api....528055312'>, database: str = <MagicMock name='mock.DEFAULT_DATABASE' id='2908529083600'>) -> chromadb.types.Collection>
super_type_hints = {'configuration': typing.Optional[chromadb.api.collection_configuration.CreateCollectionConfiguration], 'database': <class 'str'>, 'get_or_create': <class 'bool'>, 'metadata': typing.Optional[typing.Dict[str, typing.Any]], ...}
sub_type_hints = {'configuration': typing.Optional[chromadb.api.collection_configuration.CreateCollectionConfiguration], 'database': <c...eate': <class 'bool'>, 'metadata': typing.Optional[<MagicMock name='mock.CollectionMetadata' id='2908530479952'>], ...}
check_first_parameter = False, method_name = 'RustBindingsAPI.create_collection'

    def ensure_all_kwargs_defined_in_sub(
        super_sig: inspect.Signature,
        sub_sig: inspect.Signature,
        super_type_hints: Dict,
        sub_type_hints: Dict,
        check_first_parameter: bool,
        method_name: str,
    ):
        sub_has_var_kwargs = any(
            p.kind == Parameter.VAR_KEYWORD for p in sub_sig.parameters.values()
        )
        for super_index, (name, super_param) in enumerate(super_sig.parameters.items()):
            if super_index == 0 and not check_first_parameter:
                continue
            if super_param.kind == Parameter.VAR_POSITIONAL:
                continue
            if super_param.kind == Parameter.POSITIONAL_ONLY:
                continue
            if not is_param_defined_in_sub(
                name, True, sub_has_var_kwargs, sub_sig, super_param
            ):
                raise TypeError(f"{method_name}: `{name}` is not present.")
            elif name in sub_sig.parameters and super_param.kind != Parameter.VAR_KEYWORD:
                sub_index = list(sub_sig.parameters.keys()).index(name)
                sub_param = sub_sig.parameters[name]
    
                if super_param.kind != sub_param.kind and not (
                    super_param.kind == Parameter.KEYWORD_ONLY
                    and sub_param.kind == Parameter.POSITIONAL_OR_KEYWORD
                ):
                    raise TypeError(f"{method_name}: `{name}` is not `{super_param.kind}`")
                elif super_index > sub_index and super_param.kind != Parameter.KEYWORD_ONLY:
                    raise TypeError(
                        f"{method_name}: `{name}` is not parameter at index `{super_index}`"
                    )
                elif (
                    name in super_type_hints
                    and name in sub_type_hints
                    and not _issubtype(super_type_hints[name], sub_type_hints[name])
                ):
>                   raise TypeError(
                        f"`{method_name}: {name} must be a supertype of `{super_param.annotation}` but is `{sub_param.annotation}`"
                    )
E                   TypeError: `RustBindingsAPI.create_collection: metadata must be a supertype of `typing.Optional[typing.Dict[str, typing.Any]]` but is `typing.Optional[<MagicMock name='mock.CollectionMetadata' id='2908530479952'>]`

..\..\.conda\envs\ordinis-dev-1\Lib\site-packages\overrides\signature.py:165: TypeError
============================== warnings summary ===============================
<frozen abc>:106
<frozen abc>:106
<frozen abc>:106
  <frozen abc>:106: DeprecationWarning: You should use `Logger` instead. Deprecated since version 1.39.0 and will be removed in a future release.

<frozen abc>:106
<frozen abc>:106
<frozen abc>:106
  <frozen abc>:106: DeprecationWarning: You should use `LoggerProvider` instead. Deprecated since version 1.39.0 and will be removed in a future release.

..\..\.conda\envs\ordinis-dev-1\Lib\site-packages\opentelemetry\_events\__init__.py:201
  C:\Users\kjfle\.conda\envs\ordinis-dev-1\Lib\site-packages\opentelemetry\_events\__init__.py:201: DeprecationWarning: You should use `ProxyLoggerProvider` instead. Deprecated since version 1.39.0 and will be removed in a future release.
    _PROXY_EVENT_LOGGER_PROVIDER = ProxyEventLoggerProvider()

tests/integration/test_backtest_workflow.py::TestBacktestWorkflow::test_complete_workflow_ma_strategy
  C:\Users\kjfle\Workspace\ordinis\src\ordinis\engines\proofbench\core\simulator.py:281: RuntimeWarning: coroutine 'MovingAverageCrossoverStrategy.generate_signal' was never awaited
    self.on_bar(self, symbol, bar)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/integration/test_backtest_workflow.py::TestBacktestWorkflow::test_workflow_with_insufficient_data
  C:\Users\kjfle\Workspace\ordinis\src\ordinis\engines\proofbench\core\simulator.py:281: RuntimeWarning: coroutine 'RSIMeanReversionStrategy.generate_signal' was never awaited
    self.on_bar(self, symbol, bar)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/integration/test_backtest_workflow.py::TestBacktestWorkflow::test_workflow_with_multiple_signals
  C:\Users\kjfle\.conda\envs\ordinis-dev-1\Lib\site-packages\_pytest\python.py:166: RuntimeWarning: coroutine 'RSIMeanReversionStrategy.generate_signal' was never awaited
    result = testfunction(**testargs)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/integration/test_backtest_workflow.py::TestBacktestWorkflow::test_workflow_with_custom_parameters
  C:\Users\kjfle\Workspace\ordinis\tests\integration\test_backtest_workflow.py:262: RuntimeWarning: coroutine 'MovingAverageCrossoverStrategy.generate_signal' was never awaited
    strategy.generate_signal(recent_data, bar.timestamp)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/integration/test_backtest_workflow.py::TestDataLoadingIntegration::test_load_data_and_run_backtest
  C:\Users\kjfle\Workspace\ordinis\tests\integration\test_backtest_workflow.py:303: RuntimeWarning: coroutine 'RSIMeanReversionStrategy.generate_signal' was never awaited
    strategy.generate_signal(recent_data, bar.timestamp)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/integration/test_backtest_workflow.py::TestDataLoadingIntegration::test_load_data_with_different_formats
  C:\Users\kjfle\Workspace\ordinis\tests\integration\test_backtest_workflow.py:339: RuntimeWarning: coroutine 'RSIMeanReversionStrategy.generate_signal' was never awaited
    strategy.generate_signal(recent_data, bar.timestamp)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/integration/test_backtest_workflow.py::TestPerformanceMetrics::test_metrics_values_reasonable
  C:\Users\kjfle\Workspace\ordinis\tests\integration\test_backtest_workflow.py:467: RuntimeWarning: coroutine 'MovingAverageCrossoverStrategy.generate_signal' was never awaited
    strategy.generate_signal(recent_data, bar.timestamp)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerConnection::test_connect_success
tests/test_adapters/test_streaming/test_websocket_manager.py::TestWebSocketManagerConnection::test_connect_resubscribes
  C:\Users\kjfle\Workspace\ordinis\src\ordinis\adapters\streaming\websocket_manager.py:197: RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited
    async for message in self._ws:
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/test_ai/test_helix/test_engine.py::TestChatGeneration::test_generate_sync
  tests\test_ai\test_helix\test_engine.py:595: PytestWarning: The test <Function test_generate_sync> is marked with '@pytest.mark.asyncio' but it is not an async function. Please remove the asyncio mark. If the test is not marked explicitly, check for global marks applied via 'pytestmark'.
    def test_generate_sync(

tests/test_ai/test_helix/test_engine.py::TestEmbedding::test_embed_sync
  tests\test_ai\test_helix\test_engine.py:764: PytestWarning: The test <Function test_embed_sync> is marked with '@pytest.mark.asyncio' but it is not an async function. Please remove the asyncio mark. If the test is not marked explicitly, check for global marks applied via 'pytestmark'.
    def test_embed_sync(self, test_helix_config: HelixConfig):

tests/test_application/test_orchestrator.py::test_run_loop
  C:\Users\kjfle\.conda\envs\ordinis-dev-1\Lib\tokenize.py:427: RuntimeWarning: coroutine 'OrdinisOrchestrator.stop' was never awaited
    encoding, consumed = detect_encoding(readline)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/test_engines/test_riskguard/test_validate.py::TestMain::test_main_parses_args
  C:\Users\kjfle\.conda\envs\ordinis-dev-1\Lib\unittest\mock.py:2178: RuntimeWarning: coroutine 'run_validation' was never awaited
    def __init__(self, name, parent):
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/test_engines/test_signalcore/test_llm_enhanced.py::test_llm_enhanced_describe
  C:\Users\kjfle\.conda\envs\ordinis-dev-1\Lib\tokenize.py:529: RuntimeWarning: coroutine 'run_validation' was never awaited
    pseudomatch = _compile(PseudoToken).match(line, pos)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/test_interface/test_cli_analyze.py::test_cli_analyze_runs
  C:\Users\kjfle\Workspace\ordinis\src\ordinis\interface\cli\__main__.py:370: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
    "1m": data.resample("1M")

tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXRequestMethods::test_make_request_constructs_url
tests/test_plugins/test_market_data/test_iex_comprehensive.py::TestIEXRequestMethods::test_make_request_includes_api_key
  C:\Users\kjfle\Workspace\ordinis\src\ordinis\adapters\market_data\iex.py:123: RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited
    response.raise_for_status()
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=============================== tests coverage ================================
______________ coverage: platform win32, python 3.11.14-final-0 _______________

Name                                                                       Stmts   Miss Branch BrPart   Cover   Missing
-----------------------------------------------------------------------------------------------------------------------
src\__init__.py                                                                2      2      0      0   0.00%   5-6
src\ordinis\__init__.py                                                        2      0      0      0 100.00%
src\ordinis\adapters\__init__.py                                               1      0      0      0 100.00%
src\ordinis\adapters\alerting\__init__.py                                      2      0      0      0 100.00%
src\ordinis\adapters\alerting\channels\__init__.py                             3      0      0      0 100.00%
src\ordinis\adapters\alerting\channels\desktop.py                             77     46     16      1  34.41%   69-70, 73->exit, 79-80, 92-104, 108-130, 134-153, 162-181, 186
src\ordinis\adapters\alerting\channels\email.py                              131     95     42      0  20.81%   75-83, 101-104, 113, 125-150, 154-174, 183-260, 281-325, 337-353, 357
src\ordinis\adapters\alerting\manager.py                                     154     74     38      0  43.75%   185-220, 239, 255, 271, 287, 297-302, 306-311, 315-316, 320-325, 329-355, 359-361, 380-387, 391, 414-418, 433-436
src\ordinis\adapters\broker\__init__.py                                        2      0      0      0 100.00%
src\ordinis\adapters\broker\broker.py                                        209    112     34      1  40.33%   94->exit, 184-186, 190-222, 226-227, 231-236, 247-252, 268-284, 296-309, 326-334, 338-358, 362-367, 393-398, 402-404, 408, 412-414, 425, 429, 441-466, 472-511, 515-518, 522, 526-529
src\ordinis\adapters\broker\position_sync.py                                 260    260     64      0   0.00%   13-620
src\ordinis\adapters\caching\__init__.py                                       4      0      0      0 100.00%
src\ordinis\adapters\caching\cache_protocol.py                                15      0      0      0 100.00%
src\ordinis\adapters\caching\cached_data_plugin.py                            85      0     12      1  98.97%   186->184
src\ordinis\adapters\caching\memory_cache.py                                  99      1     30      1  98.45%   203
src\ordinis\adapters\market_data\__init__.py                                  10      0      0      0 100.00%
src\ordinis\adapters\market_data\aggregator.py                               306     19     98     22  89.85%   172->exit, 179->exit, 225->222, 227-228, 264-265, 287->286, 297->300, 309, 313->318, 329->333, 354->352, 358, 366->364, 374-375, 394->397, 415->414, 418-420, 428-430, 437, 485, 504, 511, 533, 554->552
src\ordinis\adapters\market_data\alphavantage.py                              97     21     16      2  74.34%   77->80, 111-125, 137-138, 144-145, 207->204, 273-275, 284-302
src\ordinis\adapters\market_data\finnhub.py                                  107     28     16      3  71.54%   69-71, 79->82, 115-130, 254, 276-278, 287-292, 301-303, 311-313, 325-338
src\ordinis\adapters\market_data\fmp.py                                       75     55     16      0  21.98%   46-48, 52-77, 81-85, 89-110, 114-126, 130-133, 138-141, 147-148
src\ordinis\adapters\market_data\iex.py                                      104     21     24      5  75.00%   82->85, 167, 169, 172-175, 182->180, 202-204, 222-224, 233-235, 259-261, 269-292
src\ordinis\adapters\market_data\massive.py                                   67     48     12      0  24.05%   47-49, 53-79, 83-87, 91-112, 116-128, 133, 140-141
src\ordinis\adapters\market_data\newsapi.py                                   70     52     16      0  20.93%   44-46, 50-77, 81-85, 89-110, 114-126, 132-139
src\ordinis\adapters\market_data\twelvedata.py                               106     79     16      0  22.13%   50-51, 55-74, 78-82, 86-108, 114-131, 135-138, 142-145, 149-151, 181-220, 224-226, 246-248, 256-258, 266-270, 301-310, 320-336
src\ordinis\adapters\market_data\yahoo.py                                    118     91     14      0  20.45%   26, 85-86, 90-114, 118-120, 124-148, 159-206, 232-274, 285-307, 318-339, 350-356, 367-370
src\ordinis\adapters\storage\__init__.py                                       7      0      0      0 100.00%
src\ordinis\adapters\storage\database.py                                     163     60     46     12  56.94%   82, 91, 111-112, 118-120, 124->exit, 130-131, 139, 149->163, 167->exit, 178, 185, 187-189, 201-226, 230-240, 244, 262, 281-285, 325->exit, 330-331, 335->exit, 354-357, 361-363, 386-389, 396-398
src\ordinis\adapters\storage\models.py                                       147      0     12      0 100.00%
src\ordinis\adapters\storage\repositories\__init__.py                          6      0      0      0 100.00%
src\ordinis\adapters\storage\repositories\cortex.py                          129     17      4      0  87.22%   86, 181, 185, 332-336, 340-344, 356-363, 406-415, 421-430, 484-488, 502-510
src\ordinis\adapters\storage\repositories\order.py                           140     81     12      4  41.45%   112-116, 128-132, 161-164, 189->191, 192, 201->203, 204, 212-215, 234-249, 272-297, 309-323, 337-341, 353-357, 369-386, 392-397, 401-406, 418-435, 454-455
src\ordinis\adapters\storage\repositories\position.py                        115     71     12      2  36.22%   58-59, 112-115, 127-162, 174-191, 200-211, 231, 236-239, 252-255, 272-299, 308-311, 315-316, 320-321, 340-341
src\ordinis\adapters\storage\repositories\system_state.py                    138     39     12      4  70.00%   77, 86-87, 111, 133-136, 148-158, 200-203, 224-227, 272-273, 294, 296, 303-306, 332, 348, 361-364, 383-384
src\ordinis\adapters\storage\repositories\trade.py                            83     19      2      1  76.47%   60-64, 77-81, 98-106, 115-120, 152-155, 183-188, 252, 302-303
src\ordinis\adapters\storage\schema.py                                        12      3      2      0  64.29%   390-392
src\ordinis\adapters\streaming\__init__.py                                     5      0      0      0 100.00%
src\ordinis\adapters\streaming\finnhub_stream.py                              69     14     24      6  72.04%   55, 64-70, 74-75, 80, 90->88, 93->exit, 95->exit, 111, 121-123
src\ordinis\adapters\streaming\massive_stream.py                             110     84     46      0  16.67%   69-71, 76, 81-86, 90-121, 125-142, 146-162, 166-168, 172-203, 207-219, 223-235, 239-253, 257-259
src\ordinis\adapters\streaming\stream_protocol.py                            184      6     30      9  92.99%   241, 245, 249, 268->exit, 275->exit, 282->exit, 289->exit, 296->exit, 312, 320, 335->334, 337
src\ordinis\adapters\streaming\unified_websocket.py                          283    174     90      1  30.56%   180-188, 192-210, 242-277, 281-295, 314-333, 337-342, 346-360, 365-386, 390-404, 408-432, 436, 448-469, 487-489, 494, 499, 503-516, 520-530, 534-544, 548-560, 564-602
src\ordinis\adapters\streaming\websocket_manager.py                          175     40     50     10  75.11%   121-123, 130->135, 141, 146, 157, 185-186, 195, 197->exit, 198-205, 208->exit, 216-233, 284-285, 292-293, 300-301, 305-309, 316-317
src\ordinis\adapters\telemetry\__init__.py                                     6      0      0      0 100.00%
src\ordinis\adapters\telemetry\health.py                                     110      4     22      0  96.97%   171-172, 186-187
src\ordinis\adapters\telemetry\kpi.py                                        222      1     64      2  98.95%   507->506, 513
src\ordinis\adapters\telemetry\logger.py                                      38      0      4      0 100.00%
src\ordinis\adapters\telemetry\metrics.py                                     89      0     24      1  99.12%   230->exit
src\ordinis\adapters\telemetry\tracing.py                                     86     58     14      0  28.00%   20-21, 39-45, 71-78, 96-162, 175, 184-190
src\ordinis\agents\__init__.py                                                 2      0      0      0 100.00%
src\ordinis\agents\runner.py                                                 239     71     76     15  63.17%   307, 312-313, 323-330, 344-346, 372, 394-415, 429, 433-437, 456, 460-464, 481-496, 521, 523, 530-536, 541-542, 556, 567, 586-591, 596
src\ordinis\ai\__init__.py                                                     3      0      0      0 100.00%
src\ordinis\ai\codegen\__init__.py                                             2      0      0      0 100.00%
src\ordinis\ai\codegen\engine.py                                             118     54     22      4  50.00%   57, 62-69, 90->94, 113-126, 154-156, 173->176, 205-207, 224->227, 255-257, 292-314, 331-373, 392
src\ordinis\ai\helix\__init__.py                                               4      0      0      0 100.00%
src\ordinis\ai\helix\config.py                                               105      6     28      3  90.23%   275, 281->exit, 283-284, 320-322
src\ordinis\ai\helix\engine.py                                               303     63     98     19  76.06%   127-128, 132-152, 161->171, 164->171, 167-168, 171->181, 174->181, 177-178, 182-188, 192-200, 203, 209-210, 259-261, 280, 323->328, 346->359, 353-356, 366-368, 379, 468, 527, 552, 622->629, 637->641, 644-653, 677-678
src\ordinis\ai\helix\models.py                                               103      0      4      1  99.07%   164->166
src\ordinis\ai\helix\providers\__init__.py                                     3      0      0      0 100.00%
src\ordinis\ai\helix\providers\azure.py                                      103     84     22      0  15.20%   47-50, 55, 60-67, 71-86, 98-147, 158-187, 196-236, 240-254
src\ordinis\ai\helix\providers\base.py                                         8      2      0      0  75.00%   111, 123
src\ordinis\ai\helix\providers\mistral.py                                    100     75     22      1  21.31%   46, 52, 57-58, 62-73, 85-134, 145-173, 182-222, 226-238
src\ordinis\ai\helix\providers\nvidia.py                                     125    106     34      0  11.95%   39-44, 49, 54-61, 65-80, 84-97, 109-162, 173-202, 211-251, 255-271
src\ordinis\ai\helix\providers\openai.py                                     105     86     24      0  14.73%   41-44, 49, 54-61, 65-80, 92-141, 152-181, 190-230, 234-244
src\ordinis\ai\synapse\__init__.py                                             5      0      0      0 100.00%
src\ordinis\ai\synapse\config.py                                              31      0      6      0 100.00%
src\ordinis\ai\synapse\engine.py                                             249    141     94      2  39.65%   73-77, 84, 89-119, 126->134, 371-382, 399-428, 438-484, 492-521, 541-559, 573-575, 587-588, 595-622, 648-684, 696-725
src\ordinis\ai\synapse\models.py                                              80      0      4      0 100.00%
src\ordinis\analysis\__init__.py                                               2      0      0      0 100.00%
src\ordinis\analysis\backtest_analyzer.py                                    234     34     34      8  82.09%   127-128, 145->164, 158-162, 174-180, 186-194, 242->241, 248->262, 262->268, 355-365, 371-382
src\ordinis\analysis\market_conditions.py                                    289      1     74      4  98.62%   187->exit, 397, 580->567, 653->657
src\ordinis\analysis\model_analytics.py                                      142     74     42      2  41.30%   151-182, 198-213, 224-242, 258-287, 319-330, 343->347, 358-378
src\ordinis\analysis\technical\__init__.py                                     9      0      0      0 100.00%
src\ordinis\analysis\technical\composite.py                                   39      3     12      4  86.27%   34, 42->44, 56, 64
src\ordinis\analysis\technical\indicators\__init__.py                          8      0      0      0 100.00%
src\ordinis\analysis\technical\indicators\combined.py                        155     44     74     30  61.57%   86, 88, 181, 183, 187, 189, 190->194, 196-197, 201, 203, 207, 209, 213, 215, 220-221, 223, 225, 243, 245, 249, 250->254, 255, 257, 261, 263, 268-269, 274-275, 278-279, 283, 286-290, 295, 299, 305-306, 310, 314, 318
src\ordinis\analysis\technical\indicators\moving_averages.py                 103     49     20      1  52.85%   58, 91-92, 112-115, 132-134, 151-154, 171-178, 197-213, 231-269, 320->323
src\ordinis\analysis\technical\indicators\oscillators.py                     124     63     18      1  43.66%   141-148, 170-174, 190, 219-237, 260-273, 299-304, 338-362, 390-414
src\ordinis\analysis\technical\indicators\static_levels.py                    76     44      6      0  39.02%   82-105, 143-166, 207-217, 252-263, 299-311
src\ordinis\analysis\technical\indicators\trend.py                           167     93     48      7  39.53%   94-143, 161-185, 225-280, 303-320, 384, 390->399, 394, 396, 400->408, 402->408, 421
src\ordinis\analysis\technical\indicators\volatility.py                      115     30     18      7  69.17%   148-154, 174-178, 201->204, 226-231, 261, 263, 316-317, 323, 325, 329, 355-367
src\ordinis\analysis\technical\indicators\volume.py                          102     48     26      5  46.09%   81-87, 110-114, 141-156, 174-175, 191-193, 213-224, 243-253, 304-307, 311->321, 316, 318, 324-327
src\ordinis\analysis\technical\multi_timeframe.py                             52      4     18      4  88.57%   57, 79, 101, 106
src\ordinis\analysis\technical\patterns\__init__.py                            4      0      0      0 100.00%
src\ordinis\analysis\technical\patterns\breakout.py                           22      1      6      1  92.86%   41
src\ordinis\analysis\technical\patterns\candlestick.py                       167      9     26      9  90.67%   41, 137, 149, 161, 174, 187, 199, 261, 276
src\ordinis\analysis\technical\patterns\support_resistance.py                 37      1     14      1  96.08%   44
src\ordinis\application\__init__.py                                            3      0      0      0 100.00%
src\ordinis\application\services\__init__.py                                   3      0      0      0 100.00%
src\ordinis\application\services\orchestrator.py                             266     58     86     36  72.73%   134, 151-152, 164, 183, 186->190, 190->194, 206-210, 230, 233-234, 242->251, 257->261, 261->265, 265->268, 274-277, 293-301, 311, 319-321, 327-328, 331, 334, 349-351, 355->exit, 357, 359, 361, 366->exit, 369, 377, 381->exit, 385->exit, 392->exit, 398->exit, 418->422, 423-431, 437->exit, 442->448, 445, 448->437, 453-454, 469-478, 485->exit, 491-492, 524, 526->531
src\ordinis\application\services\reconciliation.py                           134     89     42      0  25.57%   72, 77, 81, 135-138, 154-223, 237-291, 308-353, 372-396
src\ordinis\application\strategies\__init__.py                                11      0      0      0 100.00%
src\ordinis\application\strategies\adx_filtered_rsi.py                        41     30     12      0  20.75%   66-97, 111-196, 201
src\ordinis\application\strategies\base.py                                    23      0      6      0 100.00%
src\ordinis\application\strategies\bollinger_bands.py                         41      0      8      1  97.96%   73->93
src\ordinis\application\strategies\bollinger_rsi_confluence.py                47      4      8      2  89.09%   110->129, 123-124, 131-132
src\ordinis\application\strategies\fibonacci_adx.py                           44     33      8      0  21.15%   65-96, 110-187, 192
src\ordinis\application\strategies\macd.py                                    41      2      8      2  91.84%   78->99, 96-97
src\ordinis\application\strategies\momentum_breakout.py                       77      0     18      0 100.00%
src\ordinis\application\strategies\moving_average_crossover.py                41      5     10      3  84.31%   80, 101, 124, 146-147
src\ordinis\application\strategies\options\__init__.py                         4      0      0      0 100.00%
src\ordinis\application\strategies\options\covered_call.py                    58     12      6      2  78.12%   93, 100-156
src\ordinis\application\strategies\options\iron_condor.py                    126     86     16      0  28.17%   130-151, 172-236, 253-381, 418-430, 441, 450
src\ordinis\application\strategies\options\married_put.py                     71     47      8      0  30.38%   68-75, 97-117, 126, 157-190, 234-255, 283-294
src\ordinis\application\strategies\parabolic_sar_trend.py                     34     25      8      0  21.43%   45-61, 75-103
src\ordinis\application\strategies\regime_adaptive\__init__.py                 6      6      0      0   0.00%   12-42
src\ordinis\application\strategies\regime_adaptive\adaptive_manager.py       159    159     50      0   0.00%   20-457
src\ordinis\application\strategies\regime_adaptive\mean_reversion.py         224    224     64      0   0.00%   19-499
src\ordinis\application\strategies\regime_adaptive\regime_detector.py        173    173     48      0   0.00%   19-430
src\ordinis\application\strategies\regime_adaptive\trend_following.py        233    233     52      0   0.00%   15-469
src\ordinis\application\strategies\regime_adaptive\volatility_trading.py     241    241     60      0   0.00%   20-482
src\ordinis\application\strategies\rsi_mean_reversion.py                      29      0      2      0 100.00%
src\ordinis\backtesting\__init__.py                                            5      0      0      0 100.00%
src\ordinis\backtesting\cli.py                                                45     45      0      0   0.00%   4-72
src\ordinis\backtesting\data_adapter.py                                       71     11     28      6  82.83%   41-43, 53-54, 60-61, 124, 142, 144, 169-171
src\ordinis\backtesting\metrics.py                                            85     50     18      0  33.98%   66-76, 89-102, 118-146, 160-172, 188-208
src\ordinis\backtesting\runner.py                                            154     88     48      2  33.66%   136->138, 138->exit, 150-335, 340-360, 372-373, 385
src\ordinis\backtesting\signal_runner.py                                      65     15     24      4  74.16%   64, 84-86, 123-125, 137, 142-150, 156, 160, 164-165
src\ordinis\benchmark\__init__.py                                              0      0      0      0 100.00%
src\ordinis\benchmark\harness.py                                              99     31     28      8  64.57%   45, 61, 79, 86->106, 90-93, 107->112, 126-130, 137-152, 156-182
src\ordinis\bus\__init__.py                                                    4      0      0      0 100.00%
src\ordinis\bus\adapters\redis_adapter.py                                     34      9      4      1  68.42%   37, 57-59, 65-70
src\ordinis\bus\config.py                                                     40      1      8      1  95.83%   71
src\ordinis\bus\engine.py                                                    180     11     62      4  93.80%   108-111, 112->118, 135-138, 176->exit, 263-265, 266->269, 296->299
src\ordinis\bus\models.py                                                     92      0     12      0 100.00%
src\ordinis\core\__init__.py                                                   4      0      0      0 100.00%
src\ordinis\core\container.py                                                115      8     32      3  92.52%   87-94, 130, 133, 270-281
src\ordinis\core\dual_write.py                                               245    140     34      3  39.43%   173-174, 181-185, 231, 247, 263, 289-412, 418->exit, 465-466, 470-492, 496-503, 507-534, 538-570, 577-583, 592-612, 632-642
src\ordinis\core\logging.py                                                   54      0     14      4  94.12%   47->51, 51->55, 81->84, 106->exit
src\ordinis\core\protocols\__init__.py                                         7      0      0      0 100.00%
src\ordinis\core\protocols\broker.py                                           2      0      0      0 100.00%
src\ordinis\core\protocols\cost_model.py                                       2      0      0      0 100.00%
src\ordinis\core\protocols\event_bus.py                                        4      0      0      0 100.00%
src\ordinis\core\protocols\execution.py                                        2      0      0      0 100.00%
src\ordinis\core\protocols\fill_model.py                                       2      0      0      0 100.00%
src\ordinis\core\protocols\risk_policy.py                                      2      0      0      0 100.00%
src\ordinis\core\rate_limiter.py                                             191     18     42      6  86.27%   190-201, 230->238, 238->exit, 247, 329->332, 338-342, 371-372
src\ordinis\core\validation.py                                               194      0     88      0 100.00%
src\ordinis\dashboard\__init__.py                                              2      0      0      0 100.00%
src\ordinis\dashboard\trace_logger.py                                         56      3      4      1  93.33%   96, 111-112
src\ordinis\data\__init__.py                                                   2      2      0      0   0.00%   3-14
src\ordinis\data\live_pipeline.py                                            127    127     22      0   0.00%   3-348
src\ordinis\data\regime_cross_validator.py                                   154    154     30      0   0.00%   8-350
src\ordinis\data\training_data_generator.py                                  210    210     62      0   0.00%   14-444
src\ordinis\domain\__init__.py                                                 0      0      0      0 100.00%
src\ordinis\domain\enums.py                                                   31      0      0      0 100.00%
src\ordinis\domain\instruments.py                                             27      0      0      0 100.00%
src\ordinis\domain\market_data.py                                             13      0      0      0 100.00%
src\ordinis\domain\orders.py                                                 114      0     22      2  98.53%   193->198, 201->exit
src\ordinis\domain\positions.py                                               66      0      6      0 100.00%
src\ordinis\engines\__init__.py                                                2      0      0      0 100.00%
src\ordinis\engines\base\__init__.py                                           6      0      0      0 100.00%
src\ordinis\engines\base\config.py                                            45      0      2      0 100.00%
src\ordinis\engines\base\docs_generator.py                                   135      4     40      2  96.57%   98-100, 193
src\ordinis\engines\base\engine.py                                           141      1     26      1  98.80%   258
src\ordinis\engines\base\hooks.py                                             87      2      8      0  97.89%   55, 60
src\ordinis\engines\base\models.py                                            62      0      2      0 100.00%
src\ordinis\engines\base\requirements.py                                     131      0     16      0 100.00%
src\ordinis\engines\base\templates\__init__.py                                10      0      2      0 100.00%
src\ordinis\engines\cortex\__init__.py                                         3      0      0      0 100.00%
src\ordinis\engines\cortex\__main__.py                                         1      1      0      0   0.00%   9
src\ordinis\engines\cortex\analyze_code_mock.py                               77     77     36      0   0.00%   11-177
src\ordinis\engines\cortex\cli.py                                            136    136     48      0   0.00%   12-307
src\ordinis\engines\cortex\core\__init__.py                                    4      0      0      0 100.00%
src\ordinis\engines\cortex\core\confidence.py                                100     49     10      0  46.36%   56, 73, 78, 171-224, 230-232, 247-267, 280-290, 294-297, 302
src\ordinis\engines\cortex\core\config.py                                     54     18     10      0  56.25%   118-137, 141-172
src\ordinis\engines\cortex\core\engine.py                                    364    298    100      1  14.44%   34-38, 59-61, 117, 141, 145-163, 167, 172-179, 191, 200-221, 230-260, 277-305, 309-315, 341-388, 415-498, 520-763, 769, 804, 840, 885-998, 1017-1102, 1113-1150, 1154, 1158, 1162-1164, 1178-1197, 1202, 1206
src\ordinis\engines\cortex\core\nvidia_adapter.py                             72     72     14      0   0.00%   8-200
src\ordinis\engines\cortex\core\outputs.py                                    70      4      2      0  91.67%   156-157, 161, 218
src\ordinis\engines\cortex\core\types.py                                      94     94      0      0   0.00%   8-199
src\ordinis\engines\cortex\rag\__init__.py                                     2      0      0      0 100.00%
src\ordinis\engines\cortex\rag\integration.py                                 81     66     32      0  13.27%   24-25, 44-51, 70-77, 96-109, 130-136, 158-177, 194-202, 206-214, 218-235, 239-247, 251-259
src\ordinis\engines\flowroute\__init__.py                                      7      0      0      0 100.00%
src\ordinis\engines\flowroute\adapters\__init__.py                            11      7      4      0  26.67%   19-27
src\ordinis\engines\flowroute\adapters\alpaca.py                              88     88     10      0   0.00%   7-238
src\ordinis\engines\flowroute\adapters\alpaca_data.py                        109     87     22      0  16.79%   52-70, 82-99, 111-131, 154-211, 225-256, 260-263, 282-296, 307-317, 323-343
src\ordinis\engines\flowroute\adapters\massive_data.py                        68     68     18      0   0.00%   5-99
src\ordinis\engines\flowroute\adapters\paper.py                              140     64     44      1  48.37%   75-101, 270, 289-317, 326-359, 372-393
src\ordinis\engines\flowroute\circuit_breaker.py                             191    122     42      0  29.61%   91-95, 99, 132-156, 161, 166, 171, 180-191, 200-214, 224-257, 269-278, 290-291, 304, 316-325, 333-338, 342-363, 367-382, 386-404, 408-416, 421-422, 426
src\ordinis\engines\flowroute\core\__init__.py                                 5      0      0      0 100.00%
src\ordinis\engines\flowroute\core\engine.py                                 378    152    128     23  56.32%   160->167, 180, 200, 222-248, 288, 300-302, 400-463, 480-489, 494-500, 503, 511-515, 525, 561-584, 635-715, 736, 739, 759->763, 767-771, 796-797, 821, 831, 840-875, 894, 915-918, 938-941, 950-1007, 1014-1023, 1036-1055, 1075->1074
src\ordinis\engines\flowroute\core\orders.py                                  18      0      0      0 100.00%
src\ordinis\engines\flowroute\execution\__init__.py                            3      3      0      0   0.00%   8-20
src\ordinis\engines\flowroute\execution\classical_algorithms.py              128    128     20      0   0.00%   9-467
src\ordinis\engines\flowroute\execution\tensortrade_executor.py              126    126     22      0   0.00%   7-395
src\ordinis\engines\flowroute\portfolio_manager.py                           114      5     50      5  93.90%   77->81, 111->105, 186-188, 253, 289
src\ordinis\engines\flowroute\reconciliation.py                              139     98     36      0  23.43%   54-70, 76, 116-125, 129-135, 139-149, 160-228, 245-291, 295-299, 303-317, 321, 325, 329, 333
src\ordinis\engines\flowroute\strategies\__init__.py                           6      0      0      0 100.00%
src\ordinis\engines\flowroute\strategies\base.py                              28      0      0      0 100.00%
src\ordinis\engines\flowroute\strategies\breakout.py                          47      1     12      1  96.61%   41
src\ordinis\engines\flowroute\strategies\ma_crossover.py                      44      1     12      1  96.43%   41
src\ordinis\engines\flowroute\strategies\rsi_mean_reversion.py                61      2     20      2  95.06%   63, 78
src\ordinis\engines\flowroute\strategies\vwap.py                              56      1     14      1  97.14%   66
src\ordinis\engines\governance\__init__.py                                     3      0      0      0 100.00%
src\ordinis\engines\governance\core\__init__.py                                7      0      0      0 100.00%
src\ordinis\engines\governance\core\audit.py                                 166     21     44     12  82.38%   279, 286, 292, 304, 308, 319-324, 339, 355, 359, 365, 371, 407, 409, 419-420, 457, 504, 526
src\ordinis\engines\governance\core\broker_compliance.py                     195     15     42      5  89.03%   116-117, 170-171, 316-340, 355, 412, 683-688, 725-726
src\ordinis\engines\governance\core\config.py                                 32     12     10      0  47.62%   75-92
src\ordinis\engines\governance\core\engine.py                                159    125     70      0  14.85%   72-78, 85-124, 134-140, 153-154, 169-198, 202-228, 232, 240-254, 303-326, 345-358, 369-372, 386-389, 400-402, 418-420, 436-438, 446-448, 466-468, 486-488, 493-495, 500-502, 507-509, 517-535
src\ordinis\engines\governance\core\ethics.py                                266     41     74     18  80.29%   301, 307, 313, 323->327, 376, 461-467, 472-478, 483-489, 494, 617-628, 645-650, 664-669, 677-682, 724, 728-734, 738, 742->exit, 775, 777, 785->787
src\ordinis\engines\governance\core\governance.py                            314     75     82     11  71.21%   331-340, 353, 357-366, 370, 388->391, 391->394, 438->440, 440->444, 455-456, 460->467, 470->468, 527-530, 538-539, 611-627, 639-671, 680-700, 709-729, 737-738, 744, 752, 778, 780, 873, 880, 885, 890
src\ordinis\engines\governance\core\ppi.py                                   240     36     96     18  79.17%   225->227, 229->231, 268, 309->312, 351-364, 393-396, 427-438, 444, 457-462, 483->486, 491, 516, 518, 531-532, 543, 545
src\ordinis\engines\learning\__init__.py                                       4      0      0      0 100.00%
src\ordinis\engines\learning\collectors\__init__.py                            2      0      0      0 100.00%
src\ordinis\engines\learning\collectors\feedback.py                          412    194    104     12  48.06%   73, 178, 181->exit, 187, 191, 207->215, 211-213, 218, 224-229, 348, 373-399, 529-545, 549-555, 625->exit, 660-688, 708-731, 761-788, 810-831, 853-880, 926-940, 989-1007, 1044-1067, 1200-1236, 1271-1294, 1312-1333, 1360-1386, 1412-1448, 1467-1495, 1505, 1509, 1513, 1519-1557, 1561-1568, 1585-1609, 1620-1640, 1672-1720, 1739-1768, 1795-1854, 1875-1904, 1919-1927
src\ordinis\engines\learning\core\__init__.py                                  5      0      0      0 100.00%
src\ordinis\engines\learning\core\config.py                                   50      0     16      0 100.00%
src\ordinis\engines\learning\core\engine.py                                  228     34     96     14  80.86%   96->98, 147-156, 212, 214, 223->228, 228->exit, 267, 293, 305->319, 437->453, 565, 626->exit, 636, 641->640, 650-664, 668-689, 693-695, 699-704
src\ordinis\engines\learning\core\evaluator.py                               149     94     44      0  28.50%   80, 133, 158-195, 200-202, 206-212, 216-222, 226-228, 232-235, 239-242, 246-250, 254-256, 265-300, 323-337
src\ordinis\engines\learning\core\models.py                                  103      0      0      0 100.00%
src\ordinis\engines\learning\hooks\__init__.py                                 2      0      0      0 100.00%
src\ordinis\engines\learning\hooks\governance.py                              62     38     20      0  29.27%   34-42, 55-62, 81-84, 99-127, 140-141, 150, 154
src\ordinis\engines\learning\training\__init__.py                              1      1      0      0   0.00%   7
src\ordinis\engines\optionscore\__init__.py                                    5      0      0      0 100.00%
src\ordinis\engines\optionscore\core\__init__.py                               4      0      0      0 100.00%
src\ordinis\engines\optionscore\core\config.py                                26      0     10      0 100.00%
src\ordinis\engines\optionscore\core\engine.py                                85      6     26      4  90.99%   154, 165, 180-181, 216, 271
src\ordinis\engines\optionscore\core\enrichment.py                            91      3      8      1  95.96%   194, 300-303
src\ordinis\engines\optionscore\data\__init__.py                             122     37     22      3  61.11%   81, 83, 85, 100-102, 114-116, 128-130, 142, 170-173, 183-187, 197-198, 208-210, 240-241, 245, 250, 260, 265, 270, 275, 280, 284, 293
src\ordinis\engines\optionscore\pricing\__init__.py                            3      0      0      0 100.00%
src\ordinis\engines\optionscore\pricing\black_scholes.py                      77     25     30      9  60.75%   53, 55, 57, 59, 92, 109, 136, 167, 193, 219-251
src\ordinis\engines\optionscore\pricing\greeks.py                             89     21     26      8  71.30%   52, 66, 87, 106, 125, 156, 173, 184, 253-269
src\ordinis\engines\orchestration\__init__.py                                  3      0      0      0 100.00%
src\ordinis\engines\orchestration\core\__init__.py                             4      0      0      0 100.00%
src\ordinis\engines\orchestration\core\config.py                              39      0     10      0 100.00%
src\ordinis\engines\orchestration\core\engine.py                             226     18     70     12  88.51%   252->254, 254->256, 308-313, 317-327, 418->432, 455-466, 469->480, 491, 510, 514->exit, 552->539, 578->581
src\ordinis\engines\orchestration\core\models.py                              96      0     12      1  99.07%   91->exit
src\ordinis\engines\orchestration\hooks\__init__.py                            2      0      0      0 100.00%
src\ordinis\engines\orchestration\hooks\governance.py                         51     29     12      0  34.92%   35, 47-51, 70-73, 88-114, 127-128, 137, 141
src\ordinis\engines\portfolio\__init__.py                                      7      0      0      0 100.00%
src\ordinis\engines\portfolio\adapters\__init__.py                             2      0      0      0 100.00%
src\ordinis\engines\portfolio\adapters\portfolioopt_adapter.py               198     81     66      5  50.00%   112, 143-158, 263-291, 310-323, 371, 376-379, 418, 435, 475-514, 538-554, 565-567, 578-598, 612-613, 617-621
src\ordinis\engines\portfolio\assets\__init__.py                               2      0      0      0 100.00%
src\ordinis\engines\portfolio\assets\instrument_types.py                     274     44     64     21  75.44%   121, 134-135, 161, 163->165, 165->exit, 172, 179-180, 214, 236, 243, 251, 297, 435, 438, 442, 463, 476, 488->491, 507-520, 539, 549, 560, 594-608, 670, 693, 697, 722-723, 732
src\ordinis\engines\portfolio\core\__init__.py                                 4      0      0      0 100.00%
src\ordinis\engines\portfolio\core\config.py                                  77     20     18      0  60.00%   172-202
src\ordinis\engines\portfolio\core\engine.py                                 331    167    128     24  44.88%   145, 155-176, 182-187, 198, 201->203, 203->207, 223-235, 243->267, 253-264, 319, 352, 360-374, 401, 406->exit, 427, 458-479, 499->514, 514->528, 548-554, 576, 601-602, 624->626, 633-636, 646->650, 675, 703-727, 731-732, 740, 748-758, 762->exit, 764, 776, 784, 804-813, 827-839, 861-869, 885-895, 909-915, 938-997, 1013-1036, 1054-1062, 1093-1105, 1124-1127, 1141-1152
src\ordinis\engines\portfolio\core\models.py                                  25      0      0      0 100.00%
src\ordinis\engines\portfolio\costs\__init__.py                                2      0      0      0 100.00%
src\ordinis\engines\portfolio\costs\transaction_cost_model.py                155     36     24      3  70.39%   250, 261, 300-315, 382-395, 465-480, 501, 529-534, 556-563
src\ordinis\engines\portfolio\engine.py                                      109      2     24      4  95.49%   197->212, 250-251, 323->326, 347->351
src\ordinis\engines\portfolio\events.py                                       80      5     26      3  90.57%   130, 145->exit, 154-155, 167-169, 189->exit
src\ordinis\engines\portfolio\feedback\__init__.py                             2      0      0      0 100.00%
src\ordinis\engines\portfolio\feedback\execution_feedback.py                 177     25     50     15  81.50%   83->87, 88, 98, 100, 107, 156, 158, 160, 290-292, 378, 387, 427, 453, 510-515, 537-540, 562, 576
src\ordinis\engines\portfolio\hooks\__init__.py                                2      0      0      0 100.00%
src\ordinis\engines\portfolio\hooks\enhanced_governance.py                   239     36     98     22  79.23%   60, 101, 108, 148, 197, 203, 209, 292, 311, 316, 324, 331, 334->343, 344-350, 356, 397-398, 399->401, 413, 437-444, 483->485, 486, 518-531, 583-585, 639
src\ordinis\engines\portfolio\hooks\governance.py                             90     58     28      0  27.12%   60-86, 115-121, 145-158, 166, 202-207, 218-242, 255-257, 273-275, 279, 287, 298-300, 308
src\ordinis\engines\portfolio\hooks\regime_sizing.py                         151     86     60      1  34.12%   152-154, 213-215, 234, 250-311, 325-336, 347-349, 353, 361-370, 398-399, 411-441, 454-456
src\ordinis\engines\portfolio\integration.py                                  90     10     24      5  85.09%   22-23, 31-32, 74, 162, 181-191, 357->359, 359->362, 407->406
src\ordinis\engines\portfolio\risk\__init__.py                                 2      0      0      0 100.00%
src\ordinis\engines\portfolio\risk\attribution_engine.py                     218     29     40      6  82.56%   275-277, 302, 370-371, 409->425, 426, 442-445, 456-497, 574->577
src\ordinis\engines\portfolio\risk_parity.py                                  78      0     16      0 100.00%
src\ordinis\engines\portfolio\signal_driven.py                               127      5     36      5  93.87%   151, 192, 210, 232, 241
src\ordinis\engines\portfolio\sizing.py                                      302    127     46      4  52.59%   180->182, 200->202, 212->214, 253-257, 288-297, 353-384, 411-430, 460-462, 466, 486-512, 523-537, 541-543, 550-574, 594-598, 602, 606, 610, 619-631, 641-653, 670-743, 755
src\ordinis\engines\portfolio\state\__init__.py                                2      0      0      0 100.00%
src\ordinis\engines\portfolio\state\portfolio_state.py                       227     38     48     11  78.55%   196, 297, 367, 379, 399, 402, 413, 457-460, 484-494, 531->533, 541-546, 550-564, 573, 577, 594->exit, 623
src\ordinis\engines\portfolio\strategies\__init__.py                           5      0      0      0 100.00%
src\ordinis\engines\portfolio\strategies\risk_parity.py                       78     52     16      0  27.66%   100-112, 131-166, 190-209, 230-275, 290-304
src\ordinis\engines\portfolio\strategies\signal_driven.py                    127     84     36      2  27.61%   42, 44, 142-158, 175-216, 227-234, 238-244, 249-255, 274-293, 314-361, 376-390
src\ordinis\engines\portfolio\strategies\target_allocation.py                 57     14     10      3  71.64%   29, 93, 110-125, 141-143, 173, 222-234
src\ordinis\engines\portfolio\strategies\threshold_based.py                  106     68     34      0  27.14%   34-41, 137-151, 170-228, 246-247, 268-324, 338-353, 368-381
src\ordinis\engines\portfolio\target_allocation.py                            57      0     10      0 100.00%
src\ordinis\engines\portfolio\threshold_based.py                             106      1     34      1  98.57%   309
src\ordinis\engines\portfolioopt\__init__.py                                   3      0      0      0 100.00%
src\ordinis\engines\portfolioopt\cli.py                                       25     25      2      0   0.00%   1-67
src\ordinis\engines\portfolioopt\core\__init__.py                              3      0      0      0 100.00%
src\ordinis\engines\portfolioopt\core\config.py                               43      0     16      0 100.00%
src\ordinis\engines\portfolioopt\core\engine.py                              121      0     24      1  99.31%   287->298
src\ordinis\engines\portfolioopt\hooks\__init__.py                             2      0      0      0 100.00%
src\ordinis\engines\portfolioopt\hooks\governance.py                          83      5     32      1  94.78%   108-112, 157->164
src\ordinis\engines\portfolioopt\optimizer.py                                 58     24     10      3  57.35%   18-51, 81-82, 92, 113
src\ordinis\engines\proofbench\__init__.py                                     6      0      0      0 100.00%
src\ordinis\engines\proofbench\analytics\__init__.py                           5      0      0      0 100.00%
src\ordinis\engines\proofbench\analytics\llm_enhanced.py                     126     30     36     12  74.07%   24-26, 49, 52, 74->80, 77-78, 81, 120-122, 150->156, 153-154, 157, 184-186, 212->218, 215-216, 219, 241-250, 269->275, 272-273, 276, 291, 309->315, 312-313, 316, 342-344
src\ordinis\engines\proofbench\analytics\monte_carlo.py                       39      2      8      2  91.49%   30, 42
src\ordinis\engines\proofbench\analytics\performance.py                      166     11     36     10  89.60%   131, 225, 232, 250, 269, 278, 321, 350, 404, 461, 492
src\ordinis\engines\proofbench\analytics\walk_forward.py                      38      3      8      3  86.96%   24, 54, 58
src\ordinis\engines\proofbench\core\__init__.py                                8      0      0      0 100.00%
src\ordinis\engines\proofbench\core\config.py                                 28      8      6      0  58.82%   62-73
src\ordinis\engines\proofbench\core\engine.py                                119     53     38      3  46.50%   101-110, 131-136, 150-153, 164-167, 185-237, 248-250, 258-260, 268-270, 278, 286-305, 324, 371, 380
src\ordinis\engines\proofbench\core\events.py                                 51      0      6      0 100.00%
src\ordinis\engines\proofbench\core\execution.py                             115     41     52      8  55.09%   55, 57, 59, 98-99, 103-110, 156-157, 188-207, 233-245, 262-282, 307, 314
src\ordinis\engines\proofbench\core\models.py                                 25      0      0      0 100.00%
src\ordinis\engines\proofbench\core\portfolio.py                             111     28     34      5  70.34%   24, 50, 59, 68, 120-124, 151->155, 175->192, 208-237, 278-279, 293-301, 309
src\ordinis\engines\proofbench\core\simulator.py                             175     15     68     18  85.60%   112, 134, 142, 174, 191, 194, 252->256, 257->exit, 259, 273, 280->exit, 302, 307->313, 315-316, 328-329, 333, 348->326, 379
src\ordinis\engines\proofbench\hooks\__init__.py                               2      0      0      0 100.00%
src\ordinis\engines\proofbench\hooks\governance.py                            86     54     26      0  28.57%   61-74, 100-116, 140-146, 181-187, 198-222, 235-237, 253-255, 259, 267, 278-280, 288
src\ordinis\engines\riskguard\__init__.py                                      6      0      0      0 100.00%
src\ordinis\engines\riskguard\core\__init__.py                                 3      0      0      0 100.00%
src\ordinis\engines\riskguard\core\engine.py                                 191     37     80      9  78.60%   67, 153, 171, 203-250, 330-349, 358-361, 483-485, 489-492, 531, 540->539, 543
src\ordinis\engines\riskguard\core\llm_enhanced.py                           121     46     38      9  57.86%   23-25, 63-69, 97-105, 130-174, 197, 200, 225->231, 228-229, 232, 255-257, 283->289, 286-287, 290, 320-329, 348->354, 351-352, 355, 371
src\ordinis\engines\riskguard\core\rules.py                                   58      3     14      1  91.67%   75-77
src\ordinis\engines\riskguard\hooks\__init__.py                                3      0      0      0 100.00%
src\ordinis\engines\riskguard\hooks\drawdown.py                               58      3     22      2  91.25%   116->122, 120->122, 196-197, 210
src\ordinis\engines\riskguard\hooks\limits.py                                 44      3     14      4  87.93%   86, 94->109, 110->122, 122->142, 155, 167
src\ordinis\engines\riskguard\models\__init__.py                               2      0      0      0 100.00%
src\ordinis\engines\riskguard\models\gsquant_risk.py                         219    155     46      0  24.15%   18-21, 108-110, 129-154, 175-202, 225-255, 303-311, 315-324, 343-346, 356-417, 440-450, 463-484, 488, 519-567, 571, 629-674, 678
src\ordinis\engines\riskguard\rules\__init__.py                                3      0      0      0 100.00%
src\ordinis\engines\riskguard\rules\futures.py                                 2      0      0      0 100.00%
src\ordinis\engines\riskguard\rules\standard.py                               64     58      0      0   9.38%   310-334, 343-367, 376-395, 404-423
src\ordinis\engines\riskguard\validate.py                                     36      0      6      0 100.00%
src\ordinis\engines\signalcore\__init__.py                                     6      0      0      0 100.00%
src\ordinis\engines\signalcore\core\__init__.py                                5      0      0      0 100.00%
src\ordinis\engines\signalcore\core\config.py                                 31     10      8      0  53.85%   69-83
src\ordinis\engines\signalcore\core\engine.py                                138     42     60     14  61.62%   86->exit, 142->exit, 155->exit, 187-199, 237-243, 267, 279, 308-310, 318-333, 342-343, 353-355, 360-365, 375, 387-389, 419-433, 443-454
src\ordinis\engines\signalcore\core\ensemble.py                               95     73     32      0  17.32%   42-73, 78-104, 124-148, 171-186, 208-227, 249-258
src\ordinis\engines\signalcore\core\model.py                                 139     56     32      2  60.23%   104, 152-171, 186-193, 205, 297, 323, 358-385, 398-427
src\ordinis\engines\signalcore\core\signal.py                                 66      5     12      2  91.03%   98, 102, 187, 191, 195
src\ordinis\engines\signalcore\features\__init__.py                            2      0      0      0 100.00%
src\ordinis\engines\signalcore\features\technical.py                          83     39      2      0  51.76%   73, 157-164, 181-183, 201-207, 224-245, 259-262, 285-295
src\ordinis\engines\signalcore\hooks\__init__.py                               4      0      0      0 100.00%
src\ordinis\engines\signalcore\hooks\governance.py                            77     46     20      0  31.96%   61-69, 93-99, 123-134, 169-175, 186-210, 223-225, 241-243, 247, 255, 266-268, 276
src\ordinis\engines\signalcore\hooks\news.py                                 106     71     40      0  23.97%   92-109, 114, 122-123, 134-138, 147-148, 160-173, 184-206, 218-276, 290-291, 303
src\ordinis\engines\signalcore\hooks\regime.py                               126     31     52     12  69.10%   67, 157, 211-224, 251, 256->258, 260-262, 263->269, 264->266, 270-275, 277->280, 293, 311, 329, 340-343, 360-361, 374, 397-398
src\ordinis\engines\signalcore\models\__init__.py                             30      0      0      0 100.00%
src\ordinis\engines\signalcore\models\advanced_technical.py                  148     12     46     12  86.60%   102->107, 114, 148->161, 177->189, 184-186, 189->202, 202->212, 208-209, 249->259, 310-311, 385-386, 389-390
src\ordinis\engines\signalcore\models\adx_trend.py                           101     94     24      0   5.60%   46-56, 70-219
src\ordinis\engines\signalcore\models\algorithmic\__init__.py                  3      0      0      0 100.00%
src\ordinis\engines\signalcore\models\algorithmic\index_rebalance.py          46     20     18      5  48.44%   23->37, 43, 48, 56-57, 62-72, 82-89
src\ordinis\engines\signalcore\models\algorithmic\pairs_trading.py            48     15     16      8  64.06%   23->37, 43, 48, 56-57, 64, 73, 80-82, 84-86, 92-94
src\ordinis\engines\signalcore\models\atr_breakout.py                         68     60     14      0   9.76%   38-47, 61-161
src\ordinis\engines\signalcore\models\atr_optimized_rsi.py                   121      4     26      2  95.92%   148-153, 264->251
src\ordinis\engines\signalcore\models\bollinger_bands.py                      96     15     22      3  84.75%   123-134, 138-146, 202-203
src\ordinis\engines\signalcore\models\bollinger_rsi_confluence.py            104     22     26      8  73.85%   76, 80-81, 110, 143-144, 150-161, 171-174, 203-206, 217
src\ordinis\engines\signalcore\models\evt_risk_gate.py                       110     70     16      0  31.75%   77-80, 92, 104-110, 125-134, 148-153, 165-218, 241-243, 285-293, 305-322, 341-365
src\ordinis\engines\signalcore\models\fibonacci_retracement.py               105     97     30      0   5.93%   47-57, 71-238, 275-278
src\ordinis\engines\signalcore\models\forecasting\__init__.py                  3      3      0      0   0.00%   8-20
src\ordinis\engines\signalcore\models\forecasting\statsforecast_model.py     125    125     16      0   0.00%   7-411
src\ordinis\engines\signalcore\models\forecasting\volatility_model.py         88     88     14      0   0.00%   8-320
src\ordinis\engines\signalcore\models\fundamental\__init__.py                  3      0      0      0 100.00%
src\ordinis\engines\signalcore\models\fundamental\growth.py                   44      8     10      5  75.93%   28->43, 52, 61, 70-71, 103-104, 109-110
src\ordinis\engines\signalcore\models\fundamental\valuation.py                44      4     10      3  87.04%   28->43, 52, 64, 79-81
src\ordinis\engines\signalcore\models\fundamental_value.py                    47     40     12      0  11.86%   34-43, 57-110
src\ordinis\engines\signalcore\models\garch_breakout.py                      131    104     34      0  16.36%   62-75, 79-85, 89, 98-127, 131-133, 137-138, 142-151, 170-227, 263-349
src\ordinis\engines\signalcore\models\hmm_regime.py                          335    281    110      0  12.13%   85-94, 98, 102-110, 122-203, 215-243, 255-272, 277-320, 349-370, 375-376, 380-385, 389-398, 402-410, 427-494, 519-590, 623-646, 655-742
src\ordinis\engines\signalcore\models\kalman_hybrid.py                       179     64     50      2  56.33%   282-283, 307-308, 348-386, 400-493
src\ordinis\engines\signalcore\models\llm_enhanced.py                         78      8     14      3  88.04%   76->79, 93, 132-134, 158, 233-234, 279-280
src\ordinis\engines\signalcore\models\lstm_model.py                          120    100     32      0  13.16%   22-26, 29-33, 42-61, 68-92, 96-132, 136-178, 205-220, 233-269
src\ordinis\engines\signalcore\models\macd.py                                 93     11     20      4  86.73%   130-140, 190, 200-201, 209
src\ordinis\engines\signalcore\models\mean_reversion.py                       69      6     22      3  90.11%   129-130, 135-136, 138-139
src\ordinis\engines\signalcore\models\mi_ensemble.py                         252    104     80      4  51.20%   79, 125, 325->328, 366-451, 488-515, 525-618
src\ordinis\engines\signalcore\models\momentum_breakout.py                   113    103     26      0   7.19%   55-71, 75-83, 87-218, 242-244
src\ordinis\engines\signalcore\models\mtf_momentum.py                        150     61     42      3  52.08%   228-229, 233-234, 253-271, 311-318, 329-415
src\ordinis\engines\signalcore\models\multi_signal_confluence.py             135     19     18      5  81.70%   209, 287-289, 306-308, 330-337, 367-374
src\ordinis\engines\signalcore\models\network_parity.py                      277    228     90      0  13.35%   85-91, 103-121, 125-145, 149-175, 179-204, 208, 227-249, 253-290, 302-313, 342-362, 378-399, 408-417, 432-453, 482-528, 545-555, 571-632, 653-705
src\ordinis\engines\signalcore\models\options_signal.py                      183    140     52      0  18.30%   96-135, 139-147, 151-154, 169-179, 192-197, 201-222, 239-253, 271-289, 308-381
src\ordinis\engines\signalcore\models\ou_pairs.py                            175    129     42      0  21.20%   90-127, 143-165, 195-211, 233-271, 293-294, 317-361, 400-412, 423-527
src\ordinis\engines\signalcore\models\parabolic_sar.py                       129    122     44      0   4.05%   52-61, 75-260
src\ordinis\engines\signalcore\models\rsi_mean_reversion.py                   81     16     18      4  77.78%   68-69, 118-121, 125-139, 187
src\ordinis\engines\signalcore\models\rsi_volume_reversion.py                129    119     30      0   6.29%   66-92, 96-104, 119-293, 318-319
src\ordinis\engines\signalcore\models\sentiment\__init__.py                    2      0      0      0 100.00%
src\ordinis\engines\signalcore\models\sentiment\finbert_model.py             147    147     56      0   0.00%   8-424
src\ordinis\engines\signalcore\models\sentiment\news_sentiment.py             40     13     14      5  59.26%   25->39, 46, 51, 59-60, 65-71, 80-85
src\ordinis\engines\signalcore\models\sentiment_momentum.py                   45     38     10      0  12.73%   34-42, 56-111
src\ordinis\engines\signalcore\models\sma_crossover.py                        66     27     22      5  52.27%   72, 93-100, 106, 110-121, 136-150
src\ordinis\engines\signalcore\models\statistical_reversion.py                49     41     10      0  13.56%   38-47, 61-118
src\ordinis\engines\signalcore\models\technical.py                            39     30     16      0  16.36%   19-21, 25-29, 33-101
src\ordinis\engines\signalcore\models\trend_following.py                     117    107     30      0   6.80%   57-75, 79-87, 91-226, 250-254
src\ordinis\engines\signalcore\models\volume_trend.py                         51     43      8      0  13.56%   36-44, 58-114
src\ordinis\engines\signalcore\multi_strategy_loader.py                      183    183     60      0   0.00%   8-435
src\ordinis\engines\signalcore\regime_detector.py                            267    195     80      0  20.75%   64-66, 71, 77-79, 84-86, 91-93, 98-100, 105, 110-114, 164-165, 184-237, 264-289, 295-299, 311-367, 384-432, 456-460, 485-491, 495-569, 588-620
src\ordinis\engines\signalcore\strategy_loader.py                             73     57     18      0  17.58%   38-40, 52-86, 90, 94, 109-133, 137-149, 165-180
src\ordinis\engines\signalcore\train.py                                      155    155     64      0   0.00%   11-273
src\ordinis\engines\sprint\__init__.py                                         6      0      0      0 100.00%
src\ordinis\engines\sprint\core\__init__.py                                    0      0      0      0 100.00%
src\ordinis\engines\sprint\core\accelerator.py                               187     78     62     15  56.22%   19, 27, 57, 67-71, 74-77, 97-99, 109-114, 131-141, 157-159, 168-170, 214->218, 238-248, 260->266, 269->273, 276->294, 281, 304-335, 340-349, 353-355
src\ordinis\engines\sprint\core\optimizer.py                                 238    202     80      0  11.32%   65-70, 75-140, 149-161, 170-199, 218-248, 256-323, 332-364, 374-415
src\ordinis\engines\sprint\core\runner.py                                    977    888    304      0   6.95%   98, 128-148, 152-173, 184-324, 351-392, 404-545, 550-562, 566-635, 639-708, 720-896, 900-920, 932-1033, 1037-1054, 1066-1183, 1187-1201, 1213-1350, 1354-1380, 1384-1477, 1481-1496, 1500-1520, 1524-1585, 1602-1633, 1652-1725, 1742-1758, 1764-1837, 1841-1842, 1846-1847, 1851-1852, 1856-1857, 1861-1862, 1866-1867, 1871-1872, 1876-1877, 1881-1980, 1985-1989
src\ordinis\engines\sprint\strategies\__init__.py                             10      0      0      0 100.00%
src\ordinis\engines\sprint\viz\__init__.py                                   253    238     76      0   4.56%   19-33, 42-115, 123-179, 186-249, 256-371, 381-510, 518-527
src\ordinis\interface\__init__.py                                              1      0      0      0 100.00%
src\ordinis\interface\cli\__init__.py                                          2      0      0      0 100.00%
src\ordinis\interface\cli\__main__.py                                        247    165     54      3  32.23%   101-293, 298-311, 346, 386, 415-418, 428-562
src\ordinis\mcp\__init__.py                                                    2      0      0      0 100.00%
src\ordinis\mcp\__main__.py                                                    1      1      0      0   0.00%   11
src\ordinis\mcp\server.py                                                    412    180     84     16  53.23%   85-87, 99-101, 112-114, 128-130, 137->146, 143-144, 150-157, 186-228, 275, 305-306, 331, 339->350, 355, 365-369, 388-389, 422-423, 487-518, 552-572, 594-611, 632->639, 636->639, 673-674, 703->702, 724-725, 741-771, 789-839, 913-914, 938-970, 994-1013, 1037-1103, 1116-1144, 1152-1187, 1196-1209, 1217, 1300-1322, 1327-1328, 1342->1366, 1460-1475, 1483-1487, 1495-1508, 1521, 1557, 1589, 1627, 1663-1664, 1669-1675
src\ordinis\monitoring\__init__.py                                             3      3      0      0   0.00%   8-11
src\ordinis\monitoring\collectors.py                                         168    168     50      0   0.00%   8-401
src\ordinis\monitoring\metrics_exporter.py                                    79     79      4      0   0.00%   8-190
src\ordinis\optimizations\confidence_filter.py                               102     75     36      0  19.57%   65-89, 105-138, 160-170, 185-191, 195-204, 213-214, 229-236, 256-282
src\ordinis\orchestration\__init__.py                                          2      2      0      0   0.00%   3-9
src\ordinis\orchestration\pipeline.py                                         85     85     14      0   0.00%   7-288
src\ordinis\plugins\__init__.py                                                4      0      0      0 100.00%
src\ordinis\plugins\base.py                                                  106      4      6      3  93.75%   97, 135, 167, 172
src\ordinis\plugins\massive.py                                               158     26     36      9  77.84%   151-152, 160-162, 177-186, 212, 232, 246, 249-254, 301, 309-310, 336, 366-367, 398->395
src\ordinis\plugins\registry.py                                               63      0     10      0 100.00%
src\ordinis\quant\__init__.py                                                  3      0      0      0 100.00%
src\ordinis\quant\gs_quant_adapter.py                                        273     78    114     35  64.08%   75-83, 91-92, 94, 99, 101, 107-112, 115, 121, 127->129, 132, 137-147, 177, 187, 207, 211-215, 243, 268-272, 298-299, 335-336, 413, 418, 422->425, 452->455, 460, 466-467, 502-513, 538, 570-571, 603, 609, 615-616, 642, 645, 659, 683, 704, 724, 748
src\ordinis\quant\qpo_adapter.py                                              54     10     10      3  79.69%   64, 100, 136-158
src\ordinis\rag\__init__.py                                                    2      0      0      0 100.00%
src\ordinis\rag\api\__init__.py                                                1      0      0      0 100.00%
src\ordinis\rag\api\models.py                                                 36      0      0      0 100.00%
src\ordinis\rag\api\server.py                                                 63     63      4      0   0.00%   7-173
src\ordinis\rag\config.py                                                     36      0      2      0 100.00%
src\ordinis\rag\context\__init__.py                                            2      0      0      0 100.00%
src\ordinis\rag\context\assembler.py                                         241     61     62     14  73.27%   187-188, 195-196, 236->241, 250, 255, 273->282, 279, 316->307, 382-423, 427-464, 486->506, 488-504, 528->548, 530-546, 569->590, 571-588
src\ordinis\rag\embedders\__init__.py                                          4      0      0      0 100.00%
src\ordinis\rag\embedders\base.py                                              3      0      0      0 100.00%
src\ordinis\rag\embedders\code_embedder.py                                   111      8     34      5  91.03%   42->46, 122-123, 173-176, 191->exit, 200->exit, 203-204
src\ordinis\rag\embedders\text_embedder.py                                    88     40     24      4  55.36%   45-71, 79-90, 115-116, 124-132, 142, 156-159
src\ordinis\rag\pipeline\__init__.py                                           5      0      0      0 100.00%
src\ordinis\rag\pipeline\code_indexer.py                                      98      3     32      4  94.62%   52, 102-103, 177->174, 182->180, 204->174
src\ordinis\rag\pipeline\context_index.py                                     76      3     18      2  94.68%   34, 57-58, 105->104
src\ordinis\rag\pipeline\kb_indexer.py                                        83      2     14      1  96.91%   89-90, 147->154
src\ordinis\rag\pipeline\session_indexer.py                                  111      2     28      1  97.84%   98->104, 100-101
src\ordinis\rag\pipeline\trade_ingester.py                                   201     32     40      5  81.33%   133-134, 141-142, 181->185, 240-251, 422->exit, 426-427, 476-519
src\ordinis\rag\retrieval\__init__.py                                          3      0      0      0 100.00%
src\ordinis\rag\retrieval\engine.py                                          195    146     38      0  21.03%   20, 51, 64-80, 94-111, 116, 147-163, 185-230, 267-277, 290-300, 313-325, 333-335, 367-390, 400-404, 415-431, 453-479, 523-552, 565-596
src\ordinis\rag\retrieval\query_classifier.py                                 14      0      4      0 100.00%
src\ordinis\rag\synapse\__init__.py                                            0      0      0      0 100.00%
src\ordinis\rag\synapse\retrieve.py                                           21      0      2      0 100.00%
src\ordinis\rag\vectordb\__init__.py                                           3      0      0      0 100.00%
src\ordinis\rag\vectordb\base.py                                               3      0      0      0 100.00%
src\ordinis\rag\vectordb\chroma_client.py                                    192    139     34      0  23.45%   28, 75-79, 90, 101-107, 111-117, 133-140, 151-173, 195-232, 252-286, 304-312, 330-338, 349-371, 375-379, 387-390, 410-418, 429-443, 451-453, 460-461, 472-476, 485-489, 496-497, 501-513, 521, 533-544, 551-563, 567
src\ordinis\rag\vectordb\id_generator.py                                      66      0      4      0 100.00%
src\ordinis\rag\vectordb\schema.py                                            32      0      0      0 100.00%
src\ordinis\runtime\__init__.py                                                4      0      0      0 100.00%
src\ordinis\runtime\bootstrap.py                                             150     14     30      3  90.56%   109->116, 112-113, 119->125, 121-122, 130-131, 138-139, 147-148, 156-157, 202->225, 222-223
src\ordinis\runtime\config.py                                                122      0     10      0 100.00%
src\ordinis\runtime\deployment.py                                            311     60     66     15  75.86%   187->193, 197->exit, 200-201, 208-247, 261, 263-265, 273, 275, 279, 349-351, 358, 381-382, 394-397, 406, 467, 478-479, 497, 500->493, 511-513, 528-532, 600-601, 604, 607-608
src\ordinis\runtime\live_trading.py                                          210     68     66      7  66.30%   100-104, 221-222, 250->261, 274->283, 302, 309->293, 319->293, 323-324, 328-368, 379-468
src\ordinis\runtime\logging.py                                                44      0     10      0 100.00%
src\ordinis\safety\__init__.py                                                 3      0      0      0 100.00%
src\ordinis\safety\circuit_breaker.py                                        153      0     32      5  97.30%   143->151, 173->exit, 174->exit, 196->exit, 220->225
src\ordinis\safety\error_recovery.py                                         282     32     66     13  83.62%   348-349, 355->359, 381-385, 389-390, 418, 424-425, 432-433, 441->451, 445->451, 451->exit, 460, 465-466, 477-478, 487-489, 493, 497-508, 609, 614
src\ordinis\safety\kill_switch.py                                            190      9     46      2  95.34%   172-173, 259-260, 304-305, 351->exit, 362-364
src\ordinis\services\__init__.py                                               0      0      0      0 100.00%
src\ordinis\services\codegen\__init__.py                                       0      0      0      0 100.00%
src\ordinis\services\codegen\propose_change.py                                21      0      0      0 100.00%
src\ordinis\strategies\__init__.py                                             0      0      0      0 100.00%
src\ordinis\utils\__init__.py                                                  3      0      0      0 100.00%
src\ordinis\utils\env.py                                                      16      0      4      0 100.00%
src\ordinis\utils\paths.py                                                    20      0      6      0 100.00%
src\ordinis\visualization\__init__.py                                          3      0      0      0 100.00%
src\ordinis\visualization\charts.py                                           62      0     14      0 100.00%
src\ordinis\visualization\indicators.py                                      108     16     28      3  84.56%   177->180, 363-364, 385->397, 407->410, 496-537
-----------------------------------------------------------------------------------------------------------------------
TOTAL                                                                      38015  16084   9524    982  53.85%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml
Required test coverage of 45% reached. Total coverage: 53.85%
=========================== short test summary info ===========================
FAILED tests/test_rag/test_chroma_client_paths.py::test_chroma_client_resolves_relative_path
===== 1 failed, 3894 passed, 51 skipped, 24 warnings in 140.24s (0:02:20) =====
